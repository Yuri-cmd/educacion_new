/*************************************************************************
 *
 * FIG LABS CONFIDENTIAL
 * _____________________
 *
 *  [2015] Fig Labs, Inc.
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Fig Labs, Inc. and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Fig Labs, Inc. and its suppliers and
 * may be covered by U.S. and Foreign Patents, patents in process,
 * and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this
 * material is strictly forbidden unless prior written permission
 * is obtained from Fig Labs, Inc.
 */

!function (t) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else {
        var e;
        e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.EquEdit = t()
    }
}(function () {
    var define, module, exports;
    return function t(e, n, i) {
        function o(s, a) {
            if (!n[s]) {
                if (!e[s]) {
                    var l = "function" == typeof require && require;
                    if (!a && l) return l(s, !0);
                    if (r) return r(s, !0);
                    var c = new Error("Cannot find module '" + s + "'");
                    throw c.code = "MODULE_NOT_FOUND", c
                }
                var d = n[s] = {exports: {}};
                e[s][0].call(d.exports, function (t) {
                    var n = e[s][1][t];
                    return o(n ? n : t)
                }, d, d.exports, t, e, n, i)
            }
            return n[s].exports
        }

        for (var r = "function" == typeof require && require, s = 0; s < i.length; s++) o(i[s]);
        return o
    }({
        1: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/browserify/node_modules/browser-resolve/empty.js", "/node_modules/browserify/node_modules/browser-resolve")
        }, {_process: 6, buffer: 2}],
        2: [function (t, e, n) {
            (function (e, i, o, r, s, a, l, c, d) {
                function u() {
                    return o.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
                }

                function o(t) {
                    return this instanceof o ? (this.length = 0, this.parent = void 0, "number" == typeof t ? h(this, t) : "string" == typeof t ? p(this, t, arguments.length > 1 ? arguments[1] : "utf8") : f(this, t)) : arguments.length > 1 ? new o(t, arguments[1]) : new o(t)
                }

                function h(t, e) {
                    if (t = x(t, 0 > e ? 0 : 0 | E(e)), !o.TYPED_ARRAY_SUPPORT) for (var n = 0; e > n; n++) t[n] = 0;
                    return t
                }

                function p(t, e, n) {
                    ("string" != typeof n || "" === n) && (n = "utf8");
                    var i = 0 | S(e, n);
                    return t = x(t, i), t.write(e, n), t
                }

                function f(t, e) {
                    if (o.isBuffer(e)) return m(t, e);
                    if (nt(e)) return g(t, e);
                    if (null == e) throw new TypeError("must start with number, buffer, array or string");
                    if ("undefined" != typeof ArrayBuffer) {
                        if (e.buffer instanceof ArrayBuffer) return b(t, e);
                        if (e instanceof ArrayBuffer) return v(t, e)
                    }
                    return e.length ? y(t, e) : w(t, e)
                }

                function m(t, e) {
                    var n = 0 | E(e.length);
                    return t = x(t, n), e.copy(t, 0, 0, n), t
                }

                function g(t, e) {
                    var n = 0 | E(e.length);
                    t = x(t, n);
                    for (var i = 0; n > i; i += 1) t[i] = 255 & e[i];
                    return t
                }

                function b(t, e) {
                    var n = 0 | E(e.length);
                    t = x(t, n);
                    for (var i = 0; n > i; i += 1) t[i] = 255 & e[i];
                    return t
                }

                function v(t, e) {
                    return o.TYPED_ARRAY_SUPPORT ? (e.byteLength, t = o._augment(new Uint8Array(e))) : t = b(t, new Uint8Array(e)), t
                }

                function y(t, e) {
                    var n = 0 | E(e.length);
                    t = x(t, n);
                    for (var i = 0; n > i; i += 1) t[i] = 255 & e[i];
                    return t
                }

                function w(t, e) {
                    var n, i = 0;
                    "Buffer" === e.type && nt(e.data) && (n = e.data, i = 0 | E(n.length)), t = x(t, i);
                    for (var o = 0; i > o; o += 1) t[o] = 255 & n[o];
                    return t
                }

                function x(t, e) {
                    o.TYPED_ARRAY_SUPPORT ? t = o._augment(new Uint8Array(e)) : (t.length = e, t._isBuffer = !0);
                    var n = 0 !== e && e <= o.poolSize >>> 1;
                    return n && (t.parent = it), t
                }

                function E(t) {
                    if (t >= u()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + u().toString(16) + " bytes");
                    return 0 | t
                }

                function A(t, e) {
                    if (!(this instanceof A)) return new A(t, e);
                    var n = new o(t, e);
                    return delete n.parent, n
                }

                function S(t, e) {
                    "string" != typeof t && (t = "" + t);
                    var n = t.length;
                    if (0 === n) return 0;
                    for (var i = !1; ;) switch (e) {
                        case"ascii":
                        case"binary":
                        case"raw":
                        case"raws":
                            return n;
                        case"utf8":
                        case"utf-8":
                            return K(t).length;
                        case"ucs2":
                        case"ucs-2":
                        case"utf16le":
                        case"utf-16le":
                            return 2 * n;
                        case"hex":
                            return n >>> 1;
                        case"base64":
                            return Z(t).length;
                        default:
                            if (i) return K(t).length;
                            e = ("" + e).toLowerCase(), i = !0
                    }
                }

                function C(t, e, n) {
                    var i = !1;
                    if (e = 0 | e, n = void 0 === n || n === 1 / 0 ? this.length : 0 | n, t || (t = "utf8"), 0 > e && (e = 0), n > this.length && (n = this.length), e >= n) return "";
                    for (; ;) switch (t) {
                        case"hex":
                            return L(this, e, n);
                        case"utf8":
                        case"utf-8":
                            return O(this, e, n);
                        case"ascii":
                            return B(this, e, n);
                        case"binary":
                            return N(this, e, n);
                        case"base64":
                            return D(this, e, n);
                        case"ucs2":
                        case"ucs-2":
                        case"utf16le":
                        case"utf-16le":
                            return F(this, e, n);
                        default:
                            if (i) throw new TypeError("Unknown encoding: " + t);
                            t = (t + "").toLowerCase(), i = !0
                    }
                }

                function q(t, e, n, i) {
                    n = Number(n) || 0;
                    var o = t.length - n;
                    i ? (i = Number(i), i > o && (i = o)) : i = o;
                    var r = e.length;
                    if (r % 2 !== 0) throw new Error("Invalid hex string");
                    i > r / 2 && (i = r / 2);
                    for (var s = 0; i > s; s++) {
                        var a = parseInt(e.substr(2 * s, 2), 16);
                        if (isNaN(a)) throw new Error("Invalid hex string");
                        t[n + s] = a
                    }
                    return s
                }

                function k(t, e, n, i) {
                    return X(K(e, t.length - n), t, n, i)
                }

                function R(t, e, n, i) {
                    return X(Y(e), t, n, i)
                }

                function T(t, e, n, i) {
                    return R(t, e, n, i)
                }

                function _(t, e, n, i) {
                    return X(Z(e), t, n, i)
                }

                function I(t, e, n, i) {
                    return X(V(e, t.length - n), t, n, i)
                }

                function D(t, e, n) {
                    return tt.fromByteArray(0 === e && n === t.length ? t : t.slice(e, n))
                }

                function O(t, e, n) {
                    var i = "", o = "";
                    n = Math.min(t.length, n);
                    for (var r = e; n > r; r++) t[r] <= 127 ? (i += $(o) + String.fromCharCode(t[r]), o = "") : o += "%" + t[r].toString(16);
                    return i + $(o)
                }

                function B(t, e, n) {
                    var i = "";
                    n = Math.min(t.length, n);
                    for (var o = e; n > o; o++) i += String.fromCharCode(127 & t[o]);
                    return i
                }

                function N(t, e, n) {
                    var i = "";
                    n = Math.min(t.length, n);
                    for (var o = e; n > o; o++) i += String.fromCharCode(t[o]);
                    return i
                }

                function L(t, e, n) {
                    var i = t.length;
                    (!e || 0 > e) && (e = 0), (!n || 0 > n || n > i) && (n = i);
                    for (var o = "", r = e; n > r; r++) o += W(t[r]);
                    return o
                }

                function F(t, e, n) {
                    for (var i = t.slice(e, n), o = "", r = 0; r < i.length; r += 2) o += String.fromCharCode(i[r] + 256 * i[r + 1]);
                    return o
                }

                function U(t, e, n) {
                    if (t % 1 !== 0 || 0 > t) throw new RangeError("offset is not uint");
                    if (t + e > n) throw new RangeError("Trying to access beyond buffer length")
                }

                function M(t, e, n, i, r, s) {
                    if (!o.isBuffer(t)) throw new TypeError("buffer must be a Buffer instance");
                    if (e > r || s > e) throw new RangeError("value is out of bounds");
                    if (n + i > t.length) throw new RangeError("index out of range")
                }

                function P(t, e, n, i) {
                    0 > e && (e = 65535 + e + 1);
                    for (var o = 0, r = Math.min(t.length - n, 2); r > o; o++) t[n + o] = (e & 255 << 8 * (i ? o : 1 - o)) >>> 8 * (i ? o : 1 - o)
                }

                function G(t, e, n, i) {
                    0 > e && (e = 4294967295 + e + 1);
                    for (var o = 0, r = Math.min(t.length - n, 4); r > o; o++) t[n + o] = e >>> 8 * (i ? o : 3 - o) & 255
                }

                function j(t, e, n, i, o, r) {
                    if (e > o || r > e) throw new RangeError("value is out of bounds");
                    if (n + i > t.length) throw new RangeError("index out of range");
                    if (0 > n) throw new RangeError("index out of range")
                }

                function z(t, e, n, i, o) {
                    return o || j(t, e, n, 4, 3.4028234663852886e38, -3.4028234663852886e38), et.write(t, e, n, i, 23, 4), n + 4
                }

                function H(t, e, n, i, o) {
                    return o || j(t, e, n, 8, 1.7976931348623157e308, -1.7976931348623157e308), et.write(t, e, n, i, 52, 8), n + 8
                }

                function Q(t) {
                    if (t = J(t).replace(rt, ""), t.length < 2) return "";
                    for (; t.length % 4 !== 0;) t += "=";
                    return t
                }

                function J(t) {
                    return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
                }

                function W(t) {
                    return 16 > t ? "0" + t.toString(16) : t.toString(16)
                }

                function K(t, e) {
                    e = e || 1 / 0;
                    for (var n, i = t.length, o = null, r = [], s = 0; i > s; s++) {
                        if (n = t.charCodeAt(s), n > 55295 && 57344 > n) {
                            if (!o) {
                                if (n > 56319) {
                                    (e -= 3) > -1 && r.push(239, 191, 189);
                                    continue
                                }
                                if (s + 1 === i) {
                                    (e -= 3) > -1 && r.push(239, 191, 189);
                                    continue
                                }
                                o = n;
                                continue
                            }
                            if (56320 > n) {
                                (e -= 3) > -1 && r.push(239, 191, 189), o = n;
                                continue
                            }
                            n = o - 55296 << 10 | n - 56320 | 65536, o = null
                        } else o && ((e -= 3) > -1 && r.push(239, 191, 189), o = null);
                        if (128 > n) {
                            if ((e -= 1) < 0) break;
                            r.push(n)
                        } else if (2048 > n) {
                            if ((e -= 2) < 0) break;
                            r.push(n >> 6 | 192, 63 & n | 128)
                        } else if (65536 > n) {
                            if ((e -= 3) < 0) break;
                            r.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
                        } else {
                            if (!(2097152 > n)) throw new Error("Invalid code point");
                            if ((e -= 4) < 0) break;
                            r.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
                        }
                    }
                    return r
                }

                function Y(t) {
                    for (var e = [], n = 0; n < t.length; n++) e.push(255 & t.charCodeAt(n));
                    return e
                }

                function V(t, e) {
                    for (var n, i, o, r = [], s = 0; s < t.length && !((e -= 2) < 0); s++) n = t.charCodeAt(s), i = n >> 8, o = n % 256, r.push(o), r.push(i);
                    return r
                }

                function Z(t) {
                    return tt.toByteArray(Q(t))
                }

                function X(t, e, n, i) {
                    for (var o = 0; i > o && !(o + n >= e.length || o >= t.length); o++) e[o + n] = t[o];
                    return o
                }

                function $(t) {
                    try {
                        return decodeURIComponent(t)
                    } catch (e) {
                        return String.fromCharCode(65533)
                    }
                }

                var tt = t("base64-js"), et = t("ieee754"), nt = t("is-array");
                n.Buffer = o, n.SlowBuffer = A, n.INSPECT_MAX_BYTES = 50, o.poolSize = 8192;
                var it = {};
                o.TYPED_ARRAY_SUPPORT = function () {
                    function t() {
                    }

                    try {
                        var e = new Uint8Array(1);
                        return e.foo = function () {
                            return 42
                        }, e.constructor = t, 42 === e.foo() && e.constructor === t && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
                    } catch (n) {
                        return !1
                    }
                }(), o.isBuffer = function (t) {
                    return !(null == t || !t._isBuffer)
                }, o.compare = function (t, e) {
                    if (!o.isBuffer(t) || !o.isBuffer(e)) throw new TypeError("Arguments must be Buffers");
                    if (t === e) return 0;
                    for (var n = t.length, i = e.length, r = 0, s = Math.min(n, i); s > r && t[r] === e[r];) ++r;
                    return r !== s && (n = t[r], i = e[r]), i > n ? -1 : n > i ? 1 : 0
                }, o.isEncoding = function (t) {
                    switch (String(t).toLowerCase()) {
                        case"hex":
                        case"utf8":
                        case"utf-8":
                        case"ascii":
                        case"binary":
                        case"base64":
                        case"raw":
                        case"ucs2":
                        case"ucs-2":
                        case"utf16le":
                        case"utf-16le":
                            return !0;
                        default:
                            return !1
                    }
                }, o.concat = function (t, e) {
                    if (!nt(t)) throw new TypeError("list argument must be an Array of Buffers.");
                    if (0 === t.length) return new o(0);
                    var n;
                    if (void 0 === e) for (e = 0, n = 0; n < t.length; n++) e += t[n].length;
                    var i = new o(e), r = 0;
                    for (n = 0; n < t.length; n++) {
                        var s = t[n];
                        s.copy(i, r), r += s.length
                    }
                    return i
                }, o.byteLength = S, o.prototype.length = void 0, o.prototype.parent = void 0, o.prototype.toString = function () {
                    var t = 0 | this.length;
                    return 0 === t ? "" : 0 === arguments.length ? O(this, 0, t) : C.apply(this, arguments)
                }, o.prototype.equals = function (t) {
                    if (!o.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
                    return this === t ? !0 : 0 === o.compare(this, t)
                }, o.prototype.inspect = function () {
                    var t = "", e = n.INSPECT_MAX_BYTES;
                    return this.length > 0 && (t = this.toString("hex", 0, e).match(/.{2}/g).join(" "), this.length > e && (t += " ... ")), "<Buffer " + t + ">"
                }, o.prototype.compare = function (t) {
                    if (!o.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
                    return this === t ? 0 : o.compare(this, t)
                }, o.prototype.indexOf = function (t, e) {
                    function n(t, e, n) {
                        for (var i = -1, o = 0; n + o < t.length; o++) if (t[n + o] === e[-1 === i ? 0 : o - i]) {
                            if (-1 === i && (i = o), o - i + 1 === e.length) return n + i
                        } else i = -1;
                        return -1
                    }

                    if (e > 2147483647 ? e = 2147483647 : -2147483648 > e && (e = -2147483648), e >>= 0, 0 === this.length) return -1;
                    if (e >= this.length) return -1;
                    if (0 > e && (e = Math.max(this.length + e, 0)), "string" == typeof t) return 0 === t.length ? -1 : String.prototype.indexOf.call(this, t, e);
                    if (o.isBuffer(t)) return n(this, t, e);
                    if ("number" == typeof t) return o.TYPED_ARRAY_SUPPORT && "function" === Uint8Array.prototype.indexOf ? Uint8Array.prototype.indexOf.call(this, t, e) : n(this, [t], e);
                    throw new TypeError("val must be string, number or Buffer")
                }, o.prototype.get = function (t) {
                    return console.log(".get() is deprecated. Access using array indexes instead."), this.readUInt8(t)
                }, o.prototype.set = function (t, e) {
                    return console.log(".set() is deprecated. Access using array indexes instead."), this.writeUInt8(t, e)
                }, o.prototype.write = function (t, e, n, i) {
                    if (void 0 === e) i = "utf8", n = this.length, e = 0; else if (void 0 === n && "string" == typeof e) i = e, n = this.length, e = 0; else if (isFinite(e)) e = 0 | e, isFinite(n) ? (n = 0 | n, void 0 === i && (i = "utf8")) : (i = n, n = void 0); else {
                        var o = i;
                        i = e, e = 0 | n, n = o
                    }
                    var r = this.length - e;
                    if ((void 0 === n || n > r) && (n = r), t.length > 0 && (0 > n || 0 > e) || e > this.length) throw new RangeError("attempt to write outside buffer bounds");
                    i || (i = "utf8");
                    for (var s = !1; ;) switch (i) {
                        case"hex":
                            return q(this, t, e, n);
                        case"utf8":
                        case"utf-8":
                            return k(this, t, e, n);
                        case"ascii":
                            return R(this, t, e, n);
                        case"binary":
                            return T(this, t, e, n);
                        case"base64":
                            return _(this, t, e, n);
                        case"ucs2":
                        case"ucs-2":
                        case"utf16le":
                        case"utf-16le":
                            return I(this, t, e, n);
                        default:
                            if (s) throw new TypeError("Unknown encoding: " + i);
                            i = ("" + i).toLowerCase(), s = !0
                    }
                }, o.prototype.toJSON = function () {
                    return {type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0)}
                }, o.prototype.slice = function (t, e) {
                    var n = this.length;
                    t = ~~t, e = void 0 === e ? n : ~~e, 0 > t ? (t += n, 0 > t && (t = 0)) : t > n && (t = n), 0 > e ? (e += n, 0 > e && (e = 0)) : e > n && (e = n), t > e && (e = t);
                    var i;
                    if (o.TYPED_ARRAY_SUPPORT) i = o._augment(this.subarray(t, e)); else {
                        var r = e - t;
                        i = new o(r, void 0);
                        for (var s = 0; r > s; s++) i[s] = this[s + t]
                    }
                    return i.length && (i.parent = this.parent || this), i
                }, o.prototype.readUIntLE = function (t, e, n) {
                    t = 0 | t, e = 0 | e, n || U(t, e, this.length);
                    for (var i = this[t], o = 1, r = 0; ++r < e && (o *= 256);) i += this[t + r] * o;
                    return i
                }, o.prototype.readUIntBE = function (t, e, n) {
                    t = 0 | t, e = 0 | e, n || U(t, e, this.length);
                    for (var i = this[t + --e], o = 1; e > 0 && (o *= 256);) i += this[t + --e] * o;
                    return i
                }, o.prototype.readUInt8 = function (t, e) {
                    return e || U(t, 1, this.length), this[t]
                }, o.prototype.readUInt16LE = function (t, e) {
                    return e || U(t, 2, this.length), this[t] | this[t + 1] << 8
                }, o.prototype.readUInt16BE = function (t, e) {
                    return e || U(t, 2, this.length), this[t] << 8 | this[t + 1]
                }, o.prototype.readUInt32LE = function (t, e) {
                    return e || U(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[t + 3]
                }, o.prototype.readUInt32BE = function (t, e) {
                    return e || U(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3])
                }, o.prototype.readIntLE = function (t, e, n) {
                    t = 0 | t, e = 0 | e, n || U(t, e, this.length);
                    for (var i = this[t], o = 1, r = 0; ++r < e && (o *= 256);) i += this[t + r] * o;
                    return o *= 128, i >= o && (i -= Math.pow(2, 8 * e)), i
                }, o.prototype.readIntBE = function (t, e, n) {
                    t = 0 | t, e = 0 | e, n || U(t, e, this.length);
                    for (var i = e, o = 1, r = this[t + --i]; i > 0 && (o *= 256);) r += this[t + --i] * o;
                    return o *= 128, r >= o && (r -= Math.pow(2, 8 * e)), r
                }, o.prototype.readInt8 = function (t, e) {
                    return e || U(t, 1, this.length), 128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
                }, o.prototype.readInt16LE = function (t, e) {
                    e || U(t, 2, this.length);
                    var n = this[t] | this[t + 1] << 8;
                    return 32768 & n ? 4294901760 | n : n
                }, o.prototype.readInt16BE = function (t, e) {
                    e || U(t, 2, this.length);
                    var n = this[t + 1] | this[t] << 8;
                    return 32768 & n ? 4294901760 | n : n
                }, o.prototype.readInt32LE = function (t, e) {
                    return e || U(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24
                }, o.prototype.readInt32BE = function (t, e) {
                    return e || U(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]
                }, o.prototype.readFloatLE = function (t, e) {
                    return e || U(t, 4, this.length), et.read(this, t, !0, 23, 4)
                }, o.prototype.readFloatBE = function (t, e) {
                    return e || U(t, 4, this.length), et.read(this, t, !1, 23, 4)
                }, o.prototype.readDoubleLE = function (t, e) {
                    return e || U(t, 8, this.length), et.read(this, t, !0, 52, 8)
                }, o.prototype.readDoubleBE = function (t, e) {
                    return e || U(t, 8, this.length), et.read(this, t, !1, 52, 8)
                }, o.prototype.writeUIntLE = function (t, e, n, i) {
                    t = +t, e = 0 | e, n = 0 | n, i || M(this, t, e, n, Math.pow(2, 8 * n), 0);
                    var o = 1, r = 0;
                    for (this[e] = 255 & t; ++r < n && (o *= 256);) this[e + r] = t / o & 255;
                    return e + n
                }, o.prototype.writeUIntBE = function (t, e, n, i) {
                    t = +t, e = 0 | e, n = 0 | n, i || M(this, t, e, n, Math.pow(2, 8 * n), 0);
                    var o = n - 1, r = 1;
                    for (this[e + o] = 255 & t; --o >= 0 && (r *= 256);) this[e + o] = t / r & 255;
                    return e + n
                }, o.prototype.writeUInt8 = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 1, 255, 0), o.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), this[e] = t, e + 1
                }, o.prototype.writeUInt16LE = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 2, 65535, 0), o.TYPED_ARRAY_SUPPORT ? (this[e] = t, this[e + 1] = t >>> 8) : P(this, t, e, !0), e + 2
                }, o.prototype.writeUInt16BE = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 2, 65535, 0), o.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = t) : P(this, t, e, !1), e + 2
                }, o.prototype.writeUInt32LE = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 4, 4294967295, 0), o.TYPED_ARRAY_SUPPORT ? (this[e + 3] = t >>> 24, this[e + 2] = t >>> 16, this[e + 1] = t >>> 8, this[e] = t) : G(this, t, e, !0), e + 4
                }, o.prototype.writeUInt32BE = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 4, 4294967295, 0), o.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = t) : G(this, t, e, !1), e + 4
                }, o.prototype.writeIntLE = function (t, e, n, i) {
                    if (t = +t, e = 0 | e, !i) {
                        var o = Math.pow(2, 8 * n - 1);
                        M(this, t, e, n, o - 1, -o)
                    }
                    var r = 0, s = 1, a = 0 > t ? 1 : 0;
                    for (this[e] = 255 & t; ++r < n && (s *= 256);) this[e + r] = (t / s >> 0) - a & 255;
                    return e + n
                }, o.prototype.writeIntBE = function (t, e, n, i) {
                    if (t = +t, e = 0 | e, !i) {
                        var o = Math.pow(2, 8 * n - 1);
                        M(this, t, e, n, o - 1, -o)
                    }
                    var r = n - 1, s = 1, a = 0 > t ? 1 : 0;
                    for (this[e + r] = 255 & t; --r >= 0 && (s *= 256);) this[e + r] = (t / s >> 0) - a & 255;
                    return e + n
                }, o.prototype.writeInt8 = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 1, 127, -128), o.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), 0 > t && (t = 255 + t + 1), this[e] = t, e + 1
                }, o.prototype.writeInt16LE = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 2, 32767, -32768), o.TYPED_ARRAY_SUPPORT ? (this[e] = t, this[e + 1] = t >>> 8) : P(this, t, e, !0), e + 2
                }, o.prototype.writeInt16BE = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 2, 32767, -32768), o.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = t) : P(this, t, e, !1), e + 2
                }, o.prototype.writeInt32LE = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 4, 2147483647, -2147483648), o.TYPED_ARRAY_SUPPORT ? (this[e] = t, this[e + 1] = t >>> 8, this[e + 2] = t >>> 16, this[e + 3] = t >>> 24) : G(this, t, e, !0), e + 4
                }, o.prototype.writeInt32BE = function (t, e, n) {
                    return t = +t, e = 0 | e, n || M(this, t, e, 4, 2147483647, -2147483648), 0 > t && (t = 4294967295 + t + 1), o.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = t) : G(this, t, e, !1), e + 4
                }, o.prototype.writeFloatLE = function (t, e, n) {
                    return z(this, t, e, !0, n)
                }, o.prototype.writeFloatBE = function (t, e, n) {
                    return z(this, t, e, !1, n)
                }, o.prototype.writeDoubleLE = function (t, e, n) {
                    return H(this, t, e, !0, n)
                }, o.prototype.writeDoubleBE = function (t, e, n) {
                    return H(this, t, e, !1, n)
                }, o.prototype.copy = function (t, e, n, i) {
                    if (n || (n = 0), i || 0 === i || (i = this.length), e >= t.length && (e = t.length), e || (e = 0), i > 0 && n > i && (i = n), i === n) return 0;
                    if (0 === t.length || 0 === this.length) return 0;
                    if (0 > e) throw new RangeError("targetStart out of bounds");
                    if (0 > n || n >= this.length) throw new RangeError("sourceStart out of bounds");
                    if (0 > i) throw new RangeError("sourceEnd out of bounds");
                    i > this.length && (i = this.length), t.length - e < i - n && (i = t.length - e + n);
                    var r, s = i - n;
                    if (this === t && e > n && i > e) for (r = s - 1; r >= 0; r--) t[r + e] = this[r + n]; else if (1e3 > s || !o.TYPED_ARRAY_SUPPORT) for (r = 0; s > r; r++) t[r + e] = this[r + n]; else t._set(this.subarray(n, n + s), e);
                    return s
                }, o.prototype.fill = function (t, e, n) {
                    if (t || (t = 0), e || (e = 0), n || (n = this.length), e > n) throw new RangeError("end < start");
                    if (n !== e && 0 !== this.length) {
                        if (0 > e || e >= this.length) throw new RangeError("start out of bounds");
                        if (0 > n || n > this.length) throw new RangeError("end out of bounds");
                        var i;
                        if ("number" == typeof t) for (i = e; n > i; i++) this[i] = t; else {
                            var o = K(t.toString()), r = o.length;
                            for (i = e; n > i; i++) this[i] = o[i % r]
                        }
                        return this
                    }
                }, o.prototype.toArrayBuffer = function () {
                    if ("undefined" != typeof Uint8Array) {
                        if (o.TYPED_ARRAY_SUPPORT) return new o(this).buffer;
                        for (var t = new Uint8Array(this.length), e = 0, n = t.length; n > e; e += 1) t[e] = this[e];
                        return t.buffer
                    }
                    throw new TypeError("Buffer.toArrayBuffer not supported in this browser")
                };
                var ot = o.prototype;
                o._augment = function (t) {
                    return t.constructor = o, t._isBuffer = !0, t._set = t.set, t.get = ot.get, t.set = ot.set, t.write = ot.write, t.toString = ot.toString, t.toLocaleString = ot.toString, t.toJSON = ot.toJSON, t.equals = ot.equals, t.compare = ot.compare, t.indexOf = ot.indexOf, t.copy = ot.copy, t.slice = ot.slice, t.readUIntLE = ot.readUIntLE, t.readUIntBE = ot.readUIntBE, t.readUInt8 = ot.readUInt8, t.readUInt16LE = ot.readUInt16LE, t.readUInt16BE = ot.readUInt16BE, t.readUInt32LE = ot.readUInt32LE, t.readUInt32BE = ot.readUInt32BE, t.readIntLE = ot.readIntLE, t.readIntBE = ot.readIntBE, t.readInt8 = ot.readInt8, t.readInt16LE = ot.readInt16LE, t.readInt16BE = ot.readInt16BE, t.readInt32LE = ot.readInt32LE, t.readInt32BE = ot.readInt32BE, t.readFloatLE = ot.readFloatLE, t.readFloatBE = ot.readFloatBE, t.readDoubleLE = ot.readDoubleLE, t.readDoubleBE = ot.readDoubleBE, t.writeUInt8 = ot.writeUInt8, t.writeUIntLE = ot.writeUIntLE, t.writeUIntBE = ot.writeUIntBE, t.writeUInt16LE = ot.writeUInt16LE, t.writeUInt16BE = ot.writeUInt16BE, t.writeUInt32LE = ot.writeUInt32LE, t.writeUInt32BE = ot.writeUInt32BE, t.writeIntLE = ot.writeIntLE, t.writeIntBE = ot.writeIntBE, t.writeInt8 = ot.writeInt8, t.writeInt16LE = ot.writeInt16LE, t.writeInt16BE = ot.writeInt16BE, t.writeInt32LE = ot.writeInt32LE, t.writeInt32BE = ot.writeInt32BE, t.writeFloatLE = ot.writeFloatLE, t.writeFloatBE = ot.writeFloatBE, t.writeDoubleLE = ot.writeDoubleLE, t.writeDoubleBE = ot.writeDoubleBE, t.fill = ot.fill, t.inspect = ot.inspect, t.toArrayBuffer = ot.toArrayBuffer, t
                };
                var rt = /[^+\/0-9A-Za-z-_]/g
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/browserify/node_modules/buffer/index.js", "/node_modules/browserify/node_modules/buffer")
        }, {_process: 6, "base64-js": 3, buffer: 2, ieee754: 4, "is-array": 5}],
        3: [function (t, e, n) {
            (function (t, e, i, o, r, s, a, l, c) {
                var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
                !function (t) {
                    "use strict";

                    function e(t) {
                        var e = t.charCodeAt(0);
                        return e === r || e === u ? 62 : e === s || e === h ? 63 : a > e ? -1 : a + 10 > e ? e - a + 26 + 26 : c + 26 > e ? e - c : l + 26 > e ? e - l + 26 : void 0
                    }

                    function n(t) {
                        function n(t) {
                            c[u++] = t
                        }

                        var i, r, s, a, l, c;
                        if (t.length % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
                        var d = t.length;
                        l = "=" === t.charAt(d - 2) ? 2 : "=" === t.charAt(d - 1) ? 1 : 0, c = new o(3 * t.length / 4 - l), s = l > 0 ? t.length - 4 : t.length;
                        var u = 0;
                        for (i = 0, r = 0; s > i; i += 4, r += 3) a = e(t.charAt(i)) << 18 | e(t.charAt(i + 1)) << 12 | e(t.charAt(i + 2)) << 6 | e(t.charAt(i + 3)), n((16711680 & a) >> 16), n((65280 & a) >> 8), n(255 & a);
                        return 2 === l ? (a = e(t.charAt(i)) << 2 | e(t.charAt(i + 1)) >> 4, n(255 & a)) : 1 === l && (a = e(t.charAt(i)) << 10 | e(t.charAt(i + 1)) << 4 | e(t.charAt(i + 2)) >> 2, n(a >> 8 & 255), n(255 & a)), c
                    }

                    function i(t) {
                        function e(t) {
                            return d.charAt(t)
                        }

                        function n(t) {
                            return e(t >> 18 & 63) + e(t >> 12 & 63) + e(t >> 6 & 63) + e(63 & t)
                        }

                        var i, o, r, s = t.length % 3, a = "";
                        for (i = 0, r = t.length - s; r > i; i += 3) o = (t[i] << 16) + (t[i + 1] << 8) + t[i + 2], a += n(o);
                        switch (s) {
                            case 1:
                                o = t[t.length - 1], a += e(o >> 2), a += e(o << 4 & 63), a += "==";
                                break;
                            case 2:
                                o = (t[t.length - 2] << 8) + t[t.length - 1], a += e(o >> 10), a += e(o >> 4 & 63), a += e(o << 2 & 63), a += "="
                        }
                        return a
                    }

                    var o = "undefined" != typeof Uint8Array ? Uint8Array : Array, r = "+".charCodeAt(0),
                        s = "/".charCodeAt(0), a = "0".charCodeAt(0), l = "a".charCodeAt(0), c = "A".charCodeAt(0),
                        u = "-".charCodeAt(0), h = "_".charCodeAt(0);
                    t.toByteArray = n, t.fromByteArray = i
                }("undefined" == typeof n ? this.base64js = {} : n)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js", "/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib")
        }, {_process: 6, buffer: 2}],
        4: [function (t, e, n) {
            (function (t, e, i, o, r, s, a, l, c) {
                n.read = function (t, e, n, i, o) {
                    var r, s, a = 8 * o - i - 1, l = (1 << a) - 1, c = l >> 1, d = -7, u = n ? o - 1 : 0,
                        h = n ? -1 : 1, p = t[e + u];
                    for (u += h, r = p & (1 << -d) - 1, p >>= -d, d += a; d > 0; r = 256 * r + t[e + u], u += h, d -= 8) ;
                    for (s = r & (1 << -d) - 1, r >>= -d, d += i; d > 0; s = 256 * s + t[e + u], u += h, d -= 8) ;
                    if (0 === r) r = 1 - c; else {
                        if (r === l) return s ? 0 / 0 : (p ? -1 : 1) * (1 / 0);
                        s += Math.pow(2, i), r -= c
                    }
                    return (p ? -1 : 1) * s * Math.pow(2, r - i)
                }, n.write = function (t, e, n, i, o, r) {
                    var s, a, l, c = 8 * r - o - 1, d = (1 << c) - 1, u = d >> 1,
                        h = 23 === o ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = i ? 0 : r - 1, f = i ? 1 : -1,
                        m = 0 > e || 0 === e && 0 > 1 / e ? 1 : 0;
                    for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (a = isNaN(e) ? 1 : 0, s = d) : (s = Math.floor(Math.log(e) / Math.LN2), e * (l = Math.pow(2, -s)) < 1 && (s--, l *= 2), e += s + u >= 1 ? h / l : h * Math.pow(2, 1 - u), e * l >= 2 && (s++, l /= 2), s + u >= d ? (a = 0, s = d) : s + u >= 1 ? (a = (e * l - 1) * Math.pow(2, o), s += u) : (a = e * Math.pow(2, u - 1) * Math.pow(2, o), s = 0)); o >= 8; t[n + p] = 255 & a, p += f, a /= 256, o -= 8) ;
                    for (s = s << o | a, c += o; c > 0; t[n + p] = 255 & s, p += f, s /= 256, c -= 8) ;
                    t[n + p - f] |= 128 * m
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js", "/node_modules/browserify/node_modules/buffer/node_modules/ieee754")
        }, {_process: 6, buffer: 2}],
        5: [function (t, e, n) {
            (function (t, n, i, o, r, s, a, l, c) {
                var d = Array.isArray, u = Object.prototype.toString;
                e.exports = d || function (t) {
                    return !!t && "[object Array]" == u.call(t)
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/browserify/node_modules/buffer/node_modules/is-array/index.js", "/node_modules/browserify/node_modules/buffer/node_modules/is-array")
        }, {_process: 6, buffer: 2}],
        6: [function (t, e, n) {
            (function (t, n, i, o, r, s, a, l, c) {
                function d() {
                    if (!p) {
                        p = !0;
                        for (var t, e = h.length; e;) {
                            t = h, h = [];
                            for (var n = -1; ++n < e;) t[n]();
                            e = h.length
                        }
                        p = !1
                    }
                }

                function u() {
                }

                var t = e.exports = {}, h = [], p = !1;
                t.nextTick = function (t) {
                    h.push(t), p || setTimeout(d, 0)
                }, t.title = "browser", t.browser = !0, t.env = {}, t.argv = [], t.version = "", t.versions = {}, t.on = u, t.addListener = u, t.once = u, t.off = u, t.removeListener = u, t.removeAllListeners = u, t.emit = u, t.binding = function (t) {
                    throw new Error("process.binding is not supported")
                }, t.cwd = function () {
                    return "/"
                }, t.chdir = function (t) {
                    throw new Error("process.chdir is not supported")
                }, t.umask = function () {
                    return 0
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/browserify/node_modules/process/browser.js", "/node_modules/browserify/node_modules/process")
        }, {_process: 6, buffer: 2}],
        7: [function (t, e, n) {
            (function (i, o, r, s, a, l, c, d, u) {
                !function (t) {
                    if ("object" == typeof n && "undefined" != typeof e) e.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else {
                        var i;
                        i = "undefined" != typeof window ? window : "undefined" != typeof o ? o : "undefined" != typeof self ? self : this, i.jade = t()
                    }
                }(function () {
                    return function e(n, i, o) {
                        function r(a, l) {
                            if (!i[a]) {
                                if (!n[a]) {
                                    var c = "function" == typeof t && t;
                                    if (!l && c) return c(a, !0);
                                    if (s) return s(a, !0);
                                    var d = new Error("Cannot find module '" + a + "'");
                                    throw d.code = "MODULE_NOT_FOUND", d
                                }
                                var u = i[a] = {exports: {}};
                                n[a][0].call(u.exports, function (t) {
                                    var e = n[a][1][t];
                                    return r(e ? e : t)
                                }, u, u.exports, e, n, i, o)
                            }
                            return i[a].exports
                        }

                        for (var s = "function" == typeof t && t, a = 0; a < o.length; a++) r(o[a]);
                        return r
                    }({
                        1: [function (t, e, n) {
                            "use strict";

                            function i(t) {
                                return null != t && "" !== t
                            }

                            function o(t) {
                                return (Array.isArray(t) ? t.map(o) : t && "object" == typeof t ? Object.keys(t).filter(function (e) {
                                    return t[e]
                                }) : [t]).filter(i).join(" ")
                            }

                            function r(t) {
                                return a[t] || t
                            }

                            function s(t) {
                                var e = String(t).replace(l, r);
                                return e === "" + t ? t : e
                            }

                            n.merge = function c(t, e) {
                                if (1 === arguments.length) {
                                    for (var n = t[0], o = 1; o < t.length; o++) n = c(n, t[o]);
                                    return n
                                }
                                var r = t["class"], s = e["class"];
                                (r || s) && (r = r || [], s = s || [], Array.isArray(r) || (r = [r]), Array.isArray(s) || (s = [s]), t["class"] = r.concat(s).filter(i));
                                for (var a in e) "class" != a && (t[a] = e[a]);
                                return t
                            }, n.joinClasses = o, n.cls = function (t, e) {
                                for (var i = [], r = 0; r < t.length; r++) i.push(e && e[r] ? n.escape(o([t[r]])) : o(t[r]));
                                var s = o(i);
                                return s.length ? ' class="' + s + '"' : ""
                            }, n.style = function (t) {
                                return t && "object" == typeof t ? Object.keys(t).map(function (e) {
                                    return e + ":" + t[e]
                                }).join(";") : t
                            }, n.attr = function (t, e, i, o) {
                                return "style" === t && (e = n.style(e)), "boolean" == typeof e || null == e ? e ? " " + (o ? t : t + '="' + t + '"') : "" : 0 == t.indexOf("data") && "string" != typeof e ? (-1 !== JSON.stringify(e).indexOf("&") && console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"), e && "function" == typeof e.toISOString && console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0"), " " + t + "='" + JSON.stringify(e).replace(/'/g, "&apos;") + "'") : i ? (e && "function" == typeof e.toISOString && console.warn("Jade will stringify dates in ISO form after 2.0.0"), " " + t + '="' + n.escape(e) + '"') : (e && "function" == typeof e.toISOString && console.warn("Jade will stringify dates in ISO form after 2.0.0"), " " + t + '="' + e + '"')
                            }, n.attrs = function (t, e) {
                                var i = [], r = Object.keys(t);
                                if (r.length) for (var s = 0; s < r.length; ++s) {
                                    var a = r[s], l = t[a];
                                    "class" == a ? (l = o(l)) && i.push(" " + a + '="' + l + '"') : i.push(n.attr(a, l, !1, e))
                                }
                                return i.join("")
                            };
                            var a = {"&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;"}, l = /[&<>"]/g;
                            n.escape = s, n.rethrow = function d(e, n, i, o) {
                                if (!(e instanceof Error)) throw e;
                                if (!("undefined" == typeof window && n || o)) throw e.message += " on line " + i, e;
                                try {
                                    o = o || t("fs").readFileSync(n, "utf8")
                                } catch (r) {
                                    d(e, null, i)
                                }
                                var s = 3, a = o.split("\n"), l = Math.max(i - s, 0), c = Math.min(a.length, i + s),
                                    s = a.slice(l, c).map(function (t, e) {
                                        var n = e + l + 1;
                                        return (n == i ? "  > " : "    ") + n + "| " + t
                                    }).join("\n");
                                throw e.path = n, e.message = (n || "Jade") + ":" + i + "\n" + s + "\n\n" + e.message, e
                            }, n.DebugItem = function (t, e) {
                                this.lineno = t, this.filename = e
                            }
                        }, {fs: 2}], 2: [function (t, e, n) {
                        }, {}]
                    }, {}, [1])(1)
                })
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/jade/runtime.js", "/node_modules/jade")
        }, {_process: 6, buffer: 2, fs: 1}],
        8: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                !function (n, i) {
                    "object" == typeof e && e.exports && "function" == typeof t ? e.exports = i() : "function" == typeof define && "object" == typeof define.amd ? define(i) : n.log = i()
                }(this, function () {
                    function t(t) {
                        return typeof console === l ? !1 : void 0 !== console[t] ? e(console, t) : void 0 !== console.log ? e(console, "log") : a
                    }

                    function e(t, e) {
                        var n = t[e];
                        if ("function" == typeof n.bind) return n.bind(t);
                        try {
                            return Function.prototype.bind.call(n, t)
                        } catch (i) {
                            return function () {
                                return Function.prototype.apply.apply(n, [t, arguments])
                            }
                        }
                    }

                    function n(t, e) {
                        return function () {
                            typeof console !== l && (i(e), s[t].apply(s, arguments))
                        }
                    }

                    function i(t) {
                        for (var e = 0; e < c.length; e++) {
                            var n = c[e];
                            s[n] = t > e ? a : s.methodFactory(n, t)
                        }
                    }

                    function o(t) {
                        var e = (c[t] || "silent").toUpperCase();
                        try {
                            return void (window.localStorage.loglevel = e)
                        } catch (n) {
                        }
                        try {
                            window.document.cookie = "loglevel=" + e + ";"
                        } catch (n) {
                        }
                    }

                    function r() {
                        var t;
                        try {
                            t = window.localStorage.loglevel
                        } catch (e) {
                        }
                        if (typeof t === l) try {
                            t = /loglevel=([^;]+)/.exec(window.document.cookie)[1]
                        } catch (e) {
                        }
                        void 0 === s.levels[t] && (t = "WARN"), s.setLevel(s.levels[t], !1)
                    }

                    var s = {}, a = function () {
                    }, l = "undefined", c = ["trace", "debug", "info", "warn", "error"];
                    s.levels = {
                        TRACE: 0,
                        DEBUG: 1,
                        INFO: 2,
                        WARN: 3,
                        ERROR: 4,
                        SILENT: 5
                    }, s.methodFactory = function (e, i) {
                        return t(e) || n(e, i)
                    }, s.setLevel = function (t, e) {
                        if ("string" == typeof t && void 0 !== s.levels[t.toUpperCase()] && (t = s.levels[t.toUpperCase()]), !("number" == typeof t && t >= 0 && t <= s.levels.SILENT)) throw"log.setLevel() called with invalid level: " + t;
                        return e !== !1 && o(t), i(t), typeof console === l && t < s.levels.SILENT ? "No console available for logging" : void 0
                    }, s.enableAll = function (t) {
                        s.setLevel(s.levels.TRACE, t)
                    }, s.disableAll = function (t) {
                        s.setLevel(s.levels.SILENT, t)
                    };
                    var d = typeof window !== l ? window.log : void 0;
                    return s.noConflict = function () {
                        return typeof window !== l && window.log === s && (window.log = d), s
                    }, r(), s
                })
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/loglevel/lib/loglevel.js", "/node_modules/loglevel/lib")
        }, {_process: 6, buffer: 2}],
        9: [function (t, e, n) {
            (function (t, n, i, o, r, s, a, l, c) {
                !function (t) {
                    var n = {selector: t.jQuery || t.Zepto || t.ender || t.$, template: t.Handlebars || t.Mustache};
                    "function" == typeof define && define.amd ? define([], function () {
                        return n
                    }) : "undefined" != typeof e.exports ? e.exports = n : t.unopinionate = n
                }("undefined" != typeof window ? window : n)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/onclick/node_modules/unopinionate/unopinionate.js", "/node_modules/onclick/node_modules/unopinionate")
        }, {_process: 6, buffer: 2}],
        10: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("unopinionate").selector, h = u(document), p = {}, f = function (t) {
                    return f.bind.apply(f, arguments), f
                };
                f.distanceLimit = 10, f.timeLimit = 140, f.isTouch = "ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch;
                var m = function (t) {
                    t.stopPropagation(), f._doAnywheres(t);
                    var e = u(this), n = (new Date).getTime(), i = f._getPos(t);
                    e.one("touchend", function (t) {
                        t.preventDefault();
                        var o = (new Date).getTime() - n, r = f._getPos(t),
                            s = Math.sqrt(Math.pow(r.x - i.x, 2) + Math.pow(r.y - i.y, 2));
                        o < f.timeLimit && s < f.distanceLimit && u.each(p, function (n, i) {
                            return e.is(n) ? (i.apply(t.target, [t]), !1) : void 0
                        })
                    })
                };
                f.bind = function (t) {
                    return u.isPlainObject(t) || (newEvents = {}, newEvents[arguments[0]] = arguments[1], t = newEvents), u.each(t, function (t, e) {
                        "undefined" != typeof p[t] && f.unbind(t), p[t] = e, f.isTouch && h.delegate(t, "touchstart", m), h.delegate(t, "click", function (t) {
                            t.stopPropagation(), e.apply(this, [t])
                        })
                    }), this
                }, f.unbind = function (t) {
                    return h.undelegate(t, "touchstart").undelegate(t, "click"), delete p[t], this
                }, f.unbindAll = function () {
                    return u.each(p, function (t, e) {
                        h.undelegate(t, "touchstart").undelegate(t, "click")
                    }), p = {}, this
                }, f.trigger = function (t, e) {
                    return e = e || u.Event("click"), "undefined" != typeof p[t] ? p[t](e) : console.error("No click events bound for selector '" + t + "'."), this
                }, f.anywhere = function (t) {
                    return f._anywheres.push(t), this
                }, f._getPos = function (t) {
                    return t = t.originalEvent, t.pageX || t.pageY ? {
                        x: t.pageX,
                        y: t.pageY
                    } : t.changedTouches ? {
                        x: t.changedTouches[0].clientX,
                        y: t.changedTouches[0].clientY
                    } : {
                        x: t.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
                        y: t.clientY + document.body.scrollTop + document.documentElement.scrollTop
                    }
                }, f._anywheres = [], f._doAnywheres = function (t) {
                    for (var e = f._anywheres.length; e--;) f._anywheres[e](t)
                }, u(document).bind("mousedown", f._doAnywheres),
                    e.exports = f
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/onclick/src/onClick.js", "/node_modules/onclick/src")
        }, {_process: 6, buffer: 2, unopinionate: 9}],
        11: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("./src/SeaGlass");
                t("./src/Parser"), t("./src/Element/Structure/Heading"), t("./src/Element/Structure/List"), t("./src/Element/Functions/Graph"), t("./src/Element/Functions/Picture"), t("./src/Element/Functions/Video"), t("./src/Element/Functions/Solver"), t("./src/Element/IO/Text/Html"), e.exports = u
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/SeaGlass.js", "/node_modules/seaglass")
        }, {
            "./src/Element/Functions/Graph": 23,
            "./src/Element/Functions/Picture": 25,
            "./src/Element/Functions/Solver": 27,
            "./src/Element/Functions/Video": 29,
            "./src/Element/IO/Text/Html": 32,
            "./src/Element/Structure/Heading": 41,
            "./src/Element/Structure/List": 43,
            "./src/Parser": 49,
            "./src/SeaGlass": 51,
            _process: 6,
            buffer: 2
        }],
        12: [function (t, e, n) {
            (function (t, n, i, o, r, s, a, l, c) {
                !function (t) {
                    var n = {selector: t.jQuery || t.Zepto || t.ender || t.$, template: t.Handlebars || t.Mustache};
                    "function" == typeof define && define.amd ? define([], function () {
                        return n
                    }) : "undefined" != typeof e.exports ? e.exports = n : t.unopinionate = n
                }("undefined" != typeof window ? window : n)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/node_modules/onkey/node_modules/unopinionate/unopinionate.js", "/node_modules/seaglass/node_modules/onkey/node_modules/unopinionate")
        }, {_process: 6, buffer: 2}],
        13: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("unopinionate").selector, h = t("./specialKeys"), p = u(window), f = function (t) {
                    this.selector = t, this.callbacks = [], this.active = !0
                };
                f.prototype = {
                    up: function (t) {
                        return this.bind("up", t), this
                    }, down: function (t) {
                        return this.bind("down", t), this
                    }, bind: function (t, e) {
                        var n = this;
                        return u.isPlainObject(e) ? u.each(e, function (e, i) {
                            n._add(t, e, i)
                        }) : this._add(t, !1, e), this
                    }, on: function () {
                        return this.active = !0, this
                    }, off: function () {
                        return this.active = !1, this
                    }, destroy: function () {
                        p.unbind("keydown").unbind("keyup")
                    }, _add: function (t, e, n) {
                        var i = this;
                        this.callbacks[t] || (this.callbacks[t] = [], p.bind("key" + t, this.selector, function (e) {
                            if (i.active) for (var n = i.callbacks[t], o = 0; o < n.length; o++) {
                                var r = n[o];
                                (!r.conditions || i._validate(r.conditions, e)) && r.apply(i, [e])
                            }
                        })), e && (n.conditions = this._parseConditions(e)), this.callbacks[t].push(n)
                    }, _parseConditions: function (t) {
                        var e = {
                                shift: /\bshift\b/i.test(t),
                                alt: /\b(alt|alternate)\b/i.test(t),
                                ctrl: /\b(ctrl|control|cmd|command)\b/i.test(t)
                            },
                            n = t.match(/\b(?!shift|alt|alternate|ctrl|control|cmd|command)([a-z\u0060\-=\[\]\\;',\.\/]+)\b/gi);
                        return n || (n = t.match(/\b(\w+)\b/gi), e.shift = e.alt = e.ctrl = !1), n ? (e.key = n[0], n.length > 1 && console.warn("More than one key bound in '" + t + "'. Using the first one (" + n[0] + ").")) : e.key = e.keyCode = null, e
                    }, _keyCodeTest: function (t, e) {
                        if ("undefined" != typeof h[e]) {
                            var n = h[e];
                            return n instanceof RegExp ? n.test(t) : n === t.toLowerCase()
                        }
                        return 1 === t.length ? t.toUpperCase().charCodeAt(0) === e : !1
                    }, _validate: function (t, e) {
                        return (t.key ? this._keyCodeTest(t.key, e.which) : !0) && t.shift === e.shiftKey && t.alt === e.altKey && (!t.ctrl || t.ctrl === e.metaKey != (t.ctrl === e.ctrlKey))
                    }
                }, e.exports = f
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/node_modules/onkey/src/Event.js", "/node_modules/seaglass/node_modules/onkey/src")
        }, {"./specialKeys": 15, _process: 6, buffer: 2, unopinionate: 12}],
        14: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("./Event.js"), h = [], p = function (t) {
                    return p._createEvent(t)
                };
                p.down = function (t) {
                    return this._createEvent().down(t)
                }, p.up = function (t) {
                    return this._createEvent().up(t)
                }, p.unbindAll = function () {
                    for (; h.length;) h.pop().destroy();
                    return this
                }, p._createEvent = function (t) {
                    var e = new u(t);
                    return h.push(e), e
                }, e.exports = p
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/node_modules/onkey/src/main.js", "/node_modules/seaglass/node_modules/onkey/src")
        }, {"./Event.js": 13, _process: 6, buffer: 2}],
        15: [function (t, e, n) {
            (function (t, n, i, o, r, s, a, l, c) {
                e.exports = {
                    8: "backspace",
                    9: "tab",
                    10: /^(return|enter)$/i,
                    13: /^(return|enter)$/i,
                    16: "shift",
                    17: /^(ctrl|control)$/i,
                    18: /^(alt|alternate)$/i,
                    19: "pause",
                    20: "capslock",
                    27: /^(esc|escape)$/i,
                    32: "space",
                    33: "pageup",
                    34: "pagedown",
                    35: "end",
                    36: "home",
                    37: "left",
                    38: "up",
                    39: "right",
                    40: "down",
                    45: "insert",
                    46: /^(del|delete)$/i,
                    91: /^(cmd|command)$/i,
                    96: "0",
                    97: "1",
                    98: "2",
                    99: "3",
                    100: "4",
                    101: "5",
                    102: "6",
                    103: "7",
                    104: "8",
                    105: "9",
                    106: "*",
                    107: "+",
                    109: "-",
                    110: ".",
                    111: "/",
                    112: "f1",
                    113: "f2",
                    114: "f3",
                    115: "f4",
                    116: "f5",
                    117: "f6",
                    118: "f7",
                    119: "f8",
                    120: "f9",
                    121: "f10",
                    122: "f11",
                    123: "f12",
                    144: "numlock",
                    145: "scroll",
                    186: ";",
                    187: "=",
                    189: "-",
                    190: ".",
                    191: "/",
                    192: "`",
                    219: "[",
                    220: "\\",
                    221: "]",
                    222: "'",
                    224: "meta"
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/node_modules/onkey/src/specialKeys.js", "/node_modules/seaglass/node_modules/onkey/src")
        }, {_process: 6, buffer: 2}],
        16: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = '.SeaGlass-Document{cursor:text}.SeaGlass-Document *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}.SeaGlass-Document a{outline:0;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.SeaGlass-Document a:hover{text-decoration:none}.SeaGlass-Document var{font-family:Symbola,"Times New Roman",Georgia,Serif;font-style:italic}.SeaGlass-Document.SeaGlass-empty:before{content:"Type math or text...";position:absolute;top:4px;left:2px;color:#888;cursor:text;z-index:0}.SeaGlass-Document .textarea textarea,.FastFig-textarea textarea{-webkit-user-select:text;-moz-user-select:text;user-select:text;position:absolute;clip:rect(1em 1em 1em 1em);resize:none;left:-1000px}.SeaGlass-Document .selected.doselect{background-color:#bbd6ff !important}.SeaGlass-Document .selected.heading{background-color:#bbd6ff !important}.SeaGlass-Document ::selection{background-color:#bbd6ff !important}.SeaGlass-Document .selected ::selection{background-color:transparent !important}.SeaGlass-Document .docElement .remove{position:absolute;opacity:0;top:6px;right:14px;color:#ddd;font-size:18px;-webkit-transition:opacity .2s ease-in-out;-moz-transition:opacity .2s ease-in-out;-ms-transition:opacity .2s ease-in-out;-o-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.SeaGlass-Document:not(.SeaGlass-Readonly) .docElement:hover .remove,.touch .SeaGlass-Document:not(.SeaGlass-Readonly) .docElement .remove{opacity:1;cursor:pointer}.FastFig-blockWrap{text-align:center;padding:5px 0;cursor:text}.FastFig-blockWrap .frame{display:inline-block;background-color:#f5f5f5;width:100%;max-width:500px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:16px solid #e7e7e7}.FastFig-blockWrap.heading .frame{padding:0;min-height:0;max-width:500px;width:85%}#title{font-size:150%;width:90%;margin-top:2%;margin-left:5%;margin-bottom:0}#invisible-wrapper{width:100%;height:100%;margin:0;padding:0;z-index:900000;position:absolute}#popup-wrapper{background-color:#272727;width:100%;height:100%;margin:0;padding:0;z-index:900000;position:absolute;opacity:.1}#info-frame{-webkit-box-shadow:0 0 50px 0 rgba(0,0,0,0.75);-moz-box-shadow:0 0 50px 0 rgba(0,0,0,0.75);box-shadow:0 0 50px 0 rgba(0,0,0,0.75);background-color:#343535;width:75%;max-height:85%;margin-left:12.5%;margin-top:4%;z-index:900001;position:absolute;overflow:auto;word-wrap:break-word;color:#fff;font-size:12pt}#popup-dialog{-ms-user-select:text;-khtml-user-select:text;-moz-user-select:text;-webkit-user-select:text;user-select:text;background-color:#fff;width:96%;height:320px;margin-left:2%;margin-top:2%;z-index:900001;word-wrap:break-word;overflow:scroll;color:#000;display:block}#close{z-index:900100;position:absolute;right:0;top:0}#loading{margin-left:5%;color:#71a26d}.button{height:140px;min-width:8%;padding-left:2%;padding-right:2%;padding-top:.75%;padding-bottom:.75%;margin-left:5%;background-color:#71a26d;color:#fff;border-radius:2px}.button:hover{background-color:#669262}';
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Document/Document.less", "/node_modules/seaglass/src/Document")
        }, {_process: 6, buffer: 2}],
        17: [function (t, e, n) {
            (function (e, n, i, o, r, s, a, l, c) {
                var d = (t("underscore"), t("../SeaGlass")), u = t("../Element/IO"), h = t("../Element/Structure"),
                    p = t("../Parser");
                t("./Document.less");
                var f = function (t) {
                    this._doc = this, this.parser = new p, this.readonly = !1, this.clean()
                };
                return f.prototype = d.util.extend(new u, new h, {
                    type: "SeaGlass-Document", isDocument: !0, init: function (t) {
                        var e = this;
                        this.build(t.$wrapper), this.$page = t.$page || !1, this.$scroll = t.$scroll || !1, this.onKeydown = t.onKeydown || d.noop, this.onHistory = t.onHistory || d.noop, this.onFocus = t.onFocus || d.noop, this.onBlur = t.onBlur || d.noop, t.content ? (t.content.readonly = t.readonly, this.load(t.content)) : t.readonly ? this.makeReadonly() : this.makeEditable(), this.noSolve = t.noSolve || d.noop, this.$page && this.$page.bind("mouseup.document touchstart.document", function (t) {
                            var n = e.last();
                            t.pageY > n.$wrapper.offset().top + n.$wrapper.height() && (n.isFocusable ? n.focus("right") : n.after(d.io.Html).focus("left"))
                        }), this.setPlaceholderManager(), d.documents.push(this)
                    }, clean: function () {
                        this.$page && this.$page.unbind("mouseup.document touchstart.document"), this.clearPlaceholderManager(), this.history = [];
                        var t = d.documents.indexOf(this);
                        -1 !== t && d.documents.splice(t, 1)
                    }, empty: function () {
                        return this.load({content: [{type: "SeaGlass-IO-Html"}]}), this
                    }, makeReadonly: function () {
                        return this.readonly || (this.readonly = !0, d.cursor.location.isChildOf(this) && d.cursor.blur(), this.$wrapper.addClass("SeaGlass-Readonly")), this
                    }, makeEditable: function () {
                        return this.readonly && (this.readonly = !1, this.$wrapper.removeClass("SeaGlass-Readonly")), this
                    }, getFocus: function () {
                        return d.cursor.location
                    }, historyPoint: function () {
                        if (!this.loading) {
                            this.historyVersion != this.history.length - 1 && (this.history = this.history.slice(0, this.historyVersion)), this.historyVersion++;
                            var t = this.dump();
                            return this.history[this.history.length] = t, this.onHistory(t, this.history), this
                        }
                    }, undo: function () {
                        return 0 !== this.historyVersion && (this.historyVersion--, this.loading || this.load(this.history[this.historyVersion], null, !0)), this
                    }, redo: function () {
                        return this.historyVersion != this.history.length - 1 && (this.historyVersion++, this.loading || this.load(this.history[this.historyVersion], null, !0)), this
                    }, setAngles: function (t) {
                        return t != this.meta.angles && (this.meta.angles = t, this.parser.parse(this, d.noop, !0), this.historyPoint()), this
                    }, scrollToCursor: function () {
                        var t = d.cursor.location;
                        return this.$scroll && !t.isNull && this.$scroll.animate({scrollTop: t.$wrapper.offset().top - this.$scroll.offset().top - 5}, 300), this
                    }, bind: function (t, e, n) {
                        return t.prototype[e] = n, this
                    }, setPlaceholderManager: function () {
                        function t() {
                            if (!e.loading) {
                                var t = e.isEmpty;
                                if (e.isEmpty = e.length() <= 1, e.isEmpty) {
                                    var n = e.first();
                                    e.isEmpty = n.isNull || n.isEmpty()
                                }
                                e.isEmpty != t && (e.isEmpty ? e.$wrapper.addClass("SeaGlass-empty") : e.$wrapper.removeClass("SeaGlass-empty"))
                            }
                        }

                        var e = this;
                        clearInterval(this.placeholderManager), this.placeholderManager = setInterval(t, 150), t()
                    }, clearPlaceholderManager: function () {
                        clearInterval(this.placeholderManager)
                    }, createPopUp: function (t) {
                        $("#app").prepend("<div id='invisible-wrapper'><div id='popup-wrapper'></div><div id='info-frame'><a href='javascript:void(0)' id='close'><img id='closeicon' src='data:image/png;base64,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' style='height:33px;width:33px;'></a>" + t + "</div></div>"), $("#invisible-wrapper").hide().fadeIn(750, function () {
                        }), $("#invisible-wrapper").children(":not(#popup-dialog, #info-frame)").fadeTo("slow", .6, function () {
                        }), $("#popup-wrapper").click(function () {
                            $("#popup-wrapper").css("opacity") < 1 && $("#invisible-wrapper").fadeTo("fast", .1, function () {
                                $("#invisible-wrapper").remove()
                            })
                        }), $("#close").click(function () {
                            $("#popup-wrapper").css("opacity") < 1 && $("#invisible-wrapper").fadeTo("fast", .1, function () {
                                $("#invisible-wrapper").remove()
                            })
                        }), $("#close").mouseover(function () {
                            $("#closeicon").attr("src", "data:image/png;base64,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");

                        }), $("#close").mouseleave(function () {
                            $("#closeicon").attr("src", "data:image/png;base64,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")
                        })
                    }
                }), function (t) {
                    f.prototype.load = function (e, n, i) {
                        this.loading = !0, this.clearPlaceholderManager(), d.cursor.location.isChildOf(this) && d.cursor.blur(), i || (e.meta || (e.meta = {}), this.setAngles(e.meta ? e.meta.angles : !1), e.readonly ? this.makeReadonly() : this.makeEditable(), e.meta && !e.meta.created && (e.meta.created = Math.round((new Date).getTime() / 1e3), e.meta.edited = e.meta.created), this.history = [e], this.historyVersion = 0, this.noCaretLoad = !0);
                        var o, r = this.$wrapper.prev();
                        0 === r.length && (r = null, o = this.$wrapper.parent()), this.$wrapper.detach(), t.call(this, e, n, i), r ? r.after(this.$wrapper) : o.prepend(this.$wrapper), this.loading = !1, this.noCaretLoad = !1, this.setPlaceholderManager()
                    }
                }(f.prototype.load), function (t) {
                    f.prototype.dump = function () {
                        return this.meta.edited = Math.round((new Date).getTime() / 1e3), t.call(this)
                    }
                }(f.prototype.dump), function (t) {
                    f.prototype.grabLatex = function () {
                        var e = "%Preamble<br>\\documentclass[10pt]{article}<br>\\usepackage{amssymb}<br>\\usepackage{amsmath}<br>\\usepackage{graphicx}<br>\\usepackage{url}<br>\\begin{document}<br>%End Preamble<br>";
                        return e + t.call(this) + "<br>\\end{document}<br>"
                    }
                }(f.prototype.grabLatex), d.register("Document", f)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Document/index.js", "/node_modules/seaglass/src/Document")
        }, {
            "../Element/IO": 40,
            "../Element/Structure": 44,
            "../Parser": 49,
            "../SeaGlass": 51,
            "./Document.less": 16,
            _process: 6,
            buffer: 2,
            underscore: 57
        }],
        18: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-Cursor{display:inline-block;position:relative;background-color:#3d8ad1;vertical-align:top;z-index:1;width:2px !important;margin-left:-2px;-webkit-transition:opacity .15s;-moz-transition:opacity .15s;-o-transition:opacity .15s;transition:opacity .15s}.SeaGlass-Cursor-Left+.SeaGlass-Element,.SeaGlass-Cursor-Left{margin-left:-1px !important}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Cursor/Cursor.less", "/node_modules/seaglass/src/Element/Cursor")
        }, {_process: 6, buffer: 2}],
        19: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../SeaGlass"), h = t("../index"), p = t("../IO/Text/Html");
                t("./Cursor.less");
                var f = function (t) {
                    var e = this;
                    this.build(), this.location = u.NULL, this.$textarea = this.$wrapper.find("textarea"), $(document).on("keydown.SeaGlass", function (t) {
                        if (!e.location.isNull) {
                            var n = e.location.isStructure ? e : e.location;
                            switch (t.keyCode) {
                                case 37:
                                    n.onArrow("left", t);
                                    break;
                                case 38:
                                    n.onArrow("up", t);
                                    break;
                                case 39:
                                    n.onArrow("right", t);
                                    break;
                                case 40:
                                    n.onArrow("down", t);
                                    break;
                                case 8:
                                    n.onBSDelete("backspace", t);
                                    break;
                                case 46:
                                    n.onBSDelete("delete", t);
                                    break;
                                case 13:
                                case 10:
                                    n.onEnter(t);
                                    break;
                                default:
                                    n.onKeydown(t)
                            }
                        }
                    }).on("keyup.SeaGlass", function (t) {
                        var n = e.location.isStructure ? e : e.location;
                        n.onKeyup(t)
                    }).on("focus", '.SeaGlass-Document input, .SeaGlass-Document textarea, .SeaGlass-Document div[contenteditable="true"]', function (t) {
                        var n = $(t.target).closest(".SeaGlass-Element").data(u.dataKey);
                        n && (e.location = n);
                        var i = e.location.doc();
                        e.focusDoc !== i && (e.focusDoc = i, i.onFocus(e.location, i))
                    }).on("blur", '.SeaGlass-Document input, .SeaGlass-Document textarea, .SeaGlass-Document div[contenteditable="true"]', function () {
                        var t = e.location.doc();
                        e.focusDoc !== t ? (t.onBlur(e.location, e.focusDoc), e.focusDoc = null) : setTimeout(function () {
                            e.focusDoc && 0 === e.focusDoc.$wrapper.find(":focus").length && (t.onBlur(e.location, e.focusDoc), e.focusDoc = null)
                        }, 0), e.location = u.NULL
                    }), $(window).blur(function () {
                        clearInterval(e.flasher), e.$wrapper.css("opacity", 0)
                    }).focus(function () {
                        e.resetFlasher()
                    });
                    var n = function (t, n) {
                        t.stopPropagation();
                        var i = n.data(u.dataKey);
                        if (i && !i.doc().readonly) {
                            clearInterval(this.flasher);
                            var o = u.getCursorXY(t), r = i.parent().isFunction ? "body" : i.getPartFromXY(o.x, o.y);
                            switch (r) {
                                case"padding-left":
                                    e.makeLeft(), i.before(e);
                                    break;
                                case"padding-right":
                                    e.makeRight(), i.after(e);
                                    break;
                                case"padding-top":
                                    var s = i.prev();
                                    s.isFocusable ? (s.focus("right"), t.preventDefault()) : i.before(p).focus("left");
                                    break;
                                case"padding-bottom":
                                    var a = i.next();
                                    a.isFocusable ? (a.focus("left"), t.preventDefault()) : i.after(p).focus("right");
                                    break;
                                default:
                                    e.set(i)
                            }
                            "function" == typeof i.onMousedown && i.onMousedown(t)
                        }
                    }, i = function (t, e) {
                        var n = e.data(u.dataKey);
                        "function" == typeof n.onMouseup && n.onMouseup(t)
                    }, o = ".SeaGlass-Element:not(.SeaGlass-Document)";
                    u.isMobile ? $(document).on("touchstart.SeaGlass", o, function (t) {
                        var e = $(this), o = (new Date).getTime();
                        e.bind("touchend.wait", function (r) {
                            var s = (new Date).getTime(),
                                a = Math.sqrt(r.clientX - t.clientX ^ 2 + (r.clientY - t.clientY) ^ 2);
                            100 > s - o && e[0] === this && 10 > a && (n(r, e), i(r, e)), e.unbind("touchend.wait")
                        })
                    }) : $(document).on("mousedown.SeaGlass", o, function (t) {
                        n(t, $(this))
                    }).on("mouseup.SeaGlass", o, function (t) {
                        i(t, $(this))
                    })
                };
                f.prototype = u.util.extend(new h, {
                    isCursor: !0,
                    type: "SeaGlass-Cursor",
                    html: "<span class='textarea'><textarea></textarea></span>",
                    focusDoc: null,
                    remove: function () {
                        this.$wrapper.remove(), $(document).unbind(".SeaGlass")
                    },
                    blur: function () {
                        return this.$wrapper.detach(), this.location = u.NULL, this
                    },
                    set: function (t) {
                        var e = this;
                        return this.location = t, t && t.isStructure ? setTimeout(function () {
                            e.$textarea.focus()
                        }, 0) : this.$wrapper.detach(), this.updateFormat(), this
                    },
                    updateFormat: function () {
                        var t, e = this;
                        if ("left" == this.side) t = this.next(); else if ("right" == this.side) t = this.prev(); else {
                            var n = this.next(), i = this.prev(), o = n ? n.height() : 0, r = i ? i.height() : 0;
                            t = o > r ? n : i
                        }
                        if (t) {
                            if (t.isFocusable) t.focus(this.side); else if (t.isNull && this.side) {
                                var s = "left" == this.side ? "right" : "left";
                                setTimeout(function () {
                                    t = "left" == s ? e.next() : e.prev(), t.isNull ? 0 === e.doc().length() && e.doc().append(p).focus("left") : t.focus(s)
                                }, 0)
                            } else {
                                var a = t.getBoxDimensions("padding");
                                if (this.$wrapper.height(t.$container.outerHeight() + 6).css("margin-top", a.top - 3), t.hasInner && this.side) {
                                    var l = t.$inner.position().left, c = t.$inner.outerWidth(),
                                        d = t.$wrapper.outerWidth();
                                    this.$wrapper.css("left", "left" == this.side ? l : -(d - l - c) + 2)
                                } else this.$wrapper.css("left", 0)
                            }
                            return this
                        }
                    },
                    resetFlasher: function () {
                        var t = this;
                        return this.$wrapper[0].style.opacity = 1, clearInterval(this.flasher), this.flasher = setInterval(function () {
                            t.$wrapper[0].style.opacity = "1" == t.$wrapper.css("opacity") ? 0 : 1
                        }, 600), this
                    },
                    makeLeft: function () {
                        return this.$wrapper.addClass("SeaGlass-Cursor-Left"), this.side = "left", this
                    },
                    makeRight: function () {
                        return this.$wrapper.removeClass("SeaGlass-Cursor-Left"), this.side = "right", this
                    },
                    onMove: function () {
                        this.resetFlasher(), this.set(this.parent())
                    },
                    onArrow: function (t, e, n, i) {
                        n = n || this, i = i || this.side;
                        var o, r, s;
                        /left|right/.test(t) ? (o = n["left" == t ? "prev" : "next"](), t != i || o.isNull ? o.isNull ? (r = n.parent(), s = r.parent(), s.isNull || (this["left" == t ? "makeLeft" : "makeRight"](), r["left" == t ? "before" : "after"](this))) : o.isStructure ? o["left" == t ? "append" : "prepend"](this) : (this["left" == t ? "makeLeft" : "makeRight"](), o["left" == t ? "before" : "after"](this)) : (this["right" == t ? "makeLeft" : "makeRight"](), n.isFocusable && o["right" == t ? "before" : "after"](this))) : (i ? "left" == i ? o = "up" == t ? n.prev() : n.next().next() : "right" == i && (o = "up" == t ? n.prev().prev() : n.next()) : o = n["down" == t ? "next" : "prev"](), o.isNull ? (r = n.parent(), s = r.parent(), s.isNull || (r["down" == t ? "after" : "before"](this), this["down" == t ? "makeRight" : "makeLeft"]())) : (this["left" == i ? "makeLeft" : "makeRight"](), o["left" == i ? "before" : "after"](this))), e.preventDefault(), this.updateFormat()
                    },
                    onBSDelete: function (t, e) {
                        this.historyPoint();
                        var n = "backspace" == t ? {
                            direction: "prev",
                            side: "left",
                            switchSide: "makeRight"
                        } : {direction: "next", side: "right", switchSide: "makeLeft"}, i = this[n.direction]();
                        this.side != n.side || i.isText && i.isEmpty() ? i.remove() : i.isHtml && i.deleteBTEmptyLine("delete" == t) || (this[n.switchSide](), e.stopPropagation(), e.preventDefault()), this.updateFormat()
                    },
                    onEnter: function (t) {
                        this.historyPoint();
                        var e = this.before(p);
                        "right" == this.side && e.focus("left"), this.updateFormat()
                    },
                    onKeyup: function (t) {
                        if (!t.altKey && !t.ctrlKey && !t.metaKey && -1 == [16, 8, 13, 10, 46, 20, 37, 38, 39, 40, 91, 17, 18].indexOf(t.keyCode)) {
                            this.historyPoint();
                            var e = this.$textarea.val();
                            this.before(p).setContents(e).focus("right"), this.$textarea.val("")
                        }
                    },
                    findTypeNear: function (t, e) {
                        var n, i = this.location;
                        return i.isNull ? i : i.splitAtCursor ? i.splitAtCursor(e) : i.isStructure ? this.after(e).focus() : (n = i, n.findTypeNear(t, e))
                    },
                    historyPoint: function () {
                        this.doc().historyPoint()
                    }
                }), e.exports = u.register("Cursor", f)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Cursor/index.js", "/node_modules/seaglass/src/Element/Cursor")
        }, {"../../SeaGlass": 51, "../IO/Text/Html": 32, "../index": 47, "./Cursor.less": 18, _process: 6, buffer: 2}],
        20: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-Element{position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-drag:none;-moz-box-sizing:border-box !important;-webkit-box-sizing:border-box !important;box-sizing:border-box !important;width:100%}.SeaGlass-Element-Inner{display:inline-block;position:relative;-webkit-box-sizing:border-box !important;-moz-box-sizing:border-box !important;box-sizing:border-box !important;max-width:100%}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Element.less", "/node_modules/seaglass/src/Element")
        }, {_process: 6, buffer: 2}],
        21: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-Function{display:inline-block;text-align:center;padding:8px 0;cursor:text}.SeaGlass-Function .SeaGlass-Element-Inner{background-color:#fff;border:16px solid #e7e7e7;cursor:default}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/Functions.less", "/node_modules/seaglass/src/Element/Functions")
        }, {_process: 6, buffer: 2}],
        22: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".rounded{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.SeaGlass-functions-Graph .SeaGlass-Element-Inner{font-size:20px}.SeaGlass-functions-Graph-graphWrap{background:#fff;overflow:hidden;cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.SeaGlass-functions-Graph-graphWrap:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.SeaGlass-functions-Graph-graph{position:relative;min-height:320px;min-width:470px}.SeaGlass-functions-Graph-graph svg{position:absolute;left:0;top:0}.SeaGlass-functions-Graph-spinner{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;display:none}.SeaGlass-functions-Graph-editor{position:absolute;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#f5f5f5;background-color:rgba(245,245,245,0.43);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.SeaGlass-functions-Graph-functions{padding:0;margin:100px 25px 10px 0;list-style:none}.SeaGlass-functions-Graph-graphButton{padding:5px 10px;font-size:16px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;margin-bottom:40px}.SeaGlass-functions-Graph-editor .SeaGlass-IO-Math{background:#fff;padding:5px 7px;margin:4px 5px;min-width:160px;min-height:30px;text-align:left;vertical-align:middle;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-moz-box-shadow:inset 0 0 6px #b4b4b4;-webkit-box-shadow:inset 0 0 6px #b4b4b4;box-shadow:inset 0 0 6px #b4b4b4}.SeaGlass-Readonly .SeaGlass-functions-Graph-addLine,.SeaGlass-Readonly .SeaGlass-functions-Graph-removeLine,.SeaGlass-functions-Graph-Line:last-child .SeaGlass-functions-Graph-removeLine,.SeaGlass-functions-Graph-Line:not(:last-child) .SeaGlass-functions-Graph-addLine{display:none}.SeaGlass-functions-Graph-removeLine,.SeaGlass-functions-Graph-addLine{width:18px;height:25px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;vertical-align:middle}.SeaGlass-functions-Graph-removeLine{background:#cf2929}.SeaGlass-functions-Graph-zoom{position:absolute;display:none;left:-1px;top:1px;padding:0 0 5px 0;background:transparent;color:#006092}.SeaGlass-functions-Graph-zoom[data-direction=out]{top:22px}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/Graph/Graph.less", "/node_modules/seaglass/src/Element/Functions/Graph")
        }, {_process: 6, buffer: 2}],
        23: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../../SeaGlass"), h = t("../index"), p = t("../../IO/Text/Math"), f = t("underscore");
                t("./Graph.less");
                var m = function () {
                    var t = this;
                    this.html = "<div class='SeaGlass-functions-Graph-graphWrap'>    <div class='SeaGlass-functions-Graph-graph'></div></div><div class='SeaGlass-functions-Graph-editor'>    <ul class='SeaGlass-functions-Graph-functions'></ul>    <button class='blue SeaGlass-functions-Graph-graphButton'>Graph</button></div><img class='SeaGlass-functions-Graph-spinner' alt='Wait' src='" + u.config.staticRoot + "/pictures/waitBlueBig.gif'/><button class='SeaGlass-functions-Graph-zoom icon-plus-squared' data-direction='in'></button><button class='SeaGlass-functions-Graph-zoom icon-minus-squared' data-direction='out'></button>", this.build(), this.setDefaults(), this.$graphWrap = this.$wrapper.find(".SeaGlass-functions-Graph-graphWrap"), this.$graph = this.$wrapper.find(".SeaGlass-functions-Graph-graph"), this.$spinner = this.$wrapper.find(".SeaGlass-functions-Graph-spinner"), this.$zoom = this.$wrapper.find(".SeaGlass-functions-Graph-zoom"), this.$editor = this.$wrapper.find(".SeaGlass-functions-Graph-editor"), this.$graphButton = this.$wrapper.find(".SeaGlass-functions-Graph-graphButton"), this.$editButton = this.$wrapper.find(".SeaGlass-UI-EditButton"), this.$functions = this.$wrapper.find(".SeaGlass-functions-Graph-functions"), this.$zoom.bind("mousedown touchstart", function () {
                        t.doc().historyPoint(), t.showSpinner();
                        var e = 1.5;
                        "in" == this.getAttribute("data-direction") && (e = 1 / e), t.zX = t.zX * e, t.zY = t.zY * e, t.parse()
                    }), this.$graph.draggable({
                        stop: function () {
                            t.doc().historyPoint();
                            var e = t.$graph.offset(), n = t.$graphWrap.offset(),
                                i = -Math.round((e.left - n.left + 90) / (t.gUnit / t.res)),
                                o = Math.round((e.top - n.top + 165) / (t.gUnit / t.res));
                            (i != t.vX || o != t.vY) && (t.vX = t.vX + i, t.vY = t.vY + o, t.parse())
                        }
                    }), this.$wrapper.on("click", ".SeaGlass-functions-Graph-addLine", function () {
                        t.addLine()
                    }), this.$wrapper.on("click", ".SeaGlass-functions-Graph-removeLine", function () {
                        t.removeLine($(this).parent())
                    })
                };
                m.prototype = u.util.extend(new h, {
                    type: "SeaGlass-functions-Graph",
                    classes: "SeaGlass-Function",
                    hasInner: !0,
                    ui: ["Resizable", "RemoveButton", "EditButton"],
                    init: function (t) {
                        var e = this;
                        this.doc().readonly || (this.$graphButton.bind("click", function () {
                            e.doc().historyPoint(), e.hideEdit(!0)
                        }), this.$editButton.bind("click", function () {
                            e.showEdit()
                        })), this.loadEdit()
                    },
                    clean: function () {
                        this.$graphButton.unbind("click"), this.$editButton.unbind("click");
                        for (var t = this.maths.length; t--;) this.maths[t].remove();
                        this.setDefaults(), this.showEdit(), this.$graph.html("")
                    },
                    setDefaults: function () {
                        this.maths = [], this.functions = [], this.vX = 0, this.vY = 0, this.zX = 1, this.zY = 1, this.src = null, this.gUnit = 656, this.res = 20, this.gDims = 5
                    },
                    showEdit: function () {
                        return this.hideSpinner(), this.$zoom.hide(), this.$editor.show(), this
                    },
                    hideEdit: function (t) {
                        var e = this;
                        if (this.$wrapper.removeClass("SeaGlass-functions-Graph-showEdit"), this.$zoom.show(), this.$editor.hide(), this.showSpinner(), this.src && !t) $.ajax({
                            url: this.src,
                            dataType: "text",
                            success: function (t) {
                                e.loadGraph(t)
                            }
                        }); else {
                            for (var n = [], i = 0; i < this.maths.length; i++) {
                                var o = this.maths[i].getContents();
                                o && 0 !== o.length && n.push({
                                    func: o, color: e.getDefaultColor(i)
                                })
                            }
                            0 !== n.length && JSON.stringify(n) != JSON.stringify(this.functions) ? (this.functions = n, this.parse()) : this.hideSpinner()
                        }
                        return this.doc().historyPoint(), this
                    },
                    loadEdit: function () {
                        var t = this, e = this.functions.splice(0);
                        0 === e.length && e.push({func: "", color: t.getDefaultColor(n)});
                        for (var n = this.maths.length; n--;) this.maths[n].remove();
                        for (this.maths = [], this.$functions.html(""), n = 0; n < e.length; n++) this.addLine(e[n].func);
                        return this
                    },
                    addLine: function (t) {
                        var e = this, n = function () {
                            e.hideEdit(!0)
                        }, i = u.create(p, {noDelete: !0}).bind({onEnter: n}).setContents(t);
                        $("<li class='SeaGlass-functions-Graph-Line' />").html("<var>y</var> =").append(i.$wrapper).append("<button class='SeaGlass-functions-Graph-addLine blue'>+</button><button class='SeaGlass-functions-Graph-removeLine'>x</button>").appendTo(this.$functions), this.maths.push(i)
                    },
                    removeLine: function (t) {
                        var e = t.index();
                        this.maths[e].remove(), this.maths.splice(e, 1), t.remove()
                    },
                    showSpinner: function () {
                        return this.$spinner.show(), this
                    },
                    hideSpinner: function () {
                        return this.$spinner.hide(), this
                    },
                    loadGraph: function (t) {
                        this.$graph.html(t).css("top", -165).css("left", -90), this.hideSpinner()
                    },
                    dump: function () {
                        return {
                            type: this.type,
                            content: this.functions,
                            vX: this.vX,
                            vY: this.vY,
                            zX: this.zX,
                            zY: this.zY,
                            src: this.src
                        }
                    },
                    load: function (t) {
                        return this.functions = t.content, this.vX = t.vX, this.vY = t.vY, this.zX = t.zX, this.zY = t.zY, this.src = t.src, 0 !== this.functions.length && (this.loadEdit(), this.hideEdit()), this
                    },
                    getDefaultColor: function (t) {
                        var e = ["#004276", "#98001C", "#266F00", "#2D2E2E", "#8B0081", "#006092", "#C83E4B", "#7ACA36", "#737575"];
                        return e[t - e.length * Math.floor(t / e.length)]
                    },
                    isParsable: !0,
                    dumpCode: function (t) {
                        if (0 === this.functions.length || t.vars && 0 === f.intersection(this.getVariables(), t.vars).length && t.caller != this) return [];
                        var e = 2 * this.gDims / this.res;
                        return [{
                            el: this,
                            send: {
                                type: "Graph",
                                y: {
                                    min: this.zY * (-this.gDims + e * this.vY),
                                    max: this.zY * (this.gDims + e * this.vY)
                                },
                                x: {
                                    min: this.zX * (-this.gDims + e * this.vX),
                                    max: this.zX * (this.gDims + e * this.vX)
                                },
                                lines: this.functions
                            }
                        }]
                    },
                    loadAnswers: function (t) {
                        return t && t.graph && (this.src = t.graph.url, this.loadGraph(t.graph.svg)), this
                    },
                    loadError: function () {
                        return "initial" == this.state && this.editGraph(), this.hideSpinner(), this
                    },
                    getVariables: function (t) {
                        if (!this.variables || t) {
                            for (var e = [], n = 0; n < this.maths.length; n++) e.push.apply(e, this.maths[n].getVariables(t));
                            this.variables = e
                        }
                        return this.variables
                    },
                    grabLatex: function () {
                        var t = "\\begin{figure}[ht!]<br>\\centering<br>\\includegraphics[width=90mm]{" + this.src + "}<br>\\end{figure}<br>";
                        return t
                    },
                    findInner: function (t) {
                        var e = "", n = 0;
                        if (t.indexOf("sin") < 0 && t.indexOf("cos") < 0 && t.indexOf("tan") < 0 && t.indexOf("sec") < 0 && t.indexOf("csc") < 0 && t.indexOf("cot") < 0) {
                            var i = "deg(" + t + ")";
                            return i
                        }
                        for (; n < t.length;) if ("sin" == t.slice(n, n + 3) || "cos" == t.slice(n, n + 3) || "tan" == t.slice(n, n + 3) || "sec" == t.slice(n, n + 3) || "csc" == t.slice(n, n + 3) || "cot" == t.slice(n, n + 3)) {
                            e += t.slice(n, n + 4);
                            for (var o = 0, r = 0, s = n; s < t.length; s++) if ("(" == t.charAt(s) && r++, ")" == t.charAt(s) && r--, 0 == r && ")" == t.charAt(s)) {
                                o = s;
                                break
                            }
                            n += 4, e += this.findInner(t.slice(n, o + 1)), n = o + 1
                        } else e += t.charAt(n), n++;
                        return e
                    }
                }), e.exports = u.register("functions.Graph", m, {aliases: ["Graph"]})
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/Graph/index.js", "/node_modules/seaglass/src/Element/Functions/Graph")
        }, {
            "../../../SeaGlass": 51,
            "../../IO/Text/Math": 36,
            "../index": 30,
            "./Graph.less": 22,
            _process: 6,
            buffer: 2,
            underscore: 57
        }],
        24: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-functions-Picture .SeaGlass-Element-Inner{max-width:500px;width:100%;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;overflow:hidden}.SeaGlass-functions-Picture.attr-state-image .SeaGlass-Element-Inner{border:none !important;width:auto}.SeaGlass-functions-Picture .SeaGlass-Element-Inner:before{content:' ';position:absolute;top:0;right:0;width:30px;height:29px;background:#fff;background:rgba(255,255,255,0.74);-webkit-border-bottom-left-radius:3px;-moz-border-radius-bottomleft:3px;border-bottom-left-radius:3px;z-index:1}.SeaGlass-functions-Picture .SeaGlass-UI-EditButton{display:none}.SeaGlass-functions-Picture .msg{position:absolute;width:100%;text-align:center;margin-left:-15px;top:30px;font-size:25px;color:#ae2535}.SeaGlass-functions-Picture .spacer{width:100%;padding-bottom:68%}.SeaGlass-functions-Picture .button-wrap{position:absolute;width:100%;top:50%;margin-top:-70px}.SeaGlass-functions-Picture .button{display:inline-block;vertical-align:top;width:23%;padding:6px 6px 4px;margin:0 4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;box-shadow:1px 1px 3px #727272;cursor:pointer}.SeaGlass-functions-Picture .camera{margin-left:0}.SeaGlass-functions-Picture .button img{width:100%}.SeaGlass-functions-Picture .image{max-width:100%;display:block}.SeaGlass-functions-Picture .wait-wrap{line-height:318px;text-align:center;font-size:32px;color:#c5c9c9;font-weight:normal}.SeaGlass-functions-Picture video,.SeaGlass-functions-Picture .canvas{width:100%;margin-bottom:-6px}.SeaGlass-functions-Picture .canvas{display:none}.SeaGlass-functions-Picture .videoPlaceholder{width:100%;background-color:#1d1d1d;color:#9da1a1;text-align:center;font-size:22px}.SeaGlass-functions-Picture .sketch{background-color:white}.SeaGlass-functions-Picture .snap{position:absolute;bottom:10px;left:10px;border:none;font-size:14px;opacity:.9}.SeaGlass-functions-Picture .snap:hover{opacity:1}.SeaGlass-functions-Picture .galleryWrap{overflow-x:auto;overflow-y:hidden;width:auto;white-space:nowrap;background-color:#dae0e0;height:308px;text-align:left;padding:8px 4px;-moz-box-shadow:inset 0 0 40px #bec2c2;-webkit-box-shadow:inset 0 0 40px #bec2c2;box-shadow:inset 0 0 40px #bec2c2;border:1px solid #9da1a1}.SeaGlass-functions-Picture .galleryWrap .vertWrap{width:106px;display:inline-block;margin:0 2px;white-space:normal;width:126px;vertical-align:top}.SeaGlass-functions-Picture .galleryWrap .vertWrap a{height:96px;line-height:106px;width:126px;display:block}.SeaGlass-functions-Picture .galleryWrap .vertWrap img{max-height:82px;max-width:109px;-webkit-transition:all .3s ease;-moz-transition:all .3s ease;-o-transition:all .3s ease;-ms-transition:all .3s ease;transition:all .3s ease;border:5px solid #f5f7f7;margin:4px;box-shadow:1px 1px 3px #9da1a1}.SeaGlass-functions-Picture .galleryWrap .vertWrap img:hover{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-o-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);box-shadow:2px 2px 5px #9da1a1}.avpw_is_fullscreen #avpw_controls{z-index:1000000}.avpw_is_fullscreen #avpw_control_cancel_pane{position:absolute;top:0}@media only screen and (max-width:950px){.avpw_is_fullscreen #avpw_controls{top:0 !important;left:0 !important;right:0 !important;bottom:0 !important}}@media only screen and (min-width:780px){.attr-state-image.SeaGlass-functions-Picture .SeaGlass-UI-EditButton{display:block}.attr-state-image.SeaGlass-functions-Picture .SeaGlass-Element-Inner:before{width:55px}}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/Picture/Picture.less", "/node_modules/seaglass/src/Element/Functions/Picture")
        }, {_process: 6, buffer: 2}],
        25: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../../SeaGlass"), h = t("../index"), p = t("../../../lib/BrowserDetect"),
                    f = t("../../../lib/hasFileUpload"), m = t("../../../lib/fineUploader");
                if (t("../../../lib/jquery.cssAttr"), t("./Picture.less"), "undefined" != typeof Aviary) var g = new Aviary.Feather({
                    apiKey: "kvnopvmckyfqxhve",
                    apiVersion: 3,
                    theme: "dark",
                    tools: "all",
                    appendTo: ""
                });
                var b = function (t) {
                    var e = this;
                    this.build(), this.clean(), this.$wrapper.find(".SeaGlass-UI-EditButton").bind("mousedown touchstart", function () {
                        g.launch({
                            image: e.$image[0], onSave: function (t, n) {
                                e.doc().historyPoint(), $.ajax({
                                    type: "POST",
                                    url: "/api/upload-image/",
                                    data: {url: n},
                                    dataType: "JSON",
                                    success: function (t) {
                                        t.error || (e.uri = t.uri, e.updateImgSrc())
                                    }
                                })
                            }, onError: function (t) {
                                console.warn(t.message)
                            }
                        })
                    })
                };
                b.prototype = u.util.extend(new h, {
                    type: "SeaGlass-functions-Picture",
                    classes: "SeaGlass-Function",
                    hasInner: !0,
                    ui: ["Resizable", "RemoveButton", "EditButton"],
                    init: function (t) {
                        this.showMenu()
                    },
                    clean: function () {
                        this.uri = !1, this.maxWidth = 500, this.thumbs = []
                    },
                    dump: function () {
                        return {type: this.type, uri: this.uri, maxWidth: this.maxWidth}
                    },
                    grabLatex: function () {
                        var t = "\\begin{figure}[ht!]<br>\\centering<br>\\includegraphics[width=90mm]{https://d11ms3y3p0fbtv.cloudfront.net/uploads/full/" + this.uri + ".jpg}<br>\\end{figure}<br>";
                        return t
                    },
                    load: function (t) {
                        return this.uri = t.uri, this.maxWidth = t.maxWidth, this.uri && this.showImage(), this
                    },
                    getHtml: function (t) {
                        return "<img src='" + t.uri + "' />"
                    },
                    pics: {
                        upload: "data:image/png;base64,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",
                        gallery: "data:image/png;base64,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",
                        camera: "data:image/png;base64,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"
                    },
                    showMenu: function (t) {
                        function e() {
                            return !!(navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia)
                        }

                        t = "undefined" != typeof t ? t : "";
                        var n = this;
                        return this.$wrapper.cssAttr("state", "menu"), this.setHtml("<div class='spacer'></div><div class='button-wrap'><div class='button blue upload'>    <img src='" + this.pics.upload + "' alt='Upload' /></div>" + (f ? "<div class='button blue gallery' style='left: -2px;'>    <img src='" + this.pics.gallery + "' alt='Gallery' /></div>" : "") + (e() && "Firefox" != p.browser ? "<div class='button blue camera'>    <img src='" + this.pics.camera + "' alt='Camera' /></div>" : "") + "</div><div class='pictureError' style='position: absolute; width: 100%; top: 75%; color: red;'>" + t + "</div>"), this.doc().readonly ? void 0 : (f && "undefined" != typeof m && new m.FineUploaderBasic({
                            button: n.$wrapper.find(".upload")[0],
                            request: {endpoint: "/api/upload-image/", multiple: !1, inputName: "image"},
                            callbacks: {
                                onSubmit: function (t, e) {
                                    n.doc().historyPoint(), n.$wrapper.find(".button-wrap").remove(), n.setHtml("<div class='wait-wrap'>Uploading...</div>")
                                }, onComplete: function (t, e, i) {
                                    i.error ? n.showMenu(i.error_msg) : (n.uri = i.uri, n.showImage())
                                }
                            }
                        }), n.$wrapper.find(".gallery").bind("mousedown touchstart", function (t) {
                            t.preventDefault(), n.showGallery()
                        }), n.$wrapper.find(".camera").bind("mousedown touchstart", function (t) {
                            n.showCamera()
                        }), navigator.userAgent.match(/(iPad|iPhone|iPod)/g) && n.$wrapper.find("input").attr("multiple", !1).attr("accept", "image/*;capture=camera"), $.ajax({
                            type: "POST",
                            url: "/api/get-thumbs.php",
                            dataType: "JSON",
                            success: function (t) {
                                function e() {
                                    n.$wrapper.find(".gallery").remove()
                                }

                                t.error ? e() : (n.thumbs = t.ids.reverse(), 0 === n.thumbs.length && e())
                            }
                        }), this)
                    },
                    showImage: function () {
                        var t = this;
                        return this.setHtml("<img class='image' src=''>"), this.$image = this.$inner.find(".image"), this.updateImgSrc(), this.$image.load(function () {
                            t.$wrapper.cssAttr("state", "image")
                        }).on("dragstart", function (t) {
                            t.preventDefault()
                        }), this
                    },
                    updateImgSrc: function () {
                        this.$image.attr("src", u.config.staticRoot + "/uploads/full/" + this.uri + ".jpg")
                    },
                    showGallery: function () {
                        function t(t, e) {
                            function n(e) {
                                return t % 3 > e ? Math.floor(t / i) + 1 : Math.floor(t / i)
                            }

                            var i = 3;
                            if (t > 3 * i) return e % i === 0;
                            for (var o = e, r = 0; o > 0;) o -= n(r), r++;
                            return 0 === o
                        }

                        var e = this;
                        this.$wrapper.cssAttr("state", "gallery"), this.setHtml("<div class='galleryWrap'></div>"), this.thumbs.length <= 9 && this.$inner.find(".galleryWrap").css("text-align", "center");
                        for (var n = 0; n < this.thumbs.length; n++) {
                            if (t(this.thumbs.length, n)) {
                                var i = $("<div class='vertWrap'>");
                                this.$inner.find(".galleryWrap").append(i)
                            }
                            i.append("<a href='javascript:void(0)' data-uri='" + this.thumbs[n].uri + "'><img src='" + u.config.staticRoot + "/uploads/small/" + this.thumbs[n].uri + ".jpg'></a>")
                        }
                        return this.$inner.find("a").click(function () {
                            e.doc().historyPoint(), e.uri = $(this).attr("data-uri"), e.showImage()
                        }), this
                    },
                    showCamera: function () {
                        function t() {
                            e.$wrapper.find(".videoPlaceholder").remove(), e.$wrapper.find("video, .snap").show()
                        }

                        var e = this;
                        this.$wrapper.cssAttr("state", "camera"), this.setHtml("<div class='videoPlaceholder'><br><br><br><br><br>Loading...<br><div style='margin-top: 5px; font-size: 15px'>Please accept the request<br>to use your camera.</div></div><video style='display: none;' autoplay></video><canvas class='canvas' width='1280' height='960'></canvas><button class='snap SeaGlass buttonText blue' style='display: none;'>Capture</button>        ");
                        var n = .75 * (this.$inner.width() - 30);
                        this.$wrapper.find(".videoPlaceholder").css("height", n);
                        var i = e.$wrapper.find("canvas")[0], o = i.getContext("2d"), r = e.$wrapper.find("video")[0],
                            s = {video: !0}, a = function (t) {
                                console.log("Video capture error: ", t.code)
                            };
                        return navigator.getUserMedia ? navigator.getUserMedia(s, function (e) {
                            t(), r.src = e, r.play()
                        }, a) : navigator.webkitGetUserMedia && navigator.webkitGetUserMedia(s, function (e) {
                            t(), r.src = window.webkitURL.createObjectURL(e), r.play()
                        }, a), e.$wrapper.find(".snap").click(function () {
                            e.doc().historyPoint(), o.drawImage(r, 0, 0, 1280, 960), $(window).unbind("keyup.picture");
                            var t = e.$wrapper.find("canvas")[0].toDataURL("image/jpeg", .5);
                            $.ajax({
                                type: "POST",
                                url: "/api/upload-image/",
                                data: "data=" + encodeURIComponent(t),
                                dataType: "JSON",
                                success: function (t) {
                                    t.error || (e.uri = t.uri, e.$wrapper.cssAttr("state", "image"))
                                }
                            }), e.setHtml("<img src='" + t + "' class='image' />"), e.$image = e.$wrapper.find(".image")
                        }), $(window).bind("keyup.picture", function (t) {
                            (13 == t.keyCode || 10 == t.keyCode || 32 == t.keyCode) && (t.preventDefault(), e.$wrapper.find(".snap").click())
                        }), this
                    }
                }), e.exports = u.register("functions.Picture", b, {aliases: ["Picture"]})
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/Picture/index.js", "/node_modules/seaglass/src/Element/Functions/Picture")
        }, {
            "../../../SeaGlass": 51,
            "../../../lib/BrowserDetect": 53,
            "../../../lib/fineUploader": 54,
            "../../../lib/hasFileUpload": 55,
            "../../../lib/jquery.cssAttr": 56,
            "../index": 30,
            "./Picture.less": 24,
            _process: 6,
            buffer: 2
        }],
        26: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-functions-Solver{padding:3px 0 3px 8px;font-size:17px}.SeaGlass-functions-Solver-input{padding:9px 2px 7px}.SeaGlass-functions-Solver-answer{display:inline-block;margin-left:30px}.SeaGlass-functions-Solver.hasAnswer .SeaGlass-functions-Solver-answer{opacity:1}.SeaGlass-functions-Solver-equals{margin:-3px -12px 0 8px;display:inline-block;font-size:35px;-moz-border-radius:4px;border-radius:4px;width:16px;text-align:center;height:21px;line-height:20px;vertical-align:middle;opacity:0;color:#9da1a1}.SeaGlass-functions-Solver.hasAnswer .SeaGlass-functions-Solver-equals,.SeaGlass-functions-Solver.hasError .SeaGlass-functions-Solver-equals{opacity:1}.SeaGlass-functions-Solver-error{font-family:Consolas,Monaco,Menlo,'Ubuntu Mono','Consolas','source-code-pro',monospace;color:#1f348b;font-size:14px;display:none;width:0}.SeaGlass-functions-Solver.hasError .SeaGlass-functions-Solver-error{display:inline-block;width:auto}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/Solver/Solver.less", "/node_modules/seaglass/src/Element/Functions/Solver")
        }, {_process: 6, buffer: 2}],
        27: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../../SeaGlass"), h = t("../index"), p = t("../../IO/Text"), f = t("../../IO/Text/Math"),
                    m = t("underscore");
                t("./Solver.less");
                var g = function (t) {
                    var e = this;
                    this.build(), this.$error = this.$wrapper.find(".SeaGlass-functions-Solver-error"), this.input = u.create(f, {$wrapper: this.$wrapper.find(".SeaGlass-functions-Solver-input")}).bind({
                        onEnter: function (t) {
                            e.onEnter(t)
                        }, onBSDelete: function (t, n) {
                            e.isEmpty() ? e.replaceWithText("").setContents("") : e.onBSDelete(t, n)
                        }, onArrow: function (t, n) {
                            e.onArrow(t, n)
                        }, onBlur: function (t) {
                            var n = this.doc();
                            if (e.solvable && e.answer && !n.readonly && !n.noSolve()) {
                                var i = e.getContents();
                                e.code != i && (e.parse(), e.code = i)
                            }
                        }
                    }), this.output = u.create(f, {
                        $wrapper: this.$wrapper.find(".SeaGlass-functions-Solver-answer"),
                        readonly: !0
                    }).bind({
                        onMousedown: function (t) {
                            t.preventDefault(), setTimeout(function () {
                                e.focus("right")
                            }, 0)
                        }
                    })
                };
                g.prototype = u.util.extend(new h, new p, {
                    type: "SeaGlass-functions-Solver",
                    tag: "div",
                    html: "<div class='SeaGlass-functions-Solver-input'></div><div class='SeaGlass-functions-Solver-equals' title='Solve (Enter)'>=</div><div class='SeaGlass-functions-Solver-answer'></div><span class='SeaGlass-functions-Solver-error'></span>",
                    classes: "",
                    isSolver: !0,
                    clean: function () {
                        this.locked = !1, this.solvable = !1, this.code = "", this.setContents(""), this.hideAnswer(), this.answer = null, this.$wrapper.removeClass("hasError hasAnswer"), this.errorFlag = !1
                    },
                    dump: function () {
                        return {
                            caret: this.dumpCaret(),
                            type: this.type,
                            code: this.getContents(),
                            answer: this.answer,
                            locked: this.locked
                        }
                    },
                    grabLatex: function () {
                        if (this.answer) var t = "<br>$" + this.getContents() + " = " + this.answer.display + "$<br>"; else var t = "<br>$" + this.getContents() + " =  $<br><br>";
                        return t
                    },
                    load: function (t, e, n) {
                        t = t || {code: "", answer: !1};
                        var i = this;
                        return this.setContents(t.code)[t.answer && t.answer.error ? "loadError" : "loadAnswers"](t.answer).loadCaret(t.caret), this.locked = t.locked || !1, this.code = t.code, this.solvable = !!t.answer, setTimeout(function () {
                            i.input.redraw(), i.output.redraw()
                        }, 0), this
                    },
                    replaceWithText: function (t) {
                        t = t || "", this.doc().historyPoint();
                        var e = this.getText(), n = this.after(u.io.Html).setContents(e + t).focus("right");
                        return this.remove(), n
                    },
                    setContents: function (t) {
                        return this.doc().loading && "string" != typeof t || this.input.setContents(t), this
                    },
                    getContents: function () {
                        return this.input.getContents()
                    },
                    getText: function () {
                        return this.input.getText()
                    },
                    append: function (t) {
                        this.setContents(this.getContents() + " " + t)
                    },
                    pasteFunction: function (t) {
                        return this.input.pasteFunction(t), this
                    },
                    paste: function (t) {
                        return this.input.paste(t), this
                    },
                    getCaretPos: function () {
                        return this.input.getCaretPos()
                    },
                    isEmpty: function () {
                        return this.input.isEmpty()
                    },
                    focusAt: function (t, e) {
                        return this.input.focusAt(t, e), this
                    },
                    focusEmpty: function (t) {
                        return this.input.focusEmpty(t), this
                    },
                    focus: function (t) {
                        return this.input.focus(t), this
                    },
                    onMousedown: function (t) {
                        var e = u.getCursorXY(t);
                        e.x > this.input.$wrapper.offset().left + this.input.$wrapper.width() && !this.doc().readonly && (t.preventDefault(), this.focus("right"))
                    },
                    onEnter: function (t) {
                        t = t || {}, this.getVariables(!0);
                        var e = this.input.getCaretPos(), n = this.next();
                        if (e.isStart) this.before(u.isMobile ? u.functions.Solver : u.io.Html); else {
                            this.solvable = !t.shiftKey || this.answer;
                            var i = this.doc();
                            !this.solvable || i && i.noSolve() || this.solve(), t.shiftKey || n.isNull || n.isStructure ? (this.solvable || this.doc().historyPoint(), this.after(u.io.Html).focus("left")) : (u.cursor.makeLeft(), n.before(u.cursor))
                        }
                    },
                    insert: function (t) {
                        return this[this.getCaretPos().isStart ? "before" : "after"](t)
                    },
                    checkValidity: function () {
                        var t = this;
                        setTimeout(function () {
                            t.isEmpty() ? t.replaceWithText() : t.$wrapper.addClass("valid")
                        }, 0)
                    },
                    hideAnswer: function () {
                        return this.answer && this.output.setContents(""), this
                    },
                    getResultDisplay: function (t, e, n) {
                        t = t || this.answer, e = e || this.getContents(), n = n || !1;
                        var i = t.latex, o = t.numerical;
                        if ("string" == typeof i && i.length > 1e4) return t.error_msg = "Result too long to display!", void this.error(t);
                        var r = "";
                        if (i && (this.output.setContents(i), i = this.output.getContents()), !(o && i == e || "deg" == this.doc().meta.angles && o)) {
                            var s = !1,
                                a = e.replace(/^\\?[a-zA-Z_][a-zA-Z_0-9]*(\\left\([a-zA-Z][a-zA-Z0-9_]*(\s*\,\s*[a-zA-Z][a-zA-Z0-9_]*)*\\right\))?\s*=/g, "");
                            e != a && i == a && (s = !0);
                            var l = e.match(/^\s*[a-zA-Z_][a-zA-Z_0-9]*\s*$/);
                            l && l == i && (s = !0), s || (r += i)
                        }
                        if (o && o != e && parseInt(o, 10) != i && o != i) {
                            if ("" != r) {
                                var c = o.match(/\.[0-9]+$/g);
                                r += n || c && 16 != c[0].length ? " = " : " \\approx "
                            }
                            r += o
                        }
                        return "" == r ? !1 : r
                    },
                    isParsable: !0,
                    dumpCode: function (t) {
                        return t = t || {}, !this.solvable || t.vars && 0 === m.intersection(this.getVariables(), t.vars).length && t.caller != this ? [] : [{
                            el: this,
                            send: {code: this.getContents(), type: "Code"}
                        }]
                    },
                    loadAnswers: function (t) {
                        return this.answer = t, t ? (t.display = this.getResultDisplay(t, this.getContents()), t.display ? (this.output.setContents(t.display).redraw(), this.$wrapper.removeClass("hasError").addClass("hasAnswer")) : "" == t.display && this.hideAnswer()) : this.hideAnswer(), this
                    },
                    loadError: function (t) {
                        return t = t || !1, this.answer = t, this.errorFlag = !0, this.$wrapper.removeClass("hasAnswer").addClass("hasError"), this.output.setContents(""), this.$error.html(t.error_msg), this
                    },
                    getVariables: function (t) {
                        return this.input.getVariables(t)
                    },
                    solve: function () {
                        return this.solvable = !0, this.doc().historyPoint(), this.parse(), this
                    }
                }), e.exports = u.register("functions.Solver", g, {aliases: ["Code"]})
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/Solver/index.js", "/node_modules/seaglass/src/Element/Functions/Solver")
        }, {
            "../../../SeaGlass": 51,
            "../../IO/Text": 39,
            "../../IO/Text/Math": 36,
            "../index": 30,
            "./Solver.less": 26,
            _process: 6,
            buffer: 2,
            underscore: 57
        }],
        28: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-functions-Video .SeaGlass-Element-Inner{max-width:500px;width:100%;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;overflow:hidden}.SeaGlass-functions-Video-spacer{width:100%;padding-bottom:66%}.SeaGlass-functions-Video .SeaGlass-Element-Inner:before{content:' ';position:absolute;top:0;right:0;width:30px;height:29px;background:#fff;background:rgba(255,255,255,0.74);-webkit-border-bottom-left-radius:3px;-moz-border-radius-bottomleft:3px;border-bottom-left-radius:3px;z-index:1}.SeaGlass-functions-Video.attr-state-video .SeaGlass-Element-Inner:before{width:55px}.SeaGlass-functions-Video.attr-state-editor .SeaGlass-functions-Video-video,.SeaGlass-functions-Video.attr-state-editor .SeaGlass-UI-EditButton,.SeaGlass-functions-Video.attr-state-video .SeaGlass-functions-Video-editor{display:none}.SeaGlass-functions-Video-video{position:absolute;left:0;top:0;height:100%;width:100%}.SeaGlass-functions-Video-editor{position:absolute;width:100%;left:0;top:32%}.SeaGlass-functions-Video-url{width:80%;max-width:300px;padding:5px 7px;margin:6px 0;border:none;text-align:center;-moz-border-radius:3px;border-radius:3px;-moz-box-shadow:inset 0 0 6px #b4b4b4;-webkit-box-shadow:inset 0 0 6px #b4b4b4;box-shadow:inset 0 0 6px #b4b4b4}.SeaGlass-functions-Video-load{height:25px;width:48px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.SeaGlass-functions-Video-error{width:90%;display:inline-block;color:#ad0000;margin-top:-20px}.SeaGlass-functions-Video.attr-error-false .SeaGlass-functions-Video-error{display:none}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/Video/Video.less", "/node_modules/seaglass/src/Element/Functions/Video")
        }, {_process: 6, buffer: 2}],
        29: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                function u(t) {
                    for (var e = t.split("?"), n = 2 == e.length ? e[1] : "", i = n.split("&"), o = {}, r = 0; r < i.length; r++) {
                        var s = i[r].split("=");
                        o[s[0]] = s[1]
                    }
                    return o
                }

                var h = t("../../../SeaGlass"), p = t("../index");
                t("../../../lib/jquery.cssAttr"), t("./Video.less");
                var f = function (t) {
                    var e = this;
                    this.build(), this.clean(), this.$url = this.$wrapper.find(".SeaGlass-functions-Video-url"), this.$video = this.$wrapper.find(".SeaGlass-functions-Video-video"), this.$error = this.$wrapper.find(".SeaGlass-functions-Video-error"), this.$wrapper.find(".SeaGlass-UI-EditButton").bind("mousedown touchstart", function () {
                        e.showEditor()
                    }), this.$wrapper.find(".SeaGlass-functions-Video-load").bind("touchstart mousedown", function () {
                        e.updateValues(), e.showVideo()
                    }), this.$url.keydown(function (t) {
                        (13 == t.keyCode || 10 == t.keyCode) && (e.updateValues(), e.showVideo())
                    })
                };
                f.prototype = h.util.extend(new p, {
                    type: "SeaGlass-functions-Video",
                    classes: "SeaGlass-Function",
                    hasInner: !0,
                    html: "<div class='SeaGlass-functions-Video-spacer'></div><div class='SeaGlass-functions-Video-editor' ><div class='SeaGlass-functions-Video-error'></div><input class='SeaGlass-functions-Video-url' type='text' placeholder='YouTube or Vimeo URL' /><br><button class='SeaGlass-functions-Video-load blue'>Load</button><br></div>",
                    ui: ["Resizable", "RemoveButton", "EditButton"],
                    init: function (t) {
                        this.showEditor()
                    },
                    clean: function () {
                        this.$wrapper.cssAttr("error", "false").cssAttr("state", "editor"), this.service = null, this.url = null
                    },
                    dump: function () {
                        return {type: this.type, url: this.url}
                    },
                    load: function (t) {
                        return this.url = t.url, this.url ? this.showVideo() : this.showEditor(), this
                    },
                    showEditor: function () {
                        this.$wrapper.cssAttr("state", "editor"), this.$url.val(this.url)
                    },
                    showVideo: function () {
                        this.$wrapper.cssAttr("error", "false").cssAttr("state", "video"), this.$video.remove();
                        for (var t, e = 0; e < this.services.length; e++) {
                            var n = this.services[e];
                            if (this.url.match(n.regex)) {
                                if (t = n.src(this.url, this), !t) return;
                                break
                            }
                        }
                        t ? (this.$video = $("<iframe src='" + t + "' frameborder='0' allowfullscreen mozallowfullscreen webkitallowfullscreen></iframe>").addClass("SeaGlass-functions-Video-video").appendTo(this.$inner), this.$video.html()) : this.throwError("Unknown Video Service!<br>We support YouTube, Vimeo and SchoolTube.")
                    },
                    throwError: function (t) {
                        this.showEditor(), this.$wrapper.cssAttr("error", "true"), this.$error.html(t)
                    },
                    updateValues: function () {
                        this.url = this.$url.val()
                    },
                    grabLatex: function () {
                        var t = "\\url{" + this.url + "}<br>";
                        return t
                    },
                    services: [{
                        name: "YouTube", regex: /youtube\.com/i, src: function (t) {
                            var e = u(t);
                            return "https://www.youtube.com/embed/" + e.v
                        }
                    }, {
                        name: "YouTube", regex: /youtu\.be/i, src: function (t) {
                            return t.replace(/^https?:\/\/youtu\.be\//i, "https://www.youtube.com/embed/")
                        }
                    }, {
                        name: "Vimeo", regex: /vimeo\.com/i, src: function (t) {
                            return t.replace(/^https?:\/\/vimeo\.com\//i, "https://player.vimeo.com/video/")
                        }
                    }, {
                        name: "SchoolTube", regex: /schooltube\.com/i, src: function (t, e) {
                            return t = t.match(/^https?:\/\/(www)?\.schooltube\.com\/video\/[a-zA-Z0-9]+\//i), t && 0 !== t.length ? t[0].replace(/^https?:\/\/(www)?\.schooltube\.com\/video\//, "https://www.schooltube.com/embed/") : (e.throwError("Invalid video URL"), !1)
                        }
                    }]
                }), e.exports = h.register("functions.Video", f)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/Video/index.js", "/node_modules/seaglass/src/Element/Functions/Video")
        }, {
            "../../../SeaGlass": 51,
            "../../../lib/jquery.cssAttr": 56,
            "../index": 30,
            "./Video.less": 28,
            _process: 6,
            buffer: 2
        }],
        30: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../SeaGlass"), h = t("../index.js");
                t("./Functions.less");
                var p = function () {
                    this.build()
                };
                p.prototype = u.util.extend(new h, {
                    isFunction: !0, type: "SeaGlass-Function", setHtml: function (t) {
                        return this.$container.find("*:not(.SeaGlass-UI)").remove(), this.$container.append(t), this
                    }
                }), e.exports = u.register("Functions", p)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Functions/index.js", "/node_modules/seaglass/src/Element/Functions")
        }, {"../../SeaGlass": 51, "../index.js": 47, "./Functions.less": 21, _process: 6, buffer: 2}],
        31: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-IO-Html{display:inline-block;font-size:12pt;line-height:22px}.SeaGlass-IO-Html:hover{cursor:text}.SeaGlass-IO-Html .redactor_editor{outline:none;-moz-user-select:auto;-ms-user-select:auto;-khtml-user-select:auto;-webkit-user-select:auto;-o-user-select:auto;user-select:auto}.SeaGlass-IO-Html .redactor_toolbar{display:none}.SeaGlass-IO-Html p{padding:5px 0;margin:0}.SeaGlass-IO-Html a{text-decoration:underline !important;cursor:text}.SeaGlass-IO-Html .underline,.copyArea .underline{text-decoration:underline}.SeaGlass-IO-Html b{font-weight:bold}.SeaGlass-IO-Html i{font-style:italic}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/Text/Html/Html.less", "/node_modules/seaglass/src/Element/IO/Text/Html")
        }, {_process: 6, buffer: 2}],
        32: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                {
                    var u = t("../../../../SeaGlass");
                    t("../index")
                }
                t("./redactor"), t("./rangy"), t("./Html.less"), $("body").append("<b><i></i></b>"), window.rangy.init();
                var h = function () {
                    var t = this;
                    this.build(), this.$redactor = $("<textarea />").appendTo(this.$wrapper).redactor({
                        allowedTags: ["b", "i", "u", "a"],
                        linkAnchor: !0,
                        buttons: ["bold", "italic", "underline"],
                        tabFocus: !1,
                        shortcuts: !1,
                        pasteBeforeCallback: function (e) {
                            if (e.match(/^\$.+\$$/)) {
                                var n = t.getFocusedLine(), i = 0 === n.text().replace(t.hiddenCharRegex, "").length;
                                i && (t.replaceLineWithCode(n).setContents(e.slice(1, -1)).focus(), t.remove())
                            }
                            return ""
                        }
                    }), this.$buttons = this.$wrapper.find(".redactor_btn"), this.$textarea = this.$wrapper.find(".redactor_editor"), this.clean()
                };
                h.prototype = u.util.extend(new u.io.Text, {
                    type: "SeaGlass-IO-Html",
                    tag: "div",
                    isHtml: !0,
                    hiddenCharRegex: /(\u200b|&zwj;)/g,
                    init: function (t) {
                    },
                    clean: function () {
                        this.setContents()
                    },
                    dump: function () {
                        return {caret: this.dumpCaret(), type: this.type, content: this.getContents()}
                    },
                    grabLatex: function () {
                        var t = this.getContents();
                        return parsed = "<br>" + $(t).text() + "<br>", parsed
                    },
                    load: function (t) {
                        return t = t || {}, t.content && "" !== t.content && "<p></p>" != t.content ? (this.doc().version || /^<p>/.test(t.content) || (t.content = "<p>" + t.content + "</p>"), this.setContents(t.content)) : this.setContents(), this.loadCaret(t.caret), this
                    },
                    getHtml: function (t) {
                        return "<div>" + t.content + "</div>"
                    },
                    checkText: function () {
                        var t = this.getFocusedLine(),
                            e = u.io.Math.prototype.syntax.isMath(t.text().replace(this.hiddenCharRegex, ""));
                        return e ? (this.replaceLineWithCode(t), !0) : !1
                    },
                    getLineContents: function () {
                        var t = this.getFocusedLine();
                        return t.text().replace(this.hiddenCharRegex, "")
                    },
                    lineIsEmpty: function () {
                        this.getFocusedLine();
                        return 0 === this.getLineContents().length
                    },
                    splitAtCursor: function (t) {
                        if (this.lineIsEmpty()) {
                            var e = this.getFocusedLine(), n = e.nextAll(), i = e.prevAll(), o = this.after(t);
                            return 0 !== n.length && o.after(u.io.Html).setContents($("<div/>").append(n).html()), 0 === i.length ? this.remove() : e.remove(), o
                        }
                        return this.after(t)
                    },
                    replaceLineWithCode: function (t) {
                        t = t || this.getFocusedLine();
                        var e = t.nextAll(), n = t.prevAll(), i = this.after(u.functions.Solver),
                            o = u.io.Math.prototype.cleanText(t.text().replace(this.hiddenCharRegex, ""));
                        return i.setContents(o), setTimeout(function () {
                            i.focusEmpty(-1)
                        }, 0), 0 !== e.length && i.after(u.io.Html).setContents($("<div/>").append(e).html()), 0 === n.length ? this.remove() : t.remove(), i
                    },
                    getCaretPos: function () {
                        function t(t) {
                            var e, n, i, o = !1, r = !1;
                            if (window.getSelection) {
                                var s = window.getSelection();
                                s.rangeCount && (e = s.getRangeAt(0), n = e.cloneRange(), n.selectNodeContents(t), n.setEnd(e.startContainer, e.startOffset), o = "" == n.toString().replace(this.hiddenCharRegex, ""), n.selectNodeContents(t), n.setStart(e.endContainer, e.endOffset), r = "" == n.toString().replace(this.hiddenCharRegex, "")), i = "Range" == s.type
                            } else document.selection && "Control" != document.selection.type && (e = document.selection.createRange(), n = e.duplicate(), n.moveToElementText(t), n.setEndPoint("EndToStart", e), o = "" == n.text.replace(this.hiddenCharRegex, ""), n.moveToElementText(t), n.setEndPoint("StartToEnd", e), r = "" == n.text.replace(this.hiddenCharRegex, ""), i = 0 !== n.text.replace(this.hiddenCharRegex, "").length);
                            return i ? {isStart: !1, isEnde: !1} : {isStart: o, isEnd: r}
                        }

                        if (this.isEmpty()) return {isStart: !0, isEnd: !0, isTop: !0, isBottom: !0};
                        var e = t(this.$textarea[0]), n = this.getFocusedLine().index();
                        return e.isTop = 0 === n, e.isBottom = n === this.$wrapper.find("p").length - 1, e.isTop || (e.isStart = !1), e.isBottom || (e.isEnd = !1), e
                    },
                    isEmpty: function () {
                        return 0 === this.getText().length && this.$wrapper.find("p").length <= 1
                    },
                    getContents: function (t) {
                        return this.$textarea.html()
                    },
                    getText: function () {
                        return this.$textarea.text().replace(this.hiddenCharRegex, "")
                    },
                    setContents: function (t) {
                        return t = t || "<p>​</p>", this.$textarea.html(t), this
                    },
                    getFocusedLine: function () {
                        var t = $(window.rangy.getSelection().focusNode);
                        return t.is("p") || (t = t.parents("p")), t
                    },
                    getLastLine: function () {
                        return this.$wrapper.find("p").last()
                    },
                    trimTrailingWhitespace: function () {
                        var t = this.getLastLine();
                        return 0 === t.text().replace(this.hiddenCharRegex, "").length && t.remove(), this
                    },
                    deleteBTEmptyLine: function (t) {
                        var e = this.$wrapper.find("p")[t ? "first" : "last"]();
                        return this.isEmpty() ? (this.remove(), !0) : 0 === e.text().replace(this.hiddenCharRegex, "").length ? (e.remove(), !0) : !1
                    },
                    setCaretToStart: function () {
                        return this.$redactor.redactor("focus"), this
                    },
                    setCaretToEnd: function () {
                        return this.$redactor.redactor("focusEnd"), this
                    },
                    append: function (t) {
                        return this.$textarea.append(t), this
                    },
                    wrap: function (t) {
                        var e = this.getFocusedLine(), n = e.prevAll(), i = e.nextAll(), o = this.after(t);
                        if (o.append(this), 0 !== n.length) {
                            var r = $("<div />").append(n).html();
                            o.before(u.io.Html).setContents(r)
                        }
                        if (0 !== i.length) {
                            var s = $("<div />").append(i).html();
                            o.after(u.io.Html).setContents(s)
                        }
                        return this.onMove()
                    },
                    insert: function (t, e) {
                        var n, i = this.getCaretPos();
                        if (i.isStart) n = this.before(t, e); else if (i.isEnd) n = this.after(t, e); else {
                            var o = this.getFocusedLine(), r = o.nextAll().add(o), s = $("<div />").append(r).html();
                            r.remove(), n = this.after(t, e).focus("left"), n.after(u.io.Html).setContents(s)
                        }
                        return n
                    },
                    format: function (t) {
                        var e = this;
                        return this.$wrapper.find(".redactor_btn_" + t).click(), e.onFormat(e), this
                    },
                    getFormat: function () {
                        for (var t = {}, e = 0; e < this.$buttons.length; e++) {
                            var n = $(this.$buttons[e]);
                            t[n.attr("title").toLowerCase()] = n.hasClass("redactor_act")
                        }
                        return t
                    },
                    onFormat: u.noop,
                    onKeydown: function (t) {
                        -1 != [32, 13, 46].indexOf(t.keyCode) && this.doc().historyPoint();
                        var e = this;
                        setTimeout(function () {
                            e.checkText() && e.doc().historyPoint()
                        }, 0)
                    },
                    onEnter: function (t) {
                        this.doc().historyPoint()
                    },
                    onMove: function () {
                        var t = this.prev();
                        if (t && t.isHtml) {
                            return t.append(this.getContents()), this.remove(), t
                        }
                        return this.doc().readonly != this.readonly && (this.readonly = this.doc().readonly, this.readonly ? this.$textarea.removeAttr("contenteditable") : this.$textarea.attr("contenteditable", "true")), this
                    }
                }), e.exports = u.register("io.Html", h, {aliases: ["Text"]})
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/Text/Html/index.js", "/node_modules/seaglass/src/Element/IO/Text/Html")
        }, {
            "../../../../SeaGlass": 51,
            "../index": 39,
            "./Html.less": 31,
            "./rangy": 33,
            "./redactor": 34,
            _process: 6,
            buffer: 2
        }],
        33: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                var c = window.rangy = function () {
                    function t(t, e) {
                        var n = typeof t[e];
                        return n == u || !(n != d || !t[e]) || "unknown" == n
                    }

                    function e(t, e) {
                        return !(typeof t[e] != d || !t[e])
                    }

                    function n(t, e) {
                        return typeof t[e] != h
                    }

                    function i(t) {
                        return function (e, n) {
                            for (var i = n.length; i--;) if (!t(e, n[i])) return !1;
                            return !0
                        }
                    }

                    function o(t) {
                        return t && b(t, g) && y(t, m)
                    }

                    function r(t) {
                        console.error("Rangy not supported in your browser. Reason: " + t), w.initialized = !0, w.supported = !1
                    }

                    function s(t) {
                        var e = "Rangy warning: " + t;
                        w.config.alertOnWarn ? window.console.warn(e) : typeof window.console != h && typeof window.console.log != h && window.console.log(e)
                    }

                    function a() {
                        if (!w.initialized) {
                            var n, i = !1, s = !1;
                            t(document, "createRange") && (n = document.createRange(), b(n, f) && y(n, p) && (i = !0), n.detach());
                            var a = e(document, "body") ? document.body : document.getElementsByTagName("body")[0];
                            a && t(a, "createTextRange") && (n = a.createTextRange(), o(n) && (s = !0)), i || s || r("Neither Range nor TextRange are implemented"), w.initialized = !0, w.features = {
                                implementsDomRange: i,
                                implementsTextRange: s
                            };
                            for (var l = E.concat(x), c = 0, d = l.length; d > c; ++c) try {
                                l[c](w)
                            } catch (u) {
                                e(window, "console") && t(window.console, "log") && window.console.log("Init listener threw an exception. Continuing.", u)
                            }
                        }
                    }

                    function l(t) {
                        t = t || window, a();
                        for (var e = 0, n = A.length; n > e; ++e) A[e](t)
                    }

                    function c(t) {
                        this.name = t, this.initialized = !1, this.supported = !1
                    }

                    var d = "object", u = "function", h = "undefined",
                        p = ["startContainer", "startOffset", "endContainer", "endOffset", "collapsed", "commonAncestorContainer", "START_TO_START", "START_TO_END", "END_TO_START", "END_TO_END"],
                        f = ["setStart", "setStartBefore", "setStartAfter", "setEnd", "setEndBefore", "setEndAfter", "collapse", "selectNode", "selectNodeContents", "compareBoundaryPoints", "deleteContents", "extractContents", "cloneContents", "insertNode", "surroundContents", "cloneRange", "toString", "detach"],
                        m = ["boundingHeight", "boundingLeft", "boundingTop", "boundingWidth", "htmlText", "text"],
                        g = ["collapse", "compareEndPoints", "duplicate", "getBookmark", "moveToBookmark", "moveToElementText", "parentElement", "pasteHTML", "select", "setEndPoint", "getBoundingClientRect"],
                        b = i(t), v = i(e), y = i(n), w = {
                            version: "1.2.3",
                            initialized: !1,
                            supported: !0,
                            util: {
                                isHostMethod: t,
                                isHostObject: e,
                                isHostProperty: n,
                                areHostMethods: b,
                                areHostObjects: v,
                                areHostProperties: y,
                                isTextRange: o
                            },
                            features: {},
                            modules: {},
                            config: {alertOnWarn: !1, preferTextRange: !1}
                        };
                    w.fail = r, w.warn = s, {}.hasOwnProperty ? w.util.extend = function (t, e) {
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n])
                    } : r("hasOwnProperty not supported");
                    var x = [], E = [];
                    w.init = a, w.addInitListener = function (t) {
                        w.initialized ? t(w) : x.push(t)
                    };
                    var A = [];
                    w.addCreateMissingNativeApiListener = function (t) {
                        A.push(t)
                    }, w.createMissingNativeApi = l, c.prototype.fail = function (t) {
                        throw this.initialized = !0, this.supported = !1, new Error("Module '" + this.name + "' failed to load: " + t)
                    }, c.prototype.warn = function (t) {
                        w.warn("Module " + this.name + ": " + t)
                    }, c.prototype.createError = function (t) {
                        return new Error("Error in Rangy " + this.name + " module: " + t)
                    }, w.createModule = function (t, e) {
                        var n = new c(t);
                        w.modules[t] = n, E.push(function (t) {
                            e(t, n), n.initialized = !0, n.supported = !0
                        })
                    }, w.requireModules = function (t) {
                        for (var e, n, i = 0, o = t.length; o > i; ++i) {
                            if (n = t[i], e = w.modules[n], !(e && e instanceof c)) throw new Error("Module '" + n + "' not found");
                            if (!e.supported) throw new Error("Module '" + n + "' not supported")
                        }
                    };
                    var S = !1, C = function (t) {
                        S || (S = !0, w.initialized || a())
                    };
                    return typeof window == h ? void r("No window found") : typeof document == h ? void r("No document found") : (t(document, "addEventListener") && document.addEventListener("DOMContentLoaded", C, !1), t(window, "addEventListener") ? window.addEventListener("load", C, !1) : t(window, "attachEvent") ? window.attachEvent("onload", C) : r("Window does not have required addEventListener or attachEvent method"), w)
                }();
                c.createModule("DomUtil", function (t, e) {
                    function n(t) {
                        var e;
                        return typeof t.namespaceURI == C || null === (e = t.namespaceURI) || "http://www.w3.org/1999/xhtml" == e
                    }

                    function i(t) {
                        var e = t.parentNode;
                        return 1 == e.nodeType ? e : null
                    }

                    function o(t) {
                        for (var e = 0; t = t.previousSibling;) e++;
                        return e
                    }

                    function r(t) {
                        var e;
                        return c(t) ? t.length : (e = t.childNodes) ? e.length : 0
                    }

                    function s(t, e) {
                        var n, i = [];
                        for (n = t; n; n = n.parentNode) i.push(n);
                        for (n = e; n; n = n.parentNode) if (T(i, n)) return n;
                        return null
                    }

                    function a(t, e, n) {
                        for (var i = n ? e : e.parentNode; i;) {
                            if (i === t) return !0;
                            i = i.parentNode
                        }
                        return !1
                    }

                    function l(t, e, n) {
                        for (var i, o = n ? t : t.parentNode; o;) {
                            if (i = o.parentNode, i === e) return o;
                            o = i
                        }
                        return null
                    }

                    function c(t) {
                        var e = t.nodeType;
                        return 3 == e || 4 == e || 8 == e
                    }

                    function d(t, e) {
                        var n = e.nextSibling, i = e.parentNode;
                        return n ? i.insertBefore(t, n) : i.appendChild(t), t
                    }

                    function u(t, e) {
                        var n = t.cloneNode(!1);
                        return n.deleteData(0, e), t.deleteData(e, t.length - e), d(n, t), n
                    }

                    function h(t) {
                        if (9 == t.nodeType) return t;
                        if (typeof t.ownerDocument != C) return t.ownerDocument;
                        if (typeof t.document != C) return t.document;
                        if (t.parentNode) return h(t.parentNode);
                        throw new Error("getDocument: no document found for node")
                    }

                    function p(t) {
                        var e = h(t);
                        if (typeof e.defaultView != C) return e.defaultView;
                        if (typeof e.parentWindow != C) return e.parentWindow;
                        throw new Error("Cannot get a window object for node")
                    }

                    function f(t) {
                        if (typeof t.contentDocument != C) return t.contentDocument;
                        if (typeof t.contentWindow != C) return t.contentWindow.document;
                        throw new Error("getIframeWindow: No Document object found for iframe element")
                    }

                    function m(t) {
                        if (typeof t.contentWindow != C) return t.contentWindow;
                        if (typeof t.contentDocument != C) return t.contentDocument.defaultView;
                        throw new Error("getIframeWindow: No Window object found for iframe element")
                    }

                    function g(t) {
                        return q.isHostObject(t, "body") ? t.body : t.getElementsByTagName("body")[0]
                    }

                    function b(t) {
                        for (var e; e = t.parentNode;) t = e;
                        return t
                    }

                    function v(t, e, n, i) {
                        var r, a, c, d, u;
                        if (t == n) return e === i ? 0 : i > e ? -1 : 1;
                        if (r = l(n, t, !0)) return e <= o(r) ? -1 : 1;
                        if (r = l(t, n, !0)) return o(r) < i ? -1 : 1;
                        if (a = s(t, n), c = t === a ? a : l(t, a, !0), d = n === a ? a : l(n, a, !0), c === d) throw new Error("comparePoints got to case 4 and childA and childB are the same!");
                        for (u = a.firstChild; u;) {
                            if (u === c) return -1;
                            if (u === d) return 1;
                            u = u.nextSibling
                        }
                        throw new Error("Should not be here!")
                    }

                    function y(t) {
                        for (var e, n = h(t).createDocumentFragment(); e = t.firstChild;) n.appendChild(e);
                        return n
                    }

                    function w(t) {
                        if (!t) return "[No node]";
                        if (c(t)) return '"' + t.data + '"';
                        if (1 == t.nodeType) {
                            var e = t.id ? ' id="' + t.id + '"' : "";
                            return "<" + t.nodeName + e + ">[" + t.childNodes.length + "]"
                        }
                        return t.nodeName
                    }

                    function x(t) {
                        this.root = t, this._next = t
                    }

                    function E(t) {
                        return new x(t)
                    }

                    function A(t, e) {
                        this.node = t, this.offset = e
                    }

                    function S(t) {
                        this.code = this[t], this.codeName = t, this.message = "DOMException: " + this.codeName
                    }

                    var C = "undefined", q = t.util;
                    q.areHostMethods(document, ["createDocumentFragment", "createElement", "createTextNode"]) || e.fail("document missing a Node creation method"), q.isHostMethod(document, "getElementsByTagName") || e.fail("document missing getElementsByTagName method");
                    var k = document.createElement("div");
                    q.areHostMethods(k, ["insertBefore", "appendChild", "cloneNode"] || !q.areHostObjects(k, ["previousSibling", "nextSibling", "childNodes", "parentNode"])) || e.fail("Incomplete Element implementation"), q.isHostProperty(k, "innerHTML") || e.fail("Element is missing innerHTML property");
                    var R = document.createTextNode("test");
                    q.areHostMethods(R, ["splitText", "deleteData", "insertData", "appendData", "cloneNode"] || !q.areHostObjects(k, ["previousSibling", "nextSibling", "childNodes", "parentNode"]) || !q.areHostProperties(R, ["data"])) || e.fail("Incomplete Text Node implementation");
                    var T = function (t, e) {
                        for (var n = t.length; n--;) if (t[n] === e) return !0;
                        return !1
                    };
                    x.prototype = {
                        _current: null, hasNext: function () {
                            return !!this._next
                        }, next: function () {
                            var t, e, n = this._current = this._next;
                            if (this._current) if (t = n.firstChild) this._next = t; else {
                                for (e = null; n !== this.root && !(e = n.nextSibling);) n = n.parentNode;
                                this._next = e
                            }
                            return this._current
                        }, detach: function () {
                            this._current = this._next = this.root = null
                        }
                    }, A.prototype = {
                        equals: function (t) {
                            return this.node === t.node & this.offset == t.offset
                        }, inspect: function () {
                            return "[DomPosition(" + w(this.node) + ":" + this.offset + ")]"
                        }
                    }, S.prototype = {
                        INDEX_SIZE_ERR: 1,
                        HIERARCHY_REQUEST_ERR: 3,
                        WRONG_DOCUMENT_ERR: 4,
                        NO_MODIFICATION_ALLOWED_ERR: 7,
                        NOT_FOUND_ERR: 8,
                        NOT_SUPPORTED_ERR: 9,
                        INVALID_STATE_ERR: 11
                    }, S.prototype.toString = function () {
                        return this.message
                    }, t.dom = {
                        arrayContains: T,
                        isHtmlNamespace: n,
                        parentElement: i,
                        getNodeIndex: o,
                        getNodeLength: r,
                        getCommonAncestor: s,
                        isAncestorOf: a,
                        getClosestAncestorIn: l,
                        isCharacterDataNode: c,
                        insertAfter: d,
                        splitDataNode: u,
                        getDocument: h,
                        getWindow: p,
                        getIframeWindow: m,
                        getIframeDocument: f,
                        getBody: g,
                        getRootContainer: b,
                        comparePoints: v,
                        inspectNode: w,
                        fragmentFromNodeChildren: y,
                        createIterator: E,
                        DomPosition: A
                    }, t.DOMException = S
                }), c.createModule("DomRange", function (t, e) {
                    function n(t, e) {
                        return 3 != t.nodeType && (U.isAncestorOf(t, e.startContainer, !0) || U.isAncestorOf(t, e.endContainer, !0))
                    }

                    function i(t) {
                        return U.getDocument(t.startContainer)
                    }

                    function o(t, e, n) {
                        var i = t._listeners[e];
                        if (i) for (var o = 0, r = i.length; r > o; ++o) i[o].call(t, {target: t, args: n})
                    }

                    function r(t) {
                        return new M(t.parentNode, U.getNodeIndex(t))
                    }

                    function s(t) {
                        return new M(t.parentNode, U.getNodeIndex(t) + 1)
                    }

                    function a(t, e, n) {
                        var i = 11 == t.nodeType ? t.firstChild : t;
                        return U.isCharacterDataNode(e) ? n == e.length ? U.insertAfter(t, e) : e.parentNode.insertBefore(t, 0 == n ? e : U.splitDataNode(e, n)) : n >= e.childNodes.length ? e.appendChild(t) : e.insertBefore(t, e.childNodes[n]), i
                    }

                    function l(t) {
                        for (var e, n, o, r = i(t.range).createDocumentFragment(); n = t.next();) {
                            if (e = t.isPartiallySelectedSubtree(), n = n.cloneNode(!e), e && (o = t.getSubtreeIterator(), n.appendChild(l(o)), o.detach(!0)), 10 == n.nodeType) throw new P("HIERARCHY_REQUEST_ERR");
                            r.appendChild(n)
                        }
                        return r
                    }

                    function c(t, e, n) {
                        var i, o;
                        n = n || {stop: !1};
                        for (var r, s; r = t.next();) if (t.isPartiallySelectedSubtree()) {
                            if (e(r) === !1) return void (n.stop = !0);
                            if (s = t.getSubtreeIterator(), c(s, e, n), s.detach(!0), n.stop) return
                        } else for (i = U.createIterator(r); o = i.next();) if (e(o) === !1) return void (n.stop = !0)
                    }

                    function d(t) {
                        for (var e; t.next();) t.isPartiallySelectedSubtree() ? (e = t.getSubtreeIterator(), d(e), e.detach(!0)) : t.remove()
                    }

                    function u(t) {
                        for (var e, n, o = i(t.range).createDocumentFragment(); e = t.next();) {
                            if (t.isPartiallySelectedSubtree() ? (e = e.cloneNode(!1), n = t.getSubtreeIterator(), e.appendChild(u(n)), n.detach(!0)) : t.remove(), 10 == e.nodeType) throw new P("HIERARCHY_REQUEST_ERR");
                            o.appendChild(e)
                        }
                        return o
                    }

                    function h(t, e, n) {
                        var i, o = !(!e || !e.length), r = !!n;
                        o && (i = new RegExp("^(" + e.join("|") + ")$"));
                        var s = [];
                        return c(new f(t, !1), function (t) {
                            o && !i.test(t.nodeType) || r && !n(t) || s.push(t)
                        }), s
                    }

                    function p(t) {
                        var e = "undefined" == typeof t.getName ? "Range" : t.getName();
                        return "[" + e + "(" + U.inspectNode(t.startContainer) + ":" + t.startOffset + ", " + U.inspectNode(t.endContainer) + ":" + t.endOffset + ")]"
                    }

                    function f(t, e) {
                        if (this.range = t, this.clonePartiallySelectedTextNodes = e, !t.collapsed) {
                            this.sc = t.startContainer, this.so = t.startOffset, this.ec = t.endContainer, this.eo = t.endOffset;
                            var n = t.commonAncestorContainer;
                            this.sc === this.ec && U.isCharacterDataNode(this.sc) ? (this.isSingleCharacterDataNode = !0, this._first = this._last = this._next = this.sc) : (this._first = this._next = this.sc !== n || U.isCharacterDataNode(this.sc) ? U.getClosestAncestorIn(this.sc, n, !0) : this.sc.childNodes[this.so], this._last = this.ec !== n || U.isCharacterDataNode(this.ec) ? U.getClosestAncestorIn(this.ec, n, !0) : this.ec.childNodes[this.eo - 1])
                        }
                    }

                    function m(t) {
                        this.code = this[t], this.codeName = t, this.message = "RangeException: " + this.codeName
                    }

                    function g(t, e, n) {
                        this.nodes = h(t, e, n), this._next = this.nodes[0], this._position = 0
                    }

                    function b(t) {
                        return function (e, n) {
                            for (var i, o = n ? e : e.parentNode; o;) {
                                if (i = o.nodeType, U.arrayContains(t, i)) return o;
                                o = o.parentNode
                            }
                            return null
                        }
                    }

                    function v(t, e) {
                        if (Y(t, e)) throw new m("INVALID_NODE_TYPE_ERR")
                    }

                    function y(t) {
                        if (!t.startContainer) throw new P("INVALID_STATE_ERR")
                    }

                    function w(t, e) {
                        if (!U.arrayContains(e, t.nodeType)) throw new m("INVALID_NODE_TYPE_ERR")
                    }

                    function x(t, e) {
                        if (0 > e || e > (U.isCharacterDataNode(t) ? t.length : t.childNodes.length)) throw new P("INDEX_SIZE_ERR")
                    }

                    function E(t, e) {
                        if (W(t, !0) !== W(e, !0)) throw new P("WRONG_DOCUMENT_ERR")
                    }

                    function A(t) {
                        if (K(t, !0)) throw new P("NO_MODIFICATION_ALLOWED_ERR")
                    }

                    function S(t, e) {
                        if (!t) throw new P(e)
                    }

                    function C(t) {
                        return !U.arrayContains(j, t.nodeType) && !W(t, !0)
                    }

                    function q(t, e) {
                        return e <= (U.isCharacterDataNode(t) ? t.length : t.childNodes.length)
                    }

                    function k(t) {
                        return !!t.startContainer && !!t.endContainer && !C(t.startContainer) && !C(t.endContainer) && q(t.startContainer, t.startOffset) && q(t.endContainer, t.endOffset)
                    }

                    function R(t) {
                        if (y(t), !k(t)) throw new Error("Range error: Range is no longer valid after DOM mutation (" + t.inspect() + ")")
                    }

                    function T() {
                    }

                    function _(t) {
                        t.START_TO_START = et, t.START_TO_END = nt, t.END_TO_END = it, t.END_TO_START = ot, t.NODE_BEFORE = rt, t.NODE_AFTER = st, t.NODE_BEFORE_AND_AFTER = at, t.NODE_INSIDE = lt
                    }

                    function I(t) {
                        _(t), _(t.prototype)
                    }

                    function D(t, e) {
                        return function () {
                            R(this);
                            var n, i, o = this.startContainer, r = this.startOffset, a = this.commonAncestorContainer,
                                l = new f(this, !0);
                            o !== a && (n = U.getClosestAncestorIn(o, a, !0), i = s(n), o = i.node, r = i.offset), c(l, A), l.reset();
                            var d = t(l);
                            return l.detach(), e(this, o, r, o, r), d
                        }
                    }

                    function O(e, i, o) {
                        function a(t, e) {
                            return function (n) {
                                y(this), w(n, G), w(J(n), j);
                                var i = (t ? r : s)(n);
                                (e ? l : c)(this, i.node, i.offset)
                            }
                        }

                        function l(t, e, n) {
                            var o = t.endContainer, r = t.endOffset;
                            (e !== t.startContainer || n !== t.startOffset) && ((J(e) != J(o) || 1 == U.comparePoints(e, n, o, r)) && (o = e, r = n), i(t, e, n, o, r))
                        }

                        function c(t, e, n) {
                            var o = t.startContainer, r = t.startOffset;
                            (e !== t.endContainer || n !== t.endOffset) && ((J(e) != J(o) || -1 == U.comparePoints(e, n, o, r)) && (o = e, r = n), i(t, o, r, e, n))
                        }

                        function h(t, e, n) {
                            (e !== t.startContainer || n !== t.startOffset || e !== t.endContainer || n !== t.endOffset) && i(t, e, n, e, n)
                        }

                        e.prototype = new T, t.util.extend(e.prototype, {
                            setStart: function (t, e) {
                                y(this), v(t, !0), x(t, e), l(this, t, e)
                            },
                            setEnd: function (t, e) {
                                y(this), v(t, !0), x(t, e), c(this, t, e)
                            },
                            setStartBefore: a(!0, !0),
                            setStartAfter: a(!1, !0),
                            setEndBefore: a(!0, !1),
                            setEndAfter: a(!1, !1),
                            collapse: function (t) {
                                R(this), t ? i(this, this.startContainer, this.startOffset, this.startContainer, this.startOffset) : i(this, this.endContainer, this.endOffset, this.endContainer, this.endOffset)
                            },
                            selectNodeContents: function (t) {
                                y(this), v(t, !0), i(this, t, 0, t, U.getNodeLength(t))
                            },
                            selectNode: function (t) {
                                y(this), v(t, !1), w(t, G);
                                var e = r(t), n = s(t);
                                i(this, e.node, e.offset, n.node, n.offset)
                            },
                            extractContents: D(u, i),
                            deleteContents: D(d, i),
                            canSurroundContents: function () {
                                R(this), A(this.startContainer), A(this.endContainer);
                                var t = new f(this, !0),
                                    e = t._first && n(t._first, this) || t._last && n(t._last, this);
                                return t.detach(), !e
                            },
                            detach: function () {
                                o(this)
                            },
                            splitBoundaries: function () {
                                R(this);
                                var t = this.startContainer, e = this.startOffset, n = this.endContainer,
                                    o = this.endOffset, r = t === n;
                                U.isCharacterDataNode(n) && o > 0 && o < n.length && U.splitDataNode(n, o), U.isCharacterDataNode(t) && e > 0 && e < t.length && (t = U.splitDataNode(t, e), r ? (o -= e, n = t) : n == t.parentNode && o >= U.getNodeIndex(t) && o++, e = 0), i(this, t, e, n, o)
                            },
                            normalizeBoundaries: function () {
                                R(this);
                                var t = this.startContainer, e = this.startOffset, n = this.endContainer,
                                    o = this.endOffset, r = function (t) {
                                        var e = t.nextSibling;
                                        e && e.nodeType == t.nodeType && (n = t, o = t.length, t.appendData(e.data), e.parentNode.removeChild(e))
                                    }, s = function (i) {
                                        var r = i.previousSibling;
                                        if (r && r.nodeType == i.nodeType) {
                                            t = i;
                                            var s = i.length;
                                            if (e = r.length, i.insertData(0, r.data), r.parentNode.removeChild(r), t == n) o += e, n = t; else if (n == i.parentNode) {
                                                var a = U.getNodeIndex(i);
                                                o == a ? (n = i, o = s) : o > a && o--
                                            }
                                        }
                                    }, a = !0;
                                if (U.isCharacterDataNode(n)) n.length == o && r(n); else {
                                    if (o > 0) {
                                        var l = n.childNodes[o - 1];
                                        l && U.isCharacterDataNode(l) && r(l)
                                    }
                                    a = !this.collapsed
                                }
                                if (a) {
                                    if (U.isCharacterDataNode(t)) 0 == e && s(t); else if (e < t.childNodes.length) {
                                        var c = t.childNodes[e];
                                        c && U.isCharacterDataNode(c) && s(c)
                                    }
                                } else t = n, e = o;
                                i(this, t, e, n, o)
                            },
                            collapseToPoint: function (t, e) {
                                y(this), v(t, !0), x(t, e), h(this, t, e)
                            }
                        }), I(e)
                    }

                    function B(t) {
                        t.collapsed = t.startContainer === t.endContainer && t.startOffset === t.endOffset, t.commonAncestorContainer = t.collapsed ? t.startContainer : U.getCommonAncestor(t.startContainer, t.endContainer)
                    }

                    function N(t, e, n, i, r) {
                        var s = t.startContainer !== e || t.startOffset !== n,
                            a = t.endContainer !== i || t.endOffset !== r;
                        t.startContainer = e, t.startOffset = n, t.endContainer = i, t.endOffset = r, B(t), o(t, "boundarychange", {
                            startMoved: s,
                            endMoved: a
                        })
                    }

                    function L(t) {
                        y(t), t.startContainer = t.startOffset = t.endContainer = t.endOffset = null, t.collapsed = t.commonAncestorContainer = null, o(t, "detach", null), t._listeners = null
                    }

                    function F(t) {
                        this.startContainer = t, this.startOffset = 0, this.endContainer = t, this.endOffset = 0, this._listeners = {
                            boundarychange: [],
                            detach: []
                        }, B(this)
                    }

                    t.requireModules(["DomUtil"]);
                    var U = t.dom, M = U.DomPosition, P = t.DOMException;
                    f.prototype = {
                        _current: null,
                        _next: null,
                        _first: null,
                        _last: null,
                        isSingleCharacterDataNode: !1,
                        reset: function () {
                            this._current = null, this._next = this._first
                        },
                        hasNext: function () {
                            return !!this._next
                        },
                        next: function () {
                            var t = this._current = this._next;
                            return t && (this._next = t !== this._last ? t.nextSibling : null,
                            U.isCharacterDataNode(t) && this.clonePartiallySelectedTextNodes && (t === this.ec && (t = t.cloneNode(!0)).deleteData(this.eo, t.length - this.eo), this._current === this.sc && (t = t.cloneNode(!0)).deleteData(0, this.so))), t
                        },
                        remove: function () {
                            var t, e, n = this._current;
                            !U.isCharacterDataNode(n) || n !== this.sc && n !== this.ec ? n.parentNode && n.parentNode.removeChild(n) : (t = n === this.sc ? this.so : 0, e = n === this.ec ? this.eo : n.length, t != e && n.deleteData(t, e - t))
                        },
                        isPartiallySelectedSubtree: function () {
                            var t = this._current;
                            return n(t, this.range)
                        },
                        getSubtreeIterator: function () {
                            var t;
                            if (this.isSingleCharacterDataNode) t = this.range.cloneRange(), t.collapse(); else {
                                t = new F(i(this.range));
                                var e = this._current, n = e, o = 0, r = e, s = U.getNodeLength(e);
                                U.isAncestorOf(e, this.sc, !0) && (n = this.sc, o = this.so), U.isAncestorOf(e, this.ec, !0) && (r = this.ec, s = this.eo), N(t, n, o, r, s)
                            }
                            return new f(t, this.clonePartiallySelectedTextNodes)
                        },
                        detach: function (t) {
                            t && this.range.detach(), this.range = this._current = this._next = this._first = this._last = this.sc = this.so = this.ec = this.eo = null
                        }
                    }, m.prototype = {
                        BAD_BOUNDARYPOINTS_ERR: 1,
                        INVALID_NODE_TYPE_ERR: 2
                    }, m.prototype.toString = function () {
                        return this.message
                    }, g.prototype = {
                        _current: null, hasNext: function () {
                            return !!this._next
                        }, next: function () {
                            return this._current = this._next, this._next = this.nodes[++this._position], this._current
                        }, detach: function () {
                            this._current = this._next = this.nodes = null
                        }
                    };
                    var G = [1, 3, 4, 5, 7, 8, 10], j = [2, 9, 11], z = [5, 6, 10, 12], H = [1, 3, 4, 5, 7, 8, 10, 11],
                        Q = [1, 3, 4, 5, 7, 8], J = U.getRootContainer, W = b([9, 11]), K = b(z), Y = b([6, 10, 12]),
                        V = document.createElement("style"), Z = !1;
                    try {
                        V.innerHTML = "<b>x</b>", Z = 3 == V.firstChild.nodeType
                    } catch (X) {
                    }
                    t.features.htmlParsingConforms = Z;
                    var $ = Z ? function (t) {
                            var e = this.startContainer, n = U.getDocument(e);
                            if (!e) throw new P("INVALID_STATE_ERR");
                            var i = null;
                            return 1 == e.nodeType ? i = e : U.isCharacterDataNode(e) && (i = U.parentElement(e)), i = null === i || "HTML" == i.nodeName && U.isHtmlNamespace(U.getDocument(i).documentElement) && U.isHtmlNamespace(i) ? n.createElement("body") : i.cloneNode(!1), i.innerHTML = t, U.fragmentFromNodeChildren(i)
                        } : function (t) {
                            y(this);
                            var e = i(this), n = e.createElement("body");
                            return n.innerHTML = t, U.fragmentFromNodeChildren(n)
                        },
                        tt = ["startContainer", "startOffset", "endContainer", "endOffset", "collapsed", "commonAncestorContainer"],
                        et = 0, nt = 1, it = 2, ot = 3, rt = 0, st = 1, at = 2, lt = 3;
                    T.prototype = {
                        attachListener: function (t, e) {
                            this._listeners[t].push(e)
                        }, compareBoundaryPoints: function (t, e) {
                            R(this), E(this.startContainer, e.startContainer);
                            var n, i, o, r, s = t == ot || t == et ? "start" : "end",
                                a = t == nt || t == et ? "start" : "end";
                            return n = this[s + "Container"], i = this[s + "Offset"], o = e[a + "Container"], r = e[a + "Offset"], U.comparePoints(n, i, o, r)
                        }, insertNode: function (t) {
                            if (R(this), w(t, H), A(this.startContainer), U.isAncestorOf(t, this.startContainer, !0)) throw new P("HIERARCHY_REQUEST_ERR");
                            var e = a(t, this.startContainer, this.startOffset);
                            this.setStartBefore(e)
                        }, cloneContents: function () {
                            R(this);
                            var t, e;
                            if (this.collapsed) return i(this).createDocumentFragment();
                            if (this.startContainer === this.endContainer && U.isCharacterDataNode(this.startContainer)) return t = this.startContainer.cloneNode(!0), t.data = t.data.slice(this.startOffset, this.endOffset), e = i(this).createDocumentFragment(), e.appendChild(t), e;
                            var n = new f(this, !0);
                            return t = l(n), n.detach(), t
                        }, canSurroundContents: function () {
                            R(this), A(this.startContainer), A(this.endContainer);
                            var t = new f(this, !0), e = t._first && n(t._first, this) || t._last && n(t._last, this);
                            return t.detach(), !e
                        }, surroundContents: function (t) {
                            if (w(t, Q), !this.canSurroundContents()) throw new m("BAD_BOUNDARYPOINTS_ERR");
                            var e = this.extractContents();
                            if (t.hasChildNodes()) for (; t.lastChild;) t.removeChild(t.lastChild);
                            a(t, this.startContainer, this.startOffset), t.appendChild(e), this.selectNode(t)
                        }, cloneRange: function () {
                            R(this);
                            for (var t, e = new F(i(this)), n = tt.length; n--;) t = tt[n], e[t] = this[t];
                            return e
                        }, toString: function () {
                            R(this);
                            var t = this.startContainer;
                            if (t === this.endContainer && U.isCharacterDataNode(t)) return 3 == t.nodeType || 4 == t.nodeType ? t.data.slice(this.startOffset, this.endOffset) : "";
                            var e = [], n = new f(this, !0);
                            return c(n, function (t) {
                                (3 == t.nodeType || 4 == t.nodeType) && e.push(t.data)
                            }), n.detach(), e.join("")
                        }, compareNode: function (t) {
                            R(this);
                            var e = t.parentNode, n = U.getNodeIndex(t);
                            if (!e) throw new P("NOT_FOUND_ERR");
                            var i = this.comparePoint(e, n), o = this.comparePoint(e, n + 1);
                            return 0 > i ? o > 0 ? at : rt : o > 0 ? st : lt
                        }, comparePoint: function (t, e) {
                            return R(this), S(t, "HIERARCHY_REQUEST_ERR"), E(t, this.startContainer), U.comparePoints(t, e, this.startContainer, this.startOffset) < 0 ? -1 : U.comparePoints(t, e, this.endContainer, this.endOffset) > 0 ? 1 : 0
                        }, createContextualFragment: $, toHtml: function () {
                            R(this);
                            var t = i(this).createElement("div");
                            return t.appendChild(this.cloneContents()), t.innerHTML
                        }, intersectsNode: function (t, e) {
                            if (R(this), S(t, "NOT_FOUND_ERR"), U.getDocument(t) !== i(this)) return !1;
                            var n = t.parentNode, o = U.getNodeIndex(t);
                            S(n, "NOT_FOUND_ERR");
                            var r = U.comparePoints(n, o, this.endContainer, this.endOffset),
                                s = U.comparePoints(n, o + 1, this.startContainer, this.startOffset);
                            return e ? 0 >= r && s >= 0 : 0 > r && s > 0
                        }, isPointInRange: function (t, e) {
                            return R(this), S(t, "HIERARCHY_REQUEST_ERR"), E(t, this.startContainer), U.comparePoints(t, e, this.startContainer, this.startOffset) >= 0 && U.comparePoints(t, e, this.endContainer, this.endOffset) <= 0
                        }, intersectsRange: function (t, e) {
                            if (R(this), i(t) != i(this)) throw new P("WRONG_DOCUMENT_ERR");
                            var n = U.comparePoints(this.startContainer, this.startOffset, t.endContainer, t.endOffset),
                                o = U.comparePoints(this.endContainer, this.endOffset, t.startContainer, t.startOffset);
                            return e ? 0 >= n && o >= 0 : 0 > n && o > 0
                        }, intersection: function (t) {
                            if (this.intersectsRange(t)) {
                                var e = U.comparePoints(this.startContainer, this.startOffset, t.startContainer, t.startOffset),
                                    n = U.comparePoints(this.endContainer, this.endOffset, t.endContainer, t.endOffset),
                                    i = this.cloneRange();
                                return -1 == e && i.setStart(t.startContainer, t.startOffset), 1 == n && i.setEnd(t.endContainer, t.endOffset), i
                            }
                            return null
                        }, union: function (t) {
                            if (this.intersectsRange(t, !0)) {
                                var e = this.cloneRange();
                                return -1 == U.comparePoints(t.startContainer, t.startOffset, this.startContainer, this.startOffset) && e.setStart(t.startContainer, t.startOffset), 1 == U.comparePoints(t.endContainer, t.endOffset, this.endContainer, this.endOffset) && e.setEnd(t.endContainer, t.endOffset), e
                            }
                            throw new m("Ranges do not intersect")
                        }, containsNode: function (t, e) {
                            return e ? this.intersectsNode(t, !1) : this.compareNode(t) == lt
                        }, containsNodeContents: function (t) {
                            return this.comparePoint(t, 0) >= 0 && this.comparePoint(t, U.getNodeLength(t)) <= 0
                        }, containsRange: function (t) {
                            return this.intersection(t).equals(t)
                        }, containsNodeText: function (t) {
                            var e = this.cloneRange();
                            e.selectNode(t);
                            var n = e.getNodes([3]);
                            if (n.length > 0) {
                                e.setStart(n[0], 0);
                                var i = n.pop();
                                e.setEnd(i, i.length);
                                var o = this.containsRange(e);
                                return e.detach(), o
                            }
                            return this.containsNodeContents(t)
                        }, createNodeIterator: function (t, e) {
                            return R(this), new g(this, t, e)
                        }, getNodes: function (t, e) {
                            return R(this), h(this, t, e)
                        }, getDocument: function () {
                            return i(this)
                        }, collapseBefore: function (t) {
                            y(this), this.setEndBefore(t), this.collapse(!1)
                        }, collapseAfter: function (t) {
                            y(this), this.setStartAfter(t), this.collapse(!0)
                        }, getName: function () {
                            return "DomRange"
                        }, equals: function (t) {
                            return F.rangesEqual(this, t)
                        }, isValid: function () {
                            return k(this)
                        }, inspect: function () {
                            return p(this)
                        }
                    }, O(F, N, L), t.rangePrototype = T.prototype, F.rangeProperties = tt, F.RangeIterator = f, F.copyComparisonConstants = I, F.createPrototypeRange = O, F.inspect = p, F.getRangeDocument = i, F.rangesEqual = function (t, e) {
                        return t.startContainer === e.startContainer && t.startOffset === e.startOffset && t.endContainer === e.endContainer && t.endOffset === e.endOffset
                    }, t.DomRange = F, t.RangeException = m
                }), c.createModule("WrappedRange", function (t, e) {
                    function n(t) {
                        var e = t.parentElement(), n = t.duplicate();
                        n.collapse(!0);
                        var i = n.parentElement();
                        n = t.duplicate(), n.collapse(!1);
                        var o = n.parentElement(), r = i == o ? i : a.getCommonAncestor(i, o);
                        return r == e ? r : a.getCommonAncestor(e, r)
                    }

                    function i(t) {
                        return 0 == t.compareEndPoints("StartToEnd", t)
                    }

                    function o(t, e, n, i) {
                        var o = t.duplicate();
                        o.collapse(n);
                        var r = o.parentElement();
                        if (a.isAncestorOf(e, r, !0) || (r = e), !r.canHaveHTML) return new l(r.parentNode, a.getNodeIndex(r));
                        var s, c, d, u, h, p = a.getDocument(r).createElement("span"),
                            f = n ? "StartToStart" : "StartToEnd";
                        do r.insertBefore(p, p.previousSibling), o.moveToElementText(p); while ((s = o.compareEndPoints(f, t)) > 0 && p.previousSibling);
                        if (h = p.nextSibling, -1 == s && h && a.isCharacterDataNode(h)) {
                            o.setEndPoint(n ? "EndToStart" : "EndToEnd", t);
                            var m;
                            if (/[\r\n]/.test(h.data)) {
                                var g = o.duplicate(), b = g.text.replace(/\r\n/g, "\r").length;
                                for (m = g.moveStart("character", b); -1 == (s = g.compareEndPoints("StartToEnd", g));) m++, g.moveStart("character", 1)
                            } else m = o.text.length;
                            u = new l(h, m)
                        } else c = (i || !n) && p.previousSibling, d = (i || n) && p.nextSibling, u = d && a.isCharacterDataNode(d) ? new l(d, 0) : c && a.isCharacterDataNode(c) ? new l(c, c.length) : new l(r, a.getNodeIndex(p));
                        return p.parentNode.removeChild(p), u
                    }

                    function r(t, e) {
                        var n, i, o, r, s = t.offset, l = a.getDocument(t.node), c = l.body.createTextRange(),
                            d = a.isCharacterDataNode(t.node);
                        return d ? (n = t.node, i = n.parentNode) : (r = t.node.childNodes, n = s < r.length ? r[s] : null, i = t.node), o = l.createElement("span"), o.innerHTML = "&#feff;", n ? i.insertBefore(o, n) : i.appendChild(o), c.moveToElementText(o), c.collapse(!e), i.removeChild(o), d && c[e ? "moveStart" : "moveEnd"]("character", s), c
                    }

                    t.requireModules(["DomUtil", "DomRange"]);
                    var s, a = t.dom, l = a.DomPosition, c = t.DomRange;
                    if (!t.features.implementsDomRange || t.features.implementsTextRange && t.config.preferTextRange) {
                        if (t.features.implementsTextRange) {
                            s = function (t) {
                                this.textRange = t, this.refresh()
                            }, s.prototype = new c(document), s.prototype.refresh = function () {
                                var t, e, r = n(this.textRange);
                                i(this.textRange) ? e = t = o(this.textRange, r, !0, !0) : (t = o(this.textRange, r, !0, !1), e = o(this.textRange, r, !1, !1)), this.setStart(t.node, t.offset), this.setEnd(e.node, e.offset)
                            }, c.copyComparisonConstants(s);
                            var d = function () {
                                return this
                            }();
                            "undefined" == typeof d.Range && (d.Range = s), t.createNativeRange = function (t) {
                                return t = t || document, t.body.createTextRange()
                            }
                        }
                    } else !function () {
                        function e(t) {
                            for (var e, n = d.length; n--;) e = d[n], t[e] = t.nativeRange[e]
                        }

                        function n(t, e, n, i, o) {
                            var r = t.startContainer !== e || t.startOffset != n,
                                s = t.endContainer !== i || t.endOffset != o;
                            (r || s) && (t.setEnd(i, o), t.setStart(e, n))
                        }

                        function i(t) {
                            t.nativeRange.detach(), t.detached = !0;
                            for (var e, n = d.length; n--;) e = d[n], t[e] = null
                        }

                        var o, r, l, d = c.rangeProperties;
                        s = function (t) {
                            if (!t) throw new Error("Range must be specified");
                            this.nativeRange = t, e(this)
                        }, c.createPrototypeRange(s, n, i), o = s.prototype, o.selectNode = function (t) {
                            this.nativeRange.selectNode(t), e(this)
                        }, o.deleteContents = function () {
                            this.nativeRange.deleteContents(), e(this)
                        }, o.extractContents = function () {
                            var t = this.nativeRange.extractContents();
                            return e(this), t
                        }, o.cloneContents = function () {
                            return this.nativeRange.cloneContents()
                        }, o.surroundContents = function (t) {
                            this.nativeRange.surroundContents(t), e(this)
                        }, o.collapse = function (t) {
                            this.nativeRange.collapse(t), e(this)
                        }, o.cloneRange = function () {
                            return new s(this.nativeRange.cloneRange())
                        }, o.refresh = function () {
                            e(this)
                        }, o.toString = function () {
                            return this.nativeRange.toString()
                        };
                        var u = document.createTextNode("test");
                        a.getBody(document).appendChild(u);
                        var h = document.createRange();
                        h.setStart(u, 0), h.setEnd(u, 0);
                        try {
                            h.setStart(u, 1), r = !0, o.setStart = function (t, n) {
                                this.nativeRange.setStart(t, n), e(this)
                            }, o.setEnd = function (t, n) {
                                this.nativeRange.setEnd(t, n), e(this)
                            }, l = function (t) {
                                return function (n) {
                                    this.nativeRange[t](n), e(this)
                                }
                            }
                        } catch (p) {
                            r = !1, o.setStart = function (t, n) {
                                try {
                                    this.nativeRange.setStart(t, n)
                                } catch (i) {
                                    this.nativeRange.setEnd(t, n), this.nativeRange.setStart(t, n)
                                }
                                e(this)
                            }, o.setEnd = function (t, n) {
                                try {
                                    this.nativeRange.setEnd(t, n)
                                } catch (i) {
                                    this.nativeRange.setStart(t, n), this.nativeRange.setEnd(t, n)
                                }
                                e(this)
                            }, l = function (t, n) {
                                return function (i) {
                                    try {
                                        this.nativeRange[t](i)
                                    } catch (o) {
                                        this.nativeRange[n](i), this.nativeRange[t](i)
                                    }
                                    e(this)
                                }
                            }
                        }
                        o.setStartBefore = l("setStartBefore", "setEndBefore"), o.setStartAfter = l("setStartAfter", "setEndAfter"), o.setEndBefore = l("setEndBefore", "setStartBefore"), o.setEndAfter = l("setEndAfter", "setStartAfter"), h.selectNodeContents(u), o.selectNodeContents = h.startContainer == u && h.endContainer == u && 0 == h.startOffset && h.endOffset == u.length ? function (t) {
                            this.nativeRange.selectNodeContents(t), e(this)
                        } : function (t) {
                            this.setStart(t, 0), this.setEnd(t, c.getEndOffset(t))
                        }, h.selectNodeContents(u), h.setEnd(u, 3);
                        var f = document.createRange();
                        f.selectNodeContents(u), f.setEnd(u, 4), f.setStart(u, 2), o.compareBoundaryPoints = -1 == h.compareBoundaryPoints(h.START_TO_END, f) & 1 == h.compareBoundaryPoints(h.END_TO_START, f) ? function (t, e) {
                            return e = e.nativeRange || e, t == e.START_TO_END ? t = e.END_TO_START : t == e.END_TO_START && (t = e.START_TO_END), this.nativeRange.compareBoundaryPoints(t, e)
                        } : function (t, e) {
                            return this.nativeRange.compareBoundaryPoints(t, e.nativeRange || e)
                        }, t.util.isHostMethod(h, "createContextualFragment") && (o.createContextualFragment = function (t) {
                            return this.nativeRange.createContextualFragment(t)
                        }), a.getBody(document).removeChild(u), h.detach(), f.detach()
                    }(), t.createNativeRange = function (t) {
                        return t = t || document, t.createRange()
                    };
                    t.features.implementsTextRange && (s.rangeToTextRange = function (t) {
                        if (t.collapsed) {
                            var e = r(new l(t.startContainer, t.startOffset), !0);
                            return e
                        }
                        var n = r(new l(t.startContainer, t.startOffset), !0),
                            i = r(new l(t.endContainer, t.endOffset), !1),
                            o = a.getDocument(t.startContainer).body.createTextRange();
                        return o.setEndPoint("StartToStart", n), o.setEndPoint("EndToEnd", i), o
                    }), s.prototype.getName = function () {
                        return "WrappedRange"
                    }, t.WrappedRange = s, t.createRange = function (e) {
                        return e = e || document, new s(t.createNativeRange(e))
                    }, t.createRangyRange = function (t) {
                        return t = t || document, new c(t)
                    }, t.createIframeRange = function (e) {
                        return t.createRange(a.getIframeDocument(e))
                    }, t.createIframeRangyRange = function (e) {
                        return t.createRangyRange(a.getIframeDocument(e))
                    }, t.addCreateMissingNativeApiListener(function (e) {
                        var n = e.document;
                        "undefined" == typeof n.createRange && (n.createRange = function () {
                            return t.createRange(this)
                        }), n = e = null
                    })
                }), c.createModule("WrappedSelection", function (t, e) {
                    function n(t) {
                        return (t || window).getSelection()
                    }

                    function i(t) {
                        return (t || window).document.selection
                    }

                    function o(t, e, n) {
                        var i = n ? "end" : "start", o = n ? "start" : "end";
                        t.anchorNode = e[i + "Container"], t.anchorOffset = e[i + "Offset"], t.focusNode = e[o + "Container"], t.focusOffset = e[o + "Offset"]
                    }

                    function r(t) {
                        var e = t.nativeSelection;
                        t.anchorNode = e.anchorNode, t.anchorOffset = e.anchorOffset, t.focusNode = e.focusNode, t.focusOffset = e.focusOffset
                    }

                    function s(t) {
                        t.anchorNode = t.focusNode = null, t.anchorOffset = t.focusOffset = 0, t.rangeCount = 0, t.isCollapsed = !0, t._ranges.length = 0
                    }

                    function a(e) {
                        var n;
                        return e instanceof S ? (n = e._selectionNativeRange, n || (n = t.createNativeRange(E.getDocument(e.startContainer)), n.setEnd(e.endContainer, e.endOffset), n.setStart(e.startContainer, e.startOffset), e._selectionNativeRange = n, e.attachListener("detach", function () {
                            this._selectionNativeRange = null
                        }))) : e instanceof C ? n = e.nativeRange : t.features.implementsDomRange && e instanceof E.getWindow(e.startContainer).Range && (n = e), n
                    }

                    function l(t) {
                        if (!t.length || 1 != t[0].nodeType) return !1;
                        for (var e = 1, n = t.length; n > e; ++e) if (!E.isAncestorOf(t[0], t[e])) return !1;
                        return !0
                    }

                    function c(t) {
                        var e = t.getNodes();
                        if (!l(e)) throw new Error("getSingleElementFromRange: range " + t.inspect() + " did not consist of a single element");
                        return e[0]
                    }

                    function d(t) {
                        return !!t && "undefined" != typeof t.text
                    }

                    function u(t, e) {
                        var n = new C(e);
                        t._ranges = [n], o(t, n, !1), t.rangeCount = 1, t.isCollapsed = n.collapsed
                    }

                    function h(e) {
                        if (e._ranges.length = 0, "None" == e.docSelection.type) s(e); else {
                            var n = e.docSelection.createRange();
                            if (d(n)) u(e, n); else {
                                e.rangeCount = n.length;
                                for (var i, r = E.getDocument(n.item(0)), a = 0; a < e.rangeCount; ++a) i = t.createRange(r), i.selectNode(n.item(a)), e._ranges.push(i);
                                e.isCollapsed = 1 == e.rangeCount && e._ranges[0].collapsed, o(e, e._ranges[e.rangeCount - 1], !1)
                            }
                        }
                    }

                    function p(t, e) {
                        for (var n = t.docSelection.createRange(), i = c(e), o = E.getDocument(n.item(0)), r = E.getBody(o).createControlRange(), s = 0, a = n.length; a > s; ++s) r.add(n.item(s));
                        try {
                            r.add(i)
                        } catch (l) {
                            throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")
                        }
                        r.select(), h(t)
                    }

                    function f(t, e, n) {
                        this.nativeSelection = t, this.docSelection = e, this._ranges = [], this.win = n, this.refresh()
                    }

                    function m(t, e) {
                        for (var n, i = E.getDocument(e[0].startContainer), o = E.getBody(i).createControlRange(), r = 0; r < rangeCount; ++r) {
                            n = c(e[r]);
                            try {
                                o.add(n)
                            } catch (s) {
                                throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")
                            }
                        }
                        o.select(), h(t)
                    }

                    function g(t, e) {
                        if (t.anchorNode && E.getDocument(t.anchorNode) !== E.getDocument(e)) throw new q("WRONG_DOCUMENT_ERR")
                    }

                    function b(t) {
                        var e = [], n = new k(t.anchorNode, t.anchorOffset), i = new k(t.focusNode, t.focusOffset),
                            o = "function" == typeof t.getName ? t.getName() : "Selection";
                        if ("undefined" != typeof t.rangeCount) for (var r = 0, s = t.rangeCount; s > r; ++r) e[r] = S.inspect(t.getRangeAt(r));
                        return "[" + o + "(Ranges: " + e.join(", ") + ")(anchor: " + n.inspect() + ", focus: " + i.inspect() + "]"
                    }

                    t.requireModules(["DomUtil", "DomRange", "WrappedRange"]), t.config.checkSelectionRanges = !0;
                    var v, y, w = "boolean", x = "_rangySelection", E = t.dom, A = t.util, S = t.DomRange,
                        C = t.WrappedRange, q = t.DOMException, k = E.DomPosition, R = "Control",
                        T = t.util.isHostMethod(window, "getSelection"), _ = t.util.isHostObject(document, "selection"),
                        I = _ && (!T || t.config.preferTextRange);
                    I ? (v = i, t.isSelectionValid = function (t) {
                        var e = (t || window).document, n = e.selection;
                        return "None" != n.type || E.getDocument(n.createRange().parentElement()) == e
                    }) : T ? (v = n, t.isSelectionValid = function () {
                        return !0
                    }) : e.fail("Neither document.selection or window.getSelection() detected."), t.getNativeSelection = v;
                    var D = v(), O = t.createNativeRange(document), B = E.getBody(document),
                        N = A.areHostObjects(D, ["anchorNode", "focusNode"] && A.areHostProperties(D, ["anchorOffset", "focusOffset"]));
                    t.features.selectionHasAnchorAndFocus = N;
                    var L = A.isHostMethod(D, "extend");
                    t.features.selectionHasExtend = L;
                    var F = "number" == typeof D.rangeCount;
                    t.features.selectionHasRangeCount = F;
                    var U = !1, M = !0;
                    A.areHostMethods(D, ["addRange", "getRangeAt", "removeAllRanges"]) && "number" == typeof D.rangeCount && t.features.implementsDomRange && !function () {
                        var t = document.createElement("iframe");
                        t.frameBorder = 0, t.style.position = "absolute", t.style.left = "-10000px", B.appendChild(t);
                        var e = E.getIframeDocument(t);
                        e.open(), e.write("<html><head></head><body>12</body></html>"), e.close();
                        var n = E.getIframeWindow(t).getSelection(), i = e.documentElement, o = i.lastChild,
                            r = o.firstChild, s = e.createRange();
                        s.setStart(r, 1), s.collapse(!0), n.addRange(s), M = 1 == n.rangeCount, n.removeAllRanges();
                        var a = s.cloneRange();
                        s.setStart(r, 0), a.setEnd(r, 2), n.addRange(s), n.addRange(a), U = 2 == n.rangeCount, s.detach(), a.detach(), B.removeChild(t)
                    }(), t.features.selectionSupportsMultipleRanges = U, t.features.collapsedNonEditableSelectionsSupported = M;
                    var P, G = !1;
                    B && A.isHostMethod(B, "createControlRange") && (P = B.createControlRange(), A.areHostProperties(P, ["item", "add"]) && (G = !0)), t.features.implementsControlRange = G, y = N ? function (t) {
                        return t.anchorNode === t.focusNode && t.anchorOffset === t.focusOffset
                    } : function (t) {
                        return t.rangeCount ? t.getRangeAt(t.rangeCount - 1).collapsed : !1
                    };
                    var j;
                    A.isHostMethod(D, "getRangeAt") ? j = function (t, e) {
                        try {
                            return t.getRangeAt(e)
                        } catch (n) {
                            return null
                        }
                    } : N && (j = function (e) {
                        var n = E.getDocument(e.anchorNode), i = t.createRange(n);
                        return i.setStart(e.anchorNode, e.anchorOffset), i.setEnd(e.focusNode, e.focusOffset), i.collapsed !== this.isCollapsed && (i.setStart(e.focusNode, e.focusOffset), i.setEnd(e.anchorNode, e.anchorOffset)), i
                    }), t.getSelection = function (t) {
                        t = t || window;
                        var e = t[x], n = v(t), o = _ ? i(t) : null;
                        return e ? (e.nativeSelection = n, e.docSelection = o, e.refresh(t)) : (e = new f(n, o, t), t[x] = e), e
                    }, t.getIframeSelection = function (e) {
                        return t.getSelection(E.getIframeWindow(e))
                    };
                    var z = f.prototype;
                    if (!I && N && A.areHostMethods(D, ["removeAllRanges", "addRange"])) {
                        z.removeAllRanges = function () {
                            this.nativeSelection.removeAllRanges(), s(this)
                        };
                        var H = function (e, n) {
                            var i = S.getRangeDocument(n), o = t.createRange(i);
                            o.collapseToPoint(n.endContainer, n.endOffset), e.nativeSelection.addRange(a(o)), e.nativeSelection.extend(n.startContainer, n.startOffset), e.refresh()
                        };
                        z.addRange = F ? function (e, n) {
                            if (G && _ && this.docSelection.type == R) p(this, e); else if (n && L) H(this, e); else {
                                var i;
                                if (U ? i = this.rangeCount : (this.removeAllRanges(), i = 0), this.nativeSelection.addRange(a(e)), this.rangeCount = this.nativeSelection.rangeCount, this.rangeCount == i + 1) {
                                    if (t.config.checkSelectionRanges) {
                                        var r = j(this.nativeSelection, this.rangeCount - 1);
                                        r && !S.rangesEqual(r, e) && (e = new C(r))
                                    }
                                    this._ranges[this.rangeCount - 1] = e, o(this, e, W(this.nativeSelection)), this.isCollapsed = y(this)
                                } else this.refresh()
                            }
                        } : function (t, e) {
                            e && L ? H(this, t) : (this.nativeSelection.addRange(a(t)), this.refresh())
                        }, z.setRanges = function (t) {
                            if (G && t.length > 1) m(this, t); else {
                                this.removeAllRanges();
                                for (var e = 0, n = t.length; n > e; ++e) this.addRange(t[e])
                            }
                        }
                    } else {
                        if (!(A.isHostMethod(D, "empty") && A.isHostMethod(O, "select") && G && I)) return e.fail("No means of selecting a Range or TextRange was found"), !1;
                        z.removeAllRanges = function () {
                            try {
                                if (this.docSelection.empty(), "None" != this.docSelection.type) {
                                    var t;
                                    if (this.anchorNode) t = E.getDocument(this.anchorNode); else if (this.docSelection.type == R) {
                                        var e = this.docSelection.createRange();
                                        e.length && (t = E.getDocument(e.item(0)).body.createTextRange())
                                    }
                                    if (t) {
                                        var n = t.body.createTextRange();
                                        n.select(), this.docSelection.empty()
                                    }
                                }
                            } catch (i) {
                            }
                            s(this)
                        }, z.addRange = function (t) {
                            this.docSelection.type == R ? p(this, t) : (C.rangeToTextRange(t).select(), this._ranges[0] = t, this.rangeCount = 1, this.isCollapsed = this._ranges[0].collapsed, o(this, t, !1))
                        }, z.setRanges = function (t) {
                            this.removeAllRanges();
                            var e = t.length;
                            e > 1 ? m(this, t) : e && this.addRange(t[0])
                        }
                    }
                    z.getRangeAt = function (t) {
                        if (0 > t || t >= this.rangeCount) throw new q("INDEX_SIZE_ERR");
                        return this._ranges[t]
                    };
                    var Q;
                    if (I) Q = function (e) {
                        var n;
                        t.isSelectionValid(e.win) ? n = e.docSelection.createRange() : (n = E.getBody(e.win.document).createTextRange(), n.collapse(!0)), e.docSelection.type == R ? h(e) : d(n) ? u(e, n) : s(e)
                    }; else if (A.isHostMethod(D, "getRangeAt") && "number" == typeof D.rangeCount) Q = function (e) {
                        if (G && _ && e.docSelection.type == R) h(e); else if (e._ranges.length = e.rangeCount = e.nativeSelection.rangeCount, e.rangeCount) {
                            for (var n = 0, i = e.rangeCount; i > n; ++n) e._ranges[n] = new t.WrappedRange(e.nativeSelection.getRangeAt(n));
                            o(e, e._ranges[e.rangeCount - 1], W(e.nativeSelection)), e.isCollapsed = y(e)
                        } else s(e)
                    }; else {
                        if (!N || typeof D.isCollapsed != w || typeof O.collapsed != w || !t.features.implementsDomRange) return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"), !1;
                        Q = function (t) {
                            var e, n = t.nativeSelection;
                            n.anchorNode ? (e = j(n, 0), t._ranges = [e], t.rangeCount = 1, r(t), t.isCollapsed = y(t)) : s(t)
                        }
                    }
                    z.refresh = function (t) {
                        var e = t ? this._ranges.slice(0) : null;
                        if (Q(this), t) {
                            var n = e.length;
                            if (n != this._ranges.length) return !1;
                            for (; n--;) if (!S.rangesEqual(e[n], this._ranges[n])) return !1;
                            return !0
                        }
                    };
                    var J = function (t, e) {
                        var n = t.getAllRanges(), i = !1;
                        t.removeAllRanges();
                        for (var o = 0, r = n.length; r > o; ++o) i || e !== n[o] ? t.addRange(n[o]) : i = !0;
                        t.rangeCount || s(t)
                    };
                    z.removeRange = G ? function (t) {
                        if (this.docSelection.type == R) {
                            for (var e, n = this.docSelection.createRange(), i = c(t), o = E.getDocument(n.item(0)), r = E.getBody(o).createControlRange(), s = !1, a = 0, l = n.length; l > a; ++a) e = n.item(a), e !== i || s ? r.add(n.item(a)) : s = !0;
                            r.select(), h(this)
                        } else J(this, t)
                    } : function (t) {
                        J(this, t)
                    };
                    var W;
                    !I && N && t.features.implementsDomRange ? (W = function (t) {
                        var e = !1;
                        return t.anchorNode && (e = 1 == E.comparePoints(t.anchorNode, t.anchorOffset, t.focusNode, t.focusOffset)), e
                    }, z.isBackwards = function () {
                        return W(this)
                    }) : W = z.isBackwards = function () {
                        return !1
                    }, z.toString = function () {
                        for (var t = [], e = 0, n = this.rangeCount; n > e; ++e) t[e] = "" + this._ranges[e];
                        return t.join("")
                    }, z.collapse = function (e, n) {
                        g(this, e);
                        var i = t.createRange(E.getDocument(e));
                        i.collapseToPoint(e, n), this.removeAllRanges(), this.addRange(i), this.isCollapsed = !0
                    }, z.collapseToStart = function () {
                        if (!this.rangeCount) throw new q("INVALID_STATE_ERR");
                        var t = this._ranges[0];
                        this.collapse(t.startContainer, t.startOffset)
                    }, z.collapseToEnd = function () {
                        if (!this.rangeCount) throw new q("INVALID_STATE_ERR");
                        var t = this._ranges[this.rangeCount - 1];
                        this.collapse(t.endContainer, t.endOffset)
                    }, z.selectAllChildren = function (e) {
                        g(this, e);
                        var n = t.createRange(E.getDocument(e));
                        n.selectNodeContents(e), this.removeAllRanges(), this.addRange(n)
                    }, z.deleteFromDocument = function () {
                        if (G && _ && this.docSelection.type == R) {
                            for (var t, e = this.docSelection.createRange(); e.length;) t = e.item(0), e.remove(t), t.parentNode.removeChild(t);
                            this.refresh()
                        } else if (this.rangeCount) {
                            var n = this.getAllRanges();
                            this.removeAllRanges();
                            for (var i = 0, o = n.length; o > i; ++i) n[i].deleteContents();
                            this.addRange(n[o - 1])
                        }
                    }, z.getAllRanges = function () {
                        return this._ranges.slice(0)
                    }, z.setSingleRange = function (t) {
                        this.setRanges([t])
                    }, z.containsNode = function (t, e) {
                        for (var n = 0, i = this._ranges.length; i > n; ++n) if (this._ranges[n].containsNode(t, e)) return !0;
                        return !1
                    }, z.toHtml = function () {
                        var t = "";
                        if (this.rangeCount) {
                            for (var e = S.getRangeDocument(this._ranges[0]).createElement("div"), n = 0, i = this._ranges.length; i > n; ++n) e.appendChild(this._ranges[n].cloneContents());
                            t = e.innerHTML
                        }
                        return t
                    }, z.getName = function () {
                        return "WrappedSelection"
                    }, z.inspect = function () {
                        return b(this)
                    }, z.detach = function () {
                        this.win[x] = null, this.win = this.anchorNode = this.focusNode = null
                    }, f.inspect = b, t.Selection = f, t.selectionPrototype = z, t.addCreateMissingNativeApiListener(function (e) {
                        "undefined" == typeof e.getSelection && (e.getSelection = function () {
                            return t.getSelection(this)
                        }), e = null
                    })
                })
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/Text/Html/rangy.js", "/node_modules/seaglass/src/Element/IO/Text/Html")
        }, {_process: 6, buffer: 2}],
        34: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function (t) {
                    function e(t, n) {
                        return new e.prototype.init(t, n)
                    }

                    var n = 0, i = !1, o = function (t) {
                        return this[0] = t.startOffset, this[1] = t.endOffset, this.range = t, this
                    };
                    o.prototype.equals = function () {
                        return this[0] === this[1]
                    }, t.fn.redactor = function (n) {
                        var i = [], o = Array.prototype.slice.call(arguments, 1);
                        return this.each("string" == typeof n ? function () {
                            var e = t.data(this, "redactor");
                            if ("undefined" == typeof e || !t.isFunction(e[n])) return t.error('No such method "' + n + '" for Redactor');
                            var r = e[n].apply(e, o);
                            void 0 !== r && r !== e && i.push(r)
                        } : function () {
                            t.data(this, "redactor") || t.data(this, "redactor", e(this, n))
                        }), 0 === i.length ? this : 1 === i.length ? i[0] : i
                    }, t.Redactor = e, t.Redactor.VERSION = "9.1.4", t.Redactor.opts = {
                        rangy: !1,
                        iframe: !1,
                        fullpage: !1,
                        css: !1,
                        lang: "en",
                        direction: "ltr",
                        placeholder: !1,
                        wym: !1,
                        mobile: !0,
                        cleanup: !0,
                        tidyHtml: !0,
                        pastePlainText: !1,
                        removeEmptyTags: !0,
                        templateVars: !1,
                        visual: !0,
                        focus: !1,
                        tabindex: !1,
                        autoresize: !0,
                        minHeight: !1,
                        shortcuts: !0,
                        autosave: !1,
                        autosaveInterval: 60,
                        plugins: !1,
                        linkAnchor: !1,
                        linkEmail: !1,
                        linkProtocol: "http://",
                        linkNofollow: !1,
                        imageFloatMargin: "10px",
                        imageGetJson: !1,
                        imageUpload: !1,
                        fileUpload: !1,
                        clipboardUpload: !0,
                        clipboardUploadUrl: !1,
                        dragUpload: !0,
                        dnbImageTypes: ["image/png", "image/jpeg", "image/gif"],
                        s3: !1,
                        uploadFields: !1,
                        observeImages: !0,
                        observeLinks: !0,
                        modalOverlay: !0,
                        tabSpaces: !1,
                        tabFocus: !0,
                        air: !1,
                        airButtons: ["formatting", "|", "bold", "italic", "deleted", "|", "unorderedlist", "orderedlist", "outdent", "indent"],
                        toolbar: !0,
                        toolbarFixed: !1,
                        toolbarFixedTarget: document,
                        toolbarFixedTopOffset: 0,
                        toolbarFixedBox: !1,
                        toolbarExternal: !1,
                        buttonSource: !0,
                        buttonSeparator: '<li class="redactor_separator"></li>',
                        buttonsCustom: {},
                        buttonsAdd: [],
                        buttons: ["html", "|", "formatting", "|", "bold", "italic", "deleted", "|", "unorderedlist", "orderedlist", "outdent", "indent", "|", "image", "video", "file", "table", "link", "|", "alignment", "|", "horizontalrule"],
                        activeButtons: ["deleted", "italic", "bold", "underline", "unorderedlist", "orderedlist", "alignleft", "aligncenter", "alignright", "justify", "table"],
                        activeButtonsStates: {
                            b: "bold",
                            strong: "bold",
                            i: "italic",
                            em: "italic",
                            del: "deleted",
                            strike: "deleted",
                            ul: "unorderedlist",
                            ol: "orderedlist",
                            u: "underline",
                            tr: "table",
                            td: "table",
                            table: "table"
                        },
                        activeButtonsAdd: !1,
                        formattingTags: ["p", "blockquote", "pre", "h1", "h2", "h3", "h4", "h5", "h6"],
                        linebreaks: !1,
                        paragraphy: !0,
                        convertDivs: !0,
                        convertLinks: !0,
                        convertImageLinks: !1,
                        convertVideoLinks: !1,
                        formattingPre: !1,
                        phpTags: !1,
                        allowedTags: !1,
                        deniedTags: ["html", "head", "link", "body", "meta", "script", "style", "applet"],
                        boldTag: "strong",
                        italicTag: "em",
                        indentValue: 20,
                        buffer: [],
                        rebuffer: [],
                        textareamode: !1,
                        emptyHtml: "<p>&#x200b;</p>",
                        invisibleSpace: "&#x200b;",
                        rBlockTest: /^(P|H[1-6]|LI|ADDRESS|SECTION|HEADER|FOOTER|ASIDE|ARTICLE)$/i,
                        alignmentTags: ["P", "H1", "H2", "H3", "H4", "H5", "H6", "DD", "DL", "DT", "DIV", "TD", "BLOCKQUOTE", "OUTPUT", "FIGCAPTION", "ADDRESS", "SECTION", "HEADER", "FOOTER", "ASIDE", "ARTICLE"],
                        ownLine: ["area", "body", "head", "hr", "i?frame", "link", "meta", "noscript", "style", "script", "table", "tbody", "thead", "tfoot"],
                        contOwnLine: ["li", "dt", "dt", "h[1-6]", "option", "script"],
                        newLevel: ["blockquote", "div", "dl", "fieldset", "form", "frameset", "map", "ol", "p", "pre", "select", "td", "th", "tr", "ul"],
                        blockLevelElements: ["P", "H1", "H2", "H3", "H4", "H5", "H6", "DD", "DL", "DT", "DIV", "LI", "BLOCKQUOTE", "OUTPUT", "FIGCAPTION", "PRE", "ADDRESS", "SECTION", "HEADER", "FOOTER", "ASIDE", "ARTICLE", "TD"],
                        langs: {
                            en: {
                                html: "HTML",
                                video: "Insert Video",
                                image: "Insert Image",
                                table: "Table",
                                link: "Link",
                                link_insert: "Insert link",
                                link_edit: "Edit link",
                                unlink: "Unlink",
                                formatting: "Formatting",
                                paragraph: "Normal text",
                                quote: "Quote",
                                code: "Code",
                                header1: "Header 1",
                                header2: "Header 2",
                                header3: "Header 3",
                                header4: "Header 4",
                                header5: "Header 5",
                                bold: "Bold",
                                italic: "Italic",
                                fontcolor: "Font Color",
                                backcolor: "Back Color",
                                unorderedlist: "Unordered List",
                                orderedlist: "Ordered List",
                                outdent: "Outdent",
                                indent: "Indent",
                                cancel: "Cancel",
                                insert: "Insert",
                                save: "Save",
                                _delete: "Delete",
                                insert_table: "Insert Table",
                                insert_row_above: "Add Row Above",
                                insert_row_below: "Add Row Below",
                                insert_column_left: "Add Column Left",
                                insert_column_right: "Add Column Right",
                                delete_column: "Delete Column",
                                delete_row: "Delete Row",
                                delete_table: "Delete Table",
                                rows: "Rows",
                                columns: "Columns",
                                add_head: "Add Head",
                                delete_head: "Delete Head",
                                title: "Title",
                                image_position: "Position",
                                none: "None",
                                left: "Left",
                                right: "Right",
                                image_web_link: "Image Web Link",
                                text: "Text",
                                mailto: "Email",
                                web: "URL",
                                video_html_code: "Video Embed Code",
                                file: "Insert File",
                                upload: "Upload",
                                download: "Download",
                                choose: "Choose",
                                or_choose: "Or choose",
                                drop_file_here: "Drop file here",
                                align_left: "Align text to the left",
                                align_center: "Center text",
                                align_right: "Align text to the right",
                                align_justify: "Justify text",
                                horizontalrule: "Insert Horizontal Rule",
                                deleted: "Deleted",
                                anchor: "Anchor",
                                link_new_tab: "Open link in new tab",
                                underline: "Underline",
                                alignment: "Alignment",
                                filename: "Name (optional)",
                                edit: "Edit"
                            }
                        }
                    }, e.fn = t.Redactor.prototype = {
                        keyCode: {
                            BACKSPACE: 8,
                            DELETE: 46,
                            DOWN: 40,
                            ENTER: 13,
                            ESC: 27,
                            TAB: 9,
                            CTRL: 17,
                            META: 91,
                            LEFT: 37,
                            LEFT_WIN: 91
                        }, init: function (e, i) {
                            this.$element = this.$source = t(e), this.uuid = n++;
                            var o = t.extend(!0, {}, t.Redactor.opts);
                            if (this.opts = t.extend({}, o, this.$element.data(), i), this.start = !0, this.dropdowns = [], this.sourceHeight = this.$source.css("height"), this.sourceWidth = this.$source.css("width"), this.opts.fullpage && (this.opts.iframe = !0), this.opts.linebreaks && (this.opts.paragraphy = !1), this.opts.paragraphy && (this.opts.linebreaks = !1), this.opts.toolbarFixedBox && (this.opts.toolbarFixed = !0), this.document = document, this.window = window, this.savedSel = !1, this.cleanlineBefore = new RegExp("^<(/?" + this.opts.ownLine.join("|/?") + "|" + this.opts.contOwnLine.join("|") + ")[ >]"), this.cleanlineAfter = new RegExp("^<(br|/?" + this.opts.ownLine.join("|/?") + "|/" + this.opts.contOwnLine.join("|/") + ")[ >]"), this.cleannewLevel = new RegExp("^</?(" + this.opts.newLevel.join("|") + ")[ >]"), this.rTestBlock = new RegExp("^(" + this.opts.blockLevelElements.join("|") + ")$", "i"), this.opts.linebreaks === !1 && (this.opts.allowedTags !== !1 && "-1" === t.inArray("p", this.opts.allowedTags) && this.opts.allowedTags.push("p"), this.opts.deniedTags !== !1)) {
                                var r = t.inArray("p", this.opts.deniedTags);
                                "-1" !== r && this.opts.deniedTags.splice(r, r)
                            }
                            (this.browser("msie") || this.browser("opera")) && (this.opts.buttons = this.removeFromArrayByValue(this.opts.buttons, "horizontalrule")), this.opts.curLang = this.opts.langs[this.opts.lang], this.buildStart()
                        }, initToolbar: function (t) {
                            return {
                                html: {title: t.html, func: "toggle"},
                                formatting: {
                                    title: t.formatting,
                                    func: "show",
                                    dropdown: {
                                        p: {title: t.paragraph, func: "formatBlocks"},
                                        blockquote: {
                                            title: t.quote,
                                            func: "formatQuote",
                                            className: "redactor_format_blockquote"
                                        },
                                        pre: {title: t.code, func: "formatBlocks", className: "redactor_format_pre"},
                                        h1: {title: t.header1, func: "formatBlocks", className: "redactor_format_h1"},
                                        h2: {title: t.header2, func: "formatBlocks", className: "redactor_format_h2"},
                                        h3: {title: t.header3, func: "formatBlocks", className: "redactor_format_h3"},
                                        h4: {title: t.header4, func: "formatBlocks", className: "redactor_format_h4"},
                                        h5: {title: t.header5, func: "formatBlocks", className: "redactor_format_h5"}
                                    }
                                },
                                bold: {title: t.bold, exec: "bold"},
                                italic: {title: t.italic, exec: "italic"},
                                deleted: {title: t.deleted, exec: "strikethrough"},
                                underline: {title: t.underline, exec: "underline"},
                                unorderedlist: {title: "&bull; " + t.unorderedlist, exec: "insertunorderedlist"},
                                orderedlist: {title: "1. " + t.orderedlist, exec: "insertorderedlist"},
                                outdent: {title: "< " + t.outdent, func: "indentingOutdent"},
                                indent: {title: "> " + t.indent, func: "indentingIndent"},
                                image: {title: t.image, func: "imageShow"},
                                video: {title: t.video, func: "videoShow"},
                                file: {title: t.file, func: "fileShow"},
                                table: {
                                    title: t.table,
                                    func: "show",
                                    dropdown: {
                                        insert_table: {title: t.insert_table, func: "tableShow"},
                                        separator_drop1: {name: "separator"},
                                        insert_row_above: {title: t.insert_row_above, func: "tableAddRowAbove"},
                                        insert_row_below: {title: t.insert_row_below, func: "tableAddRowBelow"},
                                        insert_column_left: {title: t.insert_column_left, func: "tableAddColumnLeft"},
                                        insert_column_right: {
                                            title: t.insert_column_right,
                                            func: "tableAddColumnRight"
                                        },
                                        separator_drop2: {name: "separator"},
                                        add_head: {title: t.add_head, func: "tableAddHead"},
                                        delete_head: {title: t.delete_head, func: "tableDeleteHead"},
                                        separator_drop3: {name: "separator"},
                                        delete_column: {title: t.delete_column, func: "tableDeleteColumn"},
                                        delete_row: {title: t.delete_row, func: "tableDeleteRow"},
                                        delete_table: {title: t.delete_table, func: "tableDeleteTable"}
                                    }
                                },
                                link: {
                                    title: t.link,
                                    func: "show",
                                    dropdown: {
                                        link: {title: t.link_insert, func: "linkShow"},
                                        unlink: {title: t.unlink, exec: "unlink"}
                                    }
                                },
                                fontcolor: {title: t.fontcolor, func: "show"},
                                backcolor: {title: t.backcolor, func: "show"},
                                alignment: {
                                    title: t.alignment,
                                    func: "show",
                                    dropdown: {
                                        alignleft: {title: t.align_left, func: "alignmentLeft"},
                                        aligncenter: {title: t.align_center, func: "alignmentCenter"},
                                        alignright: {title: t.align_right, func: "alignmentRight"},
                                        justify: {title: t.align_justify, func: "alignmentJustify"}
                                    }
                                },
                                alignleft: {title: t.align_left, func: "alignmentLeft"},
                                aligncenter: {title: t.align_center, func: "alignmentCenter"},
                                alignright: {title: t.align_right, func: "alignmentRight"},
                                justify: {title: t.align_justify, func: "alignmentJustify"},
                                horizontalrule: {exec: "inserthorizontalrule", title: t.horizontalrule}
                            }
                        }, callback: function (e, n, i) {
                            var o = this.opts[e + "Callback"];
                            return t.isFunction(o) ? n === !1 ? o.call(this, i) : o.call(this, n, i) : i
                        }, destroy: function () {
                            clearInterval(this.autosaveInterval), t(window).off(".redactor"), this.$source.off("redactor-textarea"), this.$element.off(".redactor").removeData("redactor");
                            var e = this.get();
                            if (this.opts.textareamode) this.$box.after(this.$source), this.$box.remove(), this.$source.val(e).show(); else {
                                var n = this.$editor;
                                this.opts.iframe && (n = this.$element), this.$box.after(n), this.$box.remove(), n.removeClass("redactor_editor").removeClass("redactor_editor_wym").removeAttr("contenteditable").html(e).show()
                            }
                            this.opts.air && t(".redactor_air").remove()
                        }, getObject: function () {
                            return t.extend({}, this)
                        }, getEditor: function () {
                            return this.$editor
                        }, getBox: function () {
                            return this.$box
                        }, getIframe: function () {
                            return this.opts.iframe ? this.$frame : !1
                        }, getToolbar: function () {
                            return this.$toolbar
                        }, get: function () {
                            return this.$source.val()
                        }, getCodeIframe: function () {
                            this.$editor.removeAttr("contenteditable").removeAttr("dir");
                            var t = this.outerHtml(this.$frame.contents().children());
                            return this.$editor.attr({contenteditable: !0, dir: this.opts.direction}), t
                        }, set: function (t, e, n) {
                            t = t.toString(), this.opts.fullpage ? this.setCodeIframe(t) : this.setEditor(t, e), n !== !1 && this.placeholderRemove()
                        }, setEditor: function (t, e) {
                            e !== !1 && (t = this.cleanSavePreCode(t), t = this.cleanStripTags(t), t = this.cleanConvertProtected(t), t = this.cleanConvertInlineTags(t), t = this.opts.linebreaks === !1 ? this.cleanConverters(t) : t.replace(/<p(.*?)>([\w\W]*?)<\/p>/gi, "$2<br>")), t = this.cleanEmpty(t), this.$editor.html(t), this.sync()
                        }, setCodeIframe: function (t) {
                            var e = this.iframePage();
                            this.$frame[0].src = "about:blank", t = this.cleanConvertProtected(t), t = this.cleanConvertInlineTags(t), t = this.cleanRemoveSpaces(t), e.open(), e.write(t), e.close(), this.opts.fullpage && (this.$editor = this.$frame.contents().find("body").attr({
                                contenteditable: !0,
                                dir: this.opts.direction
                            })), this.sync()
                        }, setFullpageOnInit: function (t) {
                            t = this.cleanSavePreCode(t, !0), t = this.cleanConverters(t), t = this.cleanEmpty(t), this.$editor.html(t), this.sync()
                        }, sync: function () {
                            var e = "";
                            this.cleanUnverified(), e = this.opts.fullpage ? this.getCodeIframe() : this.$editor.html(), e = this.syncClean(e), e = this.cleanRemoveSpaces(e), e = this.cleanRemoveEmptyTags(e), e = e.replace(/<\/li><(ul|ol)>([\w\W]*?)<\/(ul|ol)>/gi, "<$1>$2</$1></li>"), "<br>" === t.trim(e) && (e = ""), "" !== e && this.opts.tidyHtml && (e = this.cleanHtml(e)), e = e.replace(/<br>/gi, "<br />"), e = this.callback("syncBefore", !1, e), this.$source.val(e), this.callback("syncAfter", !1, e), this.start === !1 && this.callback("change", !1, e)
                        }, syncClean: function (e) {
                            return this.opts.fullpage || (e = this.cleanStripTags(e)), e = t.trim(e), e = this.placeholderRemoveFromCode(e), e = e.replace(/&#x200b;/gi, ""), e = e.replace(/&#8203;/gi, ""), e = e.replace(/&nbsp;/gi, " "), this.opts.linkNofollow && (e = e.replace(/<a(.*?)rel="nofollow"(.*?)>/gi, "<a$1$2>"), e = e.replace(/<a(.*?)>/gi, '<a$1 rel="nofollow">')), e = e.replace("<!--?php", "<?php"), e = e.replace("?-->", "?>"), e = e.replace(/ data-tagblock=""/gi, ""), e = e.replace(/<br\s?\/?>\n?<\/(P|H[1-6]|LI|ADDRESS|SECTION|HEADER|FOOTER|ASIDE|ARTICLE)>/gi, "</$1>"), e = e.replace(/<span(.*?)id="redactor-image-box"(.*?)>([\w\W]*?)<img(.*?)><\/span>/i, "$3<img$4>"), e = e.replace(/<span(.*?)id="redactor-image-resizer"(.*?)>(.*?)<\/span>/i, ""), e = e.replace(/<span(.*?)id="redactor-image-editter"(.*?)>(.*?)<\/span>/i, ""), e = e.replace(/<span\s*?>([\w\W]*?)<\/span>/gi, "$1"), e = e.replace(/<span(.*?)data-redactor="verified"(.*?)>([\w\W]*?)<\/span>/gi, "<span$1$2>$3</span>"), e = e.replace(/<span(.*?)data-redactor-inlineMethods=""(.*?)>([\w\W]*?)<\/span>/gi, "<span$1$2>$3</span>"), e = e.replace(/<span\s*?>([\w\W]*?)<\/span>/gi, "$1"), e = e.replace(/<span\s*?id="selection-marker(.*?)"(.*?)>([\w\W]*?)<\/span>/gi, ""), e = e.replace(/<span\s*?>([\w\W]*?)<\/span>/gi, "$1"), e = e.replace(/<span(.*?)data-redactor="verified"(.*?)>([\w\W]*?)<\/span>/gi, "<span$1$2>$3</span>"), e = e.replace(/<span(.*?)data-redactor-inlineMethods=""(.*?)>([\w\W]*?)<\/span>/gi, "<span$1$2>$3</span>"), e = e.replace(/<span>([\w\W]*?)<\/span>/gi, "$1"), e = e.replace(/;amp;/gi, ";"), e = this.cleanReConvertProtected(e)
                        }, buildStart: function () {
                            this.content = "", this.$box = t('<div class="redactor_box" />'), "TEXTAREA" === this.$source[0].tagName && (this.opts.textareamode = !0), this.opts.mobile === !1 && this.isMobile() ? this.buildMobile() : (this.buildContent(), this.opts.iframe ? (this.opts.autoresize = !1, this.iframeStart()) : this.opts.textareamode ? this.buildFromTextarea() : this.buildFromElement(), this.opts.iframe || (this.buildOptions(), this.buildAfter()))
                        }, buildMobile: function () {
                            this.opts.textareamode || (this.$editor = this.$source, this.$editor.hide(), this.$source = this.buildCodearea(this.$editor), this.$source.val(this.content)), this.$box.insertAfter(this.$source).append(this.$source)
                        }, buildContent: function () {
                            this.content = t.trim(this.opts.textareamode ? this.$source.val() : this.$source.html())
                        }, buildFromTextarea: function () {
                            this.$editor = t("<div />"), this.$box.insertAfter(this.$source).append(this.$editor).append(this.$source), this.buildAddClasses(this.$editor), this.buildEnable()
                        }, buildFromElement: function () {
                            this.$editor = this.$source, this.$source = this.buildCodearea(this.$editor), this.$box.insertAfter(this.$editor).append(this.$editor).append(this.$source), this.buildEnable()
                        }, buildCodearea: function (e) {
                            return t("<textarea />").attr("name", e.attr("id")).css("height", this.sourceHeight)
                        }, buildAddClasses: function (e) {
                            t.each(this.$source.get(0).className.split(/\s+/), function (t, n) {
                                e.addClass("redactor_" + n)
                            })
                        }, buildEnable: function () {
                            this.$editor.addClass("redactor_editor").attr({
                                contenteditable: !0,
                                dir: this.opts.direction
                            }), this.$source.attr("dir", this.opts.direction).hide(), this.set(this.content, !0, !1)
                        }, buildOptions: function () {
                            var t = this.$editor;
                            this.opts.iframe && (t = this.$frame), this.opts.tabindex && t.attr("tabindex", this.opts.tabindex), this.opts.minHeight && t.css("min-height", this.opts.minHeight + "px"), this.opts.wym && this.$editor.addClass("redactor_editor_wym"), this.opts.autoresize || t.css("height", this.sourceHeight)
                        }, buildAfter: function () {
                            if (this.start = !1, this.opts.toolbar && (this.opts.toolbar = this.initToolbar(this.opts.curLang), this.toolbarBuild()), this.modalTemplatesInit(), this.buildPlugins(), this.buildBindKeyboard(), this.opts.autosave && this.autosave(), setTimeout(t.proxy(this.observeStart, this), 4), this.browser("mozilla")) try {
                                this.document.execCommand("enableObjectResizing", !1, !1), this.document.execCommand("enableInlineTableEditing", !1, !1)
                            } catch (e) {
                            }
                            this.opts.focus && setTimeout(t.proxy(this.focus, this), 100), this.opts.visual || setTimeout(t.proxy(function () {
                                this.opts.visual = !0, this.toggle(!1)
                            }, this), 200), this.callback("init")
                        }, buildBindKeyboard: function () {
                            this.opts.dragUpload && this.$editor.on("drop.redactor", t.proxy(this.buildEventDrop, this)), this.$editor.on("paste.redactor", t.proxy(this.buildEventPaste, this)), this.$editor.on("keydown.redactor", t.proxy(this.buildEventKeydown, this)), this.$editor.on("keyup.redactor", t.proxy(this.buildEventKeyup, this)), t.isFunction(this.opts.textareaKeydownCallback) && this.$source.on("keydown.redactor-textarea", t.proxy(this.opts.textareaKeydownCallback, this)), t.isFunction(this.opts.focusCallback) && this.$editor.on("focus.redactor", t.proxy(this.opts.focusCallback, this)), this.$editor.on("blur.redactor", t.proxy(function () {
                                this.selectall = !1
                            }, this)), t.isFunction(this.opts.blurCallback) && this.$editor.on("blur.redactor", t.proxy(this.opts.blurCallback, this))
                        }, buildEventDrop: function (e) {
                            if (e = e.originalEvent || e, void 0 === window.FormData) return !0;
                            var n = e.dataTransfer.files.length;
                            if (0 == n) return !0;
                            e.preventDefault();
                            var i = e.dataTransfer.files[0];
                            if (this.opts.dnbImageTypes !== !1 && -1 == this.opts.dnbImageTypes.indexOf(i.type)) return !0;
                            this.bufferSet();
                            var o = t('<div id="redactor-progress-drag" class="redactor-progress redactor-progress-striped"><div id="redactor-progress-bar" class="redactor-progress-bar" style="width: 100%;"></div></div>');
                            t(document.body).append(o), this.dragUploadAjax(this.opts.imageUpload, i, !0, o, e)
                        }, buildEventPaste: function (e) {
                            var n = !1;
                            if (this.browser("webkit") && -1 === navigator.userAgent.indexOf("Chrome")) {
                                var o = this.browser("version").split(".");
                                o[0] < 536 && (n = !0)
                            }
                            if (n) return !0;
                            if (this.browser("opera")) return !0;
                            if (this.opts.clipboardUpload && this.buildEventClipboardUpload(e)) return !0;
                            if (this.opts.cleanup) {
                                i = !0, this.selectionSave(), this.selectall || (this.opts.autoresize === !0 ? (this.$editor.height(this.$editor.height()), this.saveScroll = this.document.body.scrollTop) : this.saveScroll = this.$editor.scrollTop());
                                var r = this.extractContent();
                                setTimeout(t.proxy(function () {
                                    var t = this.extractContent();
                                    this.$editor.append(r), this.selectionRestore();
                                    var e = this.getFragmentHtml(t);
                                    this.pasteClean(e), this.opts.autoresize === !0 && this.$editor.css("height", "auto")
                                }, this), 1)
                            }
                        }, buildEventClipboardUpload: function (e) {
                            var n = e.originalEvent || e;
                            if (this.clipboardFilePaste = !1, "undefined" == typeof n.clipboardData) return !1;
                            if (n.clipboardData.items) {
                                var i = n.clipboardData.items[0].getAsFile();
                                if (null !== i) {
                                    this.bufferSet(), this.clipboardFilePaste = !0;
                                    var o = new FileReader;
                                    return o.onload = t.proxy(this.pasteClipboardUpload, this), o.readAsDataURL(i), !0
                                }
                            }
                            return !1
                        }, buildEventKeydown: function (e) {
                            if (i) return !1;
                            var n = e.which, o = e.ctrlKey || e.metaKey, r = this.getParent(), s = this.getCurrent(),
                                a = this.getBlock(), l = !1;
                            if (this.callback("keydown", e), this.imageResizeHide(!1), (r && "PRE" === t(r).get(0).tagName || s && "PRE" === t(s).get(0).tagName) && (l = !0, n === this.keyCode.DOWN && this.insertAfterLastElement(a)), n === this.keyCode.DOWN && (r && "BLOCKQUOTE" === t(r).get(0).tagName && this.insertAfterLastElement(r), s && "BLOCKQUOTE" === t(s).get(0).tagName && this.insertAfterLastElement(s)), o && !e.shiftKey && this.shortcuts(e, n), o && 90 === n && !e.shiftKey && !e.altKey) return e.preventDefault(), void (this.opts.buffer.length ? this.bufferUndo() : this.document.execCommand("undo", !1, !1));
                            if (o && 90 === n && e.shiftKey && !e.altKey) return e.preventDefault(), void (0 != this.opts.rebuffer.length ? this.bufferRedo() : this.document.execCommand("redo", !1, !1));
                            if (o && 65 === n ? this.selectall = !0 : n == this.keyCode.LEFT_WIN || o || (this.selectall = !1), n != this.keyCode.ENTER || e.shiftKey || e.ctrlKey || e.metaKey) n === this.keyCode.ENTER && (e.ctrlKey || e.shiftKey) && (this.bufferSet(), e.preventDefault(), this.insertLineBreak()); else {
                                if (1 == r.nodeType && ("TD" == r.tagName || "TH" == r.tagName)) return e.preventDefault(), this.bufferSet(), this.insertNode(document.createElement("br")), this.callback("enter", e), !1;
                                if (l === !0) {
                                    e.preventDefault(), this.bufferSet();
                                    var c = t(s).parent().text();
                                    return this.insertNode(document.createTextNode("\n")), -1 == c.search(/\s$/) && this.insertNode(document.createTextNode("\n")), this.sync(), this.callback("enter", e), !1
                                }
                                if (!this.opts.linebreaks) if (a && this.opts.rBlockTest.test(a.tagName)) this.bufferSet(), setTimeout(t.proxy(function () {
                                    var e = this.getBlock();
                                    if ("DIV" === e.tagName && !t(e).hasClass("redactor_editor")) {
                                        var n = t("<p>" + this.opts.invisibleSpace + "</p>");
                                        t(e).replaceWith(n), this.selectionStart(n)
                                    }
                                }, this), 1); else if (a === !1) {
                                    this.bufferSet();
                                    var d = t("<p>" + this.opts.invisibleSpace + "</p>");
                                    return this.insertNode(d[0]), this.selectionStart(d), this.callback("enter", e), !1
                                }
                                if (this.opts.linebreaks) {
                                    if (!a || !this.opts.rBlockTest.test(a.tagName)) return this.buildEventKeydownInsertLineBreak(e);
                                    this.bufferSet(), setTimeout(t.proxy(function () {
                                        var e = this.getBlock();
                                        "DIV" !== e.tagName && "P" !== e.tagName || t(e).hasClass("redactor_editor") || this.replaceLineBreak(e)
                                    }, this), 1)
                                }
                                if ("BLOCKQUOTE" == a.tagName || "FIGCAPTION" == a.tagName) return this.buildEventKeydownInsertLineBreak(e);
                                this.callback("enter", e)
                            }
                            if (n === this.keyCode.TAB && this.opts.shortcuts) return this.opts.tabFocus ? this.isEmpty(this.get()) ? !0 : (e.preventDefault(), l !== !0 || e.shiftKey ? this.opts.tabSpaces !== !1 ? (this.bufferSet(), this.insertNode(document.createTextNode(Array(this.opts.tabSpaces + 1).join(" "))), this.sync(), !1) : (e.shiftKey ? this.indentingOutdent() : this.indentingIndent(), !1) : (this.bufferSet(), this.insertNode(document.createTextNode("	")), this.sync(), !1)) : !0;
                            if (n === this.keyCode.BACKSPACE) {
                                if ("undefined" != typeof s.tagName && /^(H[1-6])$/i.test(s.tagName)) {
                                    var d;
                                    d = t(this.opts.linebreaks === !1 ? "<p>" + this.opts.invisibleSpace + "</p>" : "<br>" + this.opts.invisibleSpace), t(s).replaceWith(d), this.selectionStart(d)
                                }
                                if ("undefined" != typeof s.nodeValue && null !== s.nodeValue) {
                                    var u = t.trim(s.nodeValue.replace(/[^\u0000-\u1C7F]/g, ""));
                                    s.remove && 3 === s.nodeType && 8203 == s.nodeValue.charCodeAt(0) && "" == u && s.remove()
                                }
                            }
                        }, buildEventKeydownInsertLineBreak: function (t) {
                            this.bufferSet(), t.preventDefault(), this.insertLineBreak(), this.callback("enter", t)
                        }, buildEventKeyup: function (e) {
                            if (i) return !1;
                            var n = e.which, o = this.getParent(), r = this.getCurrent();
                            if (!this.opts.linebreaks && 3 == r.nodeType && (0 == o || "BODY" == o.tagName)) {
                                var s = t("<p>").append(t(r).clone());
                                t(r).replaceWith(s);
                                var a = t(s).next();
                                "undefined" != typeof a[0] && "BR" == a[0].tagName && a.remove(), this.selectionEnd(s)
                            }
                            return (this.opts.convertLinks || this.opts.convertImageLinks || this.opts.convertVideoLinks) && n === this.keyCode.ENTER && (this.formatLinkify(this.opts.linkProtocol, this.opts.convertLinks, this.opts.convertImageLinks, this.opts.convertVideoLinks), setTimeout(t.proxy(function () {
                                this.opts.convertImageLinks && this.observeImages(), this.opts.observeLinks && this.observeLinks()
                            }, this), 5)), this.opts.linebreaks !== !1 || n !== this.keyCode.DELETE && n !== this.keyCode.BACKSPACE ? (this.callback("keyup", e), void this.sync()) : this.formatEmpty(e)
                        }, buildPlugins: function () {
                            this.opts.plugins && t.each(this.opts.plugins, t.proxy(function (e, n) {
                                RedactorPlugins[n] && (t.extend(this, RedactorPlugins[n]), t.isFunction(RedactorPlugins[n].init) && this.init())
                            }, this))
                        }, iframeStart: function () {
                            this.iframeCreate(), this.opts.textareamode ? this.iframeAppend(this.$source) : (this.$sourceOld = this.$source.hide(), this.$source = this.buildCodearea(this.$sourceOld), this.iframeAppend(this.$sourceOld))
                        }, iframeAppend: function (t) {
                            this.$source.attr("dir", this.opts.direction).hide(), this.$box.insertAfter(t).append(this.$frame).append(this.$source)
                        }, iframeCreate: function () {
                            this.$frame = t('<iframe style="width: 100%;" frameborder="0" />').one("load", t.proxy(function () {
                                if (this.opts.fullpage) {
                                    this.iframePage(), "" === this.content && (this.content = this.opts.invisibleSpace), this.$frame.contents()[0].write(this.content), this.$frame.contents()[0].close();
                                    var e = setInterval(t.proxy(function () {
                                        this.$frame.contents().find("body").html() && (clearInterval(e), this.iframeLoad())
                                    }, this), 0)
                                } else this.iframeLoad()
                            }, this))
                        }, iframeDoc: function () {
                            return this.$frame[0].contentWindow.document
                        }, iframePage: function () {
                            var t = this.iframeDoc();
                            return t.documentElement && t.removeChild(t.documentElement), t
                        }, iframeAddCss: function (e) {
                            e = e || this.opts.css, this.isString(e) && this.$frame.contents().find("head").append('<link rel="stylesheet" href="' + e + '" />'), t.isArray(e) && t.each(e, t.proxy(function (t, e) {
                                this.iframeAddCss(e)
                            }, this))
                        }, iframeLoad: function () {
                            this.$editor = this.$frame.contents().find("body").attr({
                                contenteditable: !0,
                                dir: this.opts.direction
                            }), this.$editor[0] && (this.document = this.$editor[0].ownerDocument, this.window = this.document.defaultView || window), this.iframeAddCss(), this.opts.fullpage ? this.setFullpageOnInit(this.$editor.html()) : this.set(this.content, !0, !1), this.buildOptions(), this.buildAfter()
                        }, placeholderStart: function (e) {
                            return this.isEmpty(e) && (this.$element.attr("placeholder") && (this.opts.placeholder = this.$element.attr("placeholder")), "" === this.opts.placeholder && (this.opts.placeholder = !1), this.opts.placeholder !== !1) ? (this.opts.focus = !1, this.$editor.one("focus.redactor_placeholder", t.proxy(this.placeholderFocus, this)), t('<span class="redactor_placeholder" data-redactor="verified">').attr("contenteditable", !1).text(this.opts.placeholder)) : !1
                        }, placeholderFocus: function () {
                            this.$editor.find("span.redactor_placeholder").remove();
                            var t = "";
                            this.opts.linebreaks === !1 && (t = this.opts.emptyHtml), this.$editor.off("focus.redactor_placeholder"), this.$editor.html(t), this.opts.linebreaks === !1 && this.selectionStart(this.$editor.children()[0]), this.sync()
                        }, placeholderRemove: function () {
                            this.opts.placeholder = !1, this.$editor.find("span.redactor_placeholder").remove(), this.$editor.off("focus.redactor_placeholder")
                        }, placeholderRemoveFromCode: function (t) {
                            return t.replace(/<span class="redactor_placeholder"(.*?)>(.*?)<\/span>/i, "")
                        }, shortcuts: function (t, e) {
                            this.opts.shortcuts && (t.altKey ? 48 === e ? this.shortcutsLoadFormat(t, "p") : 49 === e ? this.shortcutsLoadFormat(t, "h1") : 50 === e ? this.shortcutsLoadFormat(t, "h2") : 51 === e ? this.shortcutsLoadFormat(t, "h3") : 52 === e ? this.shortcutsLoadFormat(t, "h4") : 53 === e ? this.shortcutsLoadFormat(t, "h5") : 54 === e && this.shortcutsLoadFormat(t, "h6") : 77 === e ? this.shortcutsLoad(t, "removeFormat") : 66 === e ? this.shortcutsLoad(t, "bold") : 73 === e ? this.shortcutsLoad(t, "italic") : 74 === e ? this.shortcutsLoad(t, "insertunorderedlist") : 75 === e ? this.shortcutsLoad(t, "insertorderedlist") : 72 === e ? this.shortcutsLoad(t, "superscript") : 76 === e && this.shortcutsLoad(t, "subscript"))
                        }, shortcutsLoad: function (t, e) {
                            t.preventDefault(), this.execCommand(e, !1)
                        }, shortcutsLoadFormat: function (t, e) {
                            t.preventDefault(), this.formatBlocks(e)
                        }, focus: function () {
                            this.browser("opera") ? this.$editor.focus() : this.window.setTimeout(t.proxy(this.focusSet, this, !0), 1)
                        }, focusEnd: function () {
                            this.focusSet()
                        }, focusSet: function (t) {
                            this.$editor.focus();
                            var e = this.getRange();
                            e.selectNodeContents(this.$editor[0]), e.collapse(t || !1);
                            var n = this.getSelection();
                            n.removeAllRanges(), n.addRange(e)
                        }, toggle: function (e) {
                            var n;
                            if (this.opts.visual) {
                                e !== !1 && this.selectionSave();
                                var i = null;
                                this.opts.iframe ? (i = this.$frame.height(), this.opts.fullpage && this.$editor.removeAttr("contenteditable"), this.$frame.hide()) : (i = this.$editor.innerHeight(), this.$editor.hide()), n = this.$source.val(), this.modified = n, this.$source.height(i).show().focus(), this.$source.on("keydown.redactor-textarea-indenting", function (e) {
                                    if (9 === e.keyCode) {
                                        var n = t(this), i = n.get(0).selectionStart;
                                        return n.val(n.val().substring(0, i) + "	" + n.val().substring(n.get(0).selectionEnd)), n.get(0).selectionStart = n.get(0).selectionEnd = i + 1, !1
                                    }
                                }), this.buttonInactiveVisual(), this.buttonActive("html"), this.opts.visual = !1
                            } else n = this.$source.hide().val(), "undefined" != typeof this.modified && (this.modified = this.cleanRemoveSpaces(this.modified, !1) !== this.cleanRemoveSpaces(n, !1)), this.modified && (this.opts.fullpage && "" === n ? this.setFullpageOnInit(n) : (this.set(n), this.opts.fullpage && this.buildBindKeyboard())), this.opts.iframe ? this.$frame.show() : this.$editor.show(), this.opts.fullpage && this.$editor.attr("contenteditable", !0), this.$source.off("keydown.redactor-textarea-indenting"), this.$editor.focus(), this.selectionRestore(), this.observeStart(), this.buttonActiveVisual(), this.buttonInactive("html"), this.opts.visual = !0
                        }, autosave: function () {
                            var e = !1;
                            this.autosaveInterval = setInterval(t.proxy(function () {
                                var n = this.get();
                                e !== n && t.ajax({
                                    url: this.opts.autosave,
                                    type: "post",
                                    data: this.$source.attr("name") + "=" + escape(encodeURIComponent(n)),
                                    success: t.proxy(function (t) {
                                        this.callback("autosave", !1, t), e = n
                                    }, this)
                                })
                            }, this), 1e3 * this.opts.autosaveInterval)
                        }, toolbarBuild: function () {
                            if (this.opts.air) this.opts.buttons = this.opts.airButtons; else if (!this.opts.buttonSource) {
                                var e = this.opts.buttons.indexOf("html"), n = this.opts.buttons[e + 1];
                                this.opts.buttons.splice(e, 1), "|" === n && this.opts.buttons.splice(e, 1)
                            }
                            if (t.extend(this.opts.toolbar, this.opts.buttonsCustom), t.each(this.opts.buttonsAdd, t.proxy(function (t, e) {
                                this.opts.buttons.push(e)
                            }, this)), this.opts.toolbar && t.each(this.opts.toolbar.formatting.dropdown, t.proxy(function (e, n) {
                                "-1" == t.inArray(e, this.opts.formattingTags) && delete this.opts.toolbar.formatting.dropdown[e]
                            }, this)), 0 === this.opts.buttons.length) return !1;
                            if (this.airEnable(), this.$toolbar = t("<ul>").addClass("redactor_toolbar").attr("id", "redactor_toolbar_" + this.uuid), this.opts.air ? (this.$air = t('<div class="redactor_air">').attr("id", "redactor_air_" + this.uuid).hide(), this.$air.append(this.$toolbar), t("body").append(this.$air)) : this.opts.toolbarExternal ? t(this.opts.toolbarExternal).html(this.$toolbar) : this.$box.prepend(this.$toolbar), t.each(this.opts.buttons, t.proxy(function (e, n) {
                                if ("|" === n) this.$toolbar.append(t(this.opts.buttonSeparator)); else if (this.opts.toolbar[n]) {
                                    var i = this.opts.toolbar[n];
                                    if (this.opts.fileUpload === !1 && "file" === n) return !0;
                                    this.$toolbar.append(t("<li>").append(this.buttonBuild(n, i)))
                                }
                            }, this)), this.$toolbar.find("a").attr("tabindex", "-1"), this.opts.toolbarFixed && (this.toolbarObserveScroll(), t(this.opts.toolbarFixedTarget).on("scroll.redactor", t.proxy(this.toolbarObserveScroll, this))), this.opts.activeButtons) {
                                var i = t.proxy(this.buttonActiveObserver, this);
                                this.$editor.on("mouseup.redactor keyup.redactor", i)
                            }
                        }, toolbarObserveScroll: function () {
                            var e = t(this.opts.toolbarFixedTarget).scrollTop(), n = this.$box.offset().top, i = 0,
                                o = n + this.$box.height() + 40;
                            if (e > n) {
                                var r = "100%";
                                this.opts.toolbarFixedBox && (i = this.$box.offset().left, r = this.$box.innerWidth(), this.$toolbar.addClass("toolbar_fixed_box")), this.toolbarFixed = !0, this.$toolbar.css({
                                    position: "fixed",
                                    width: r,
                                    zIndex: 1005,
                                    top: this.opts.toolbarFixedTopOffset + "px",
                                    left: i
                                }), o > e ? this.$toolbar.css("visibility", "visible") : this.$toolbar.css("visibility", "hidden")
                            } else this.toolbarFixed = !1, this.$toolbar.css({
                                position: "relative",
                                width: "auto",
                                top: 0,
                                left: i
                            }), this.opts.toolbarFixedBox && this.$toolbar.removeClass("toolbar_fixed_box")
                        }, airEnable: function () {
                            this.opts.air && this.$editor.on("mouseup.redactor keyup.redactor", this, t.proxy(function (e) {
                                var n = this.getSelectionText();
                                if ("mouseup" === e.type && "" != n && this.airShow(e), "keyup" === e.type && e.shiftKey && "" != n) {
                                    var i = t(this.getElement(this.getSelection().focusNode)), o = i.offset();
                                    o.height = i.height(), this.airShow(o, !0)
                                }
                            }, this))
                        }, airShow: function (e, n) {
                            if (this.opts.air) {
                                var i, o;
                                if (t(".redactor_air").hide(), n) i = e.left, o = e.top + e.height + 14, this.opts.iframe && (o += this.$box.position().top - t(this.document).scrollTop(), i += this.$box.position().left); else {
                                    var r = this.$air.innerWidth();
                                    i = e.clientX, t(this.document).width() < i + r && (i -= r), o = e.clientY + 14, this.opts.iframe ? (o += this.$box.position().top, i += this.$box.position().left) : o += t(this.document).scrollTop()
                                }
                                this.$air.css({left: i + "px", top: o + "px"}).show(), this.airBindHide()
                            }
                        }, airBindHide: function () {
                            if (this.opts.air) {
                                var e = t.proxy(function (e) {
                                    t(e).on("mousedown.redactor", t.proxy(function (n) {
                                        0 === t(n.target).closest(this.$toolbar).length && (this.$air.fadeOut(100), this.selectionRemove(), t(e).off(n))
                                    }, this)).on("keydown.redactor", t.proxy(function (n) {
                                        n.which === this.keyCode.ESC && this.getSelection().collapseToStart(), this.$air.fadeOut(100), t(e).off(n)
                                    }, this))
                                }, this);
                                e(document), this.opts.iframe && e(this.document)
                            }
                        }, airBindMousemoveHide: function () {
                            if (this.opts.air) {
                                var e = t.proxy(function (e) {
                                    t(e).on("mousemove.redactor", t.proxy(function (n) {
                                        0 === t(n.target).closest(this.$toolbar).length && (this.$air.fadeOut(100), t(e).off(n))
                                    }, this))
                                }, this);
                                e(document), this.opts.iframe && e(this.document)
                            }
                        }, dropdownBuild: function (e, n) {
                            t.each(n, t.proxy(function (n, i) {
                                i.className || (i.className = "");
                                var o;
                                "separator" === i.name ? o = t('<a class="redactor_separator_drop">') : (o = t('<a href="#" class="' + i.className + " redactor_dropdown_" + n + '">' + i.title + "</a>"), o.on("click", t.proxy(function (t) {
                                    t.preventDefault && t.preventDefault(), this.browser("msie") && (t.returnValue = !1), i.callback && i.callback.call(this, n, o, i, t), i.exec && this.execCommand(i.exec, n), i.func && this[i.func](n), this.buttonActiveObserver(), this.opts.air && this.$air.fadeOut(100)
                                }, this))), e.append(o)
                            }, this))
                        }, dropdownShow: function (e, n) {
                            if (!this.opts.visual) return e.preventDefault(), !1;
                            var i = this.$toolbar.find(".redactor_dropdown_box_" + n), o = this.buttonGet(n);
                            if (o.hasClass("dropact")) this.dropdownHideAll(); else {
                                this.dropdownHideAll(), this.buttonActive(n), o.addClass("dropact");
                                var r = o.position();
                                this.toolbarFixed && (r = o.offset());
                                var s = i.width();
                                r.left + s > t(document).width() && (r.left -= s);
                                var a = r.left + "px", l = 29, c = "absolute", d = l + "px";
                                this.opts.toolbarFixed && this.toolbarFixed ? c = "fixed" : this.opts.air || (d = r.top + l + "px"), i.css({
                                    position: c,
                                    left: a,
                                    top: d
                                }).show()
                            }
                            var u = t.proxy(function (t) {
                                this.dropdownHide(t, i)
                            }, this);
                            t(document).one("click", u), this.$editor.one("click", u), e.stopPropagation()
                        }, dropdownHideAll: function () {
                            this.$toolbar.find("a.dropact").removeClass("redactor_act").removeClass("dropact"), t(".redactor_dropdown").hide()
                        }, dropdownHide: function (e, n) {
                            t(e.target).hasClass("dropact") || (n.removeClass("dropact"), this.dropdownHideAll())
                        }, buttonBuild: function (e, n) {
                            var i = t('<a href="javascript:;" title="' + n.title + '" class="redactor_btn redactor_btn_' + e + '"></a>');
                            if (i.on("click", t.proxy(function (t) {
                                return t.preventDefault && t.preventDefault(), this.browser("msie") && (t.returnValue = !1), i.hasClass("redactor_button_disabled") ? !1 : (this.isFocused() !== !1 || n.exec || this.$editor.focus(), n.exec ? (this.$editor.focus(), this.execCommand(n.exec, e), this.airBindMousemoveHide()) : n.func && "show" !== n.func ? (this[n.func](e), this.airBindMousemoveHide()) : n.callback ? (n.callback.call(this, e, i, n, t), this.airBindMousemoveHide()) : n.dropdown && this.dropdownShow(t, e), void this.buttonActiveObserver(!1, e))
                            }, this)), n.dropdown) {
                                var o = t('<div class="redactor_dropdown redactor_dropdown_box_' + e + '" style="display: none;">');
                                o.appendTo(this.$toolbar), this.dropdownBuild(o, n.dropdown)
                            }
                            return i
                        }, buttonGet: function (e) {
                            return this.opts.toolbar ? t(this.$toolbar.find("a.redactor_btn_" + e)) : !1
                        }, buttonActiveToggle: function (t) {
                            var e = this.buttonGet(t);
                            e.hasClass("redactor_act") ? e.removeClass("redactor_act") : e.addClass("redactor_act")
                        }, buttonActive: function (t) {
                            this.buttonGet(t).addClass("redactor_act")
                        }, buttonInactive: function (t) {
                            this.buttonGet(t).removeClass("redactor_act")
                        }, buttonInactiveAll: function (e) {
                            t.each(this.opts.toolbar, t.proxy(function (t) {
                                t != e && this.buttonInactive(t)
                            }, this))
                        }, buttonActiveVisual: function () {
                            this.$toolbar.find("a.redactor_btn").not("a.redactor_btn_html").removeClass("redactor_button_disabled")
                        }, buttonInactiveVisual: function () {
                            this.$toolbar.find("a.redactor_btn").not("a.redactor_btn_html").addClass("redactor_button_disabled")
                        }, buttonChangeIcon: function (t, e) {
                            this.buttonGet(t).addClass("redactor_btn_" + e)
                        }, buttonRemoveIcon: function (t, e) {
                            this.buttonGet(t).removeClass("redactor_btn_" + e)
                        }, buttonAddSeparator: function () {
                            this.$toolbar.append(t(this.opts.buttonSeparator))
                        }, buttonAddSeparatorAfter: function (e) {
                            this.buttonGet(e).parent().after(t(this.opts.buttonSeparator))
                        }, buttonAddSeparatorBefore: function (e) {
                            this.buttonGet(e).parent().before(t(this.opts.buttonSeparator))
                        }, buttonRemoveSeparatorAfter: function (t) {
                            this.buttonGet(t).parent().next().remove()
                        }, buttonRemoveSeparatorBefore: function (t) {
                            this.buttonGet(t).parent().prev().remove()
                        }, buttonSetRight: function (t) {
                            this.opts.toolbar && this.buttonGet(t).parent().addClass("redactor_btn_right")
                        }, buttonSetLeft: function (t) {
                            this.opts.toolbar && this.buttonGet(t).parent().removeClass("redactor_btn_right")
                        }, buttonAdd: function (e, n, i, o) {
                            if (this.opts.toolbar) {
                                var r = this.buttonBuild(e, {title: n, callback: i, dropdown: o});
                                this.$toolbar.append(t("<li>").append(r))
                            }
                        }, buttonAddFirst: function (e, n, i, o) {
                            if (this.opts.toolbar) {
                                var r = this.buttonBuild(e, {title: n, callback: i, dropdown: o});
                                this.$toolbar.prepend(t("<li>").append(r))
                            }
                        }, buttonAddAfter: function (e, n, i, o, r) {
                            if (this.opts.toolbar) {
                                var s = this.buttonBuild(n, {title: i, callback: o, dropdown: r}),
                                    a = this.buttonGet(e);
                                0 !== a.size() ? a.parent().after(t("<li>").append(s)) : this.$toolbar.append(t("<li>").append(s))
                            }
                        }, buttonAddBefore: function (e, n, i, o, r) {
                            if (this.opts.toolbar) {
                                var s = this.buttonBuild(n, {title: i, callback: o, dropdown: r}),
                                    a = this.buttonGet(e);
                                0 !== a.size() ? a.parent().before(t("<li>").append(s)) : this.$toolbar.append(t("<li>").append(s))
                            }
                        }, buttonRemove: function (t, e) {
                            var n = this.buttonGet(t);
                            e && n.parent().next().remove(), n.parent().removeClass("redactor_btn_right"), n.remove()
                        }, buttonActiveObserver: function (e, n) {
                            var i = this.getParent();
                            if (this.buttonInactiveAll(n), e === !1 && "html" !== n) return void (-1 != t.inArray(n, this.opts.activeButtons) && this.buttonActiveToggle(n));
                            this.$toolbar.find("a.redactor_dropdown_link").text(i && "A" === i.tagName ? this.opts.curLang.link_edit : this.opts.curLang.link_insert), this.opts.activeButtonsAdd && (t.each(this.opts.activeButtonsAdd, t.proxy(function (t, e) {
                                this.opts.activeButtons.push(e)
                            }, this)), t.extend(this.opts.activeButtonsStates, this.opts.activeButtonsAdd)), t.each(this.opts.activeButtonsStates, t.proxy(function (e, n) {
                                0 != t(i).closest(e, this.$editor.get()[0]).length && this.buttonActive(n)
                            }, this));
                            var o = t(i).closest(this.opts.alignmentTags.toString().toLowerCase(), this.$editor[0]);
                            if (o.length) {
                                var r = o.css("text-align");
                                switch (r) {
                                    case"right":
                                        this.buttonActive("alignright");
                                        break;
                                    case"center":
                                        this.buttonActive("aligncenter");
                                        break;
                                    case"justify":
                                        this.buttonActive("justify");
                                        break;
                                    default:
                                        this.buttonActive("alignleft")
                                }
                            }
                        }, exec: function (t, e, n) {
                            "formatblock" === t && this.browser("msie") && (e = "<" + e + ">"), "inserthtml" === t && this.browser("msie") ? (this.$editor.focus(), this.document.selection.createRange().pasteHTML(e)) : this.document.execCommand(t, !1, e), n !== !1 && this.sync(), this.callback("execCommand", t, e)
                        }, execCommand: function (e, n, i) {
                            if (!this.opts.visual) return this.$source.focus(), !1;
                            if ("inserthtml" === e) return this.insertHtml(n, i), void this.callback("execCommand", e, n);
                            if (this.currentOrParentIs("PRE") && !this.opts.formattingPre) return !1;
                            if ("insertunorderedlist" === e || "insertorderedlist" === e) {
                                this.bufferSet();
                                var o = this.getParent(), r = t(o).closest("ol, ul"), s = !1;
                                if (r.length) {
                                    s = !0;
                                    var a = r[0].tagName;
                                    ("insertunorderedlist" === e && "OL" === a || "insertorderedlist" === e && "UL" === a) && (s = !1)
                                }
                                if (this.selectionSave(), s) {
                                    var l = this.getNodes(), c = this.getBlocks(l);
                                    "undefined" != typeof l[0] && l.length > 1 && 3 == l[0].nodeType && c.unshift(this.getBlock());
                                    var d = "", u = "";
                                    t.each(c, t.proxy(function (e, n) {
                                        if ("LI" == n.tagName) {
                                            var i = t(n), o = i.clone();
                                            o.find("ul", "ol").remove(), d += this.opts.linebreaks === !1 ? this.outerHtml(t("<p>").append(o.contents())) : o.html() + "<br>", 0 == e ? (i.addClass("redactor-replaced").empty(), u = this.outerHtml(i)) : i.remove()
                                        }
                                    }, this)), html = this.$editor.html().replace(u, "</" + a + ">" + d + "<" + a + ">"), this.$editor.html(html), this.$editor.find(a + ":empty").remove()
                                } else {
                                    this.document.execCommand(e);
                                    var o = this.getParent(), r = t(o).closest("ol, ul");
                                    if (r.length) {
                                        (this.browser("msie") || this.browser("mozilla")) && "LI" !== o.tagName && t(o).replaceWith(t(o).html());
                                        var h = r.parent();
                                        this.isParentRedactor(h) && this.nodeTestBlocks(h[0]) && h.replaceWith(h.contents())
                                    }
                                    this.browser("mozilla") && this.$editor.focus()
                                }
                                return this.selectionRestore(), this.sync(), void this.callback("execCommand", e, n)
                            }
                            if ("unlink" === e) {
                                this.bufferSet();
                                var p = this.currentOrParentIs("A");
                                if (p) return t(p).replaceWith(t(p).text()), this.sync(), void this.callback("execCommand", e, n)
                            }
                            this.exec(e, n, i), "inserthorizontalrule" === e && this.$editor.find("hr").removeAttr("id")
                        }, indentingIndent: function () {
                            this.indentingStart("indent")
                        }, indentingOutdent: function () {
                            this.indentingStart("outdent")
                        }, indentingStart: function (e) {
                            if (this.bufferSet(), "indent" === e) {
                                var n = this.getBlock();
                                if (this.selectionSave(), n && "LI" == n.tagName) {
                                    var i = this.getParent(), o = t(i).closest("ol, ul"), r = o[0].tagName,
                                        s = this.getBlocks();
                                    t.each(s, function (e, n) {
                                        if ("LI" == n.tagName) {
                                            var i = t(n).prev();
                                            if (0 != i.size() && "LI" == i[0].tagName) {
                                                var o = i.children("ul, ol");
                                                0 == o.size() ? i.append(t("<" + r + ">").append(n)) : o.append(n)
                                            }
                                        }
                                    })
                                } else if (n === !1 && this.opts.linebreaks === !0) {
                                    this.exec("formatBlock", "blockquote");
                                    var a = this.getBlock(), n = t('<div data-tagblock="">').html(t(a).html());
                                    t(a).replaceWith(n);
                                    var l = this.normalize(t(n).css("margin-left")) + this.opts.indentValue;
                                    t(n).css("margin-left", l + "px")
                                } else {
                                    var c = this.getBlocks();
                                    t.each(c, t.proxy(function (e, n) {
                                        var i = !1;
                                        if ("TD" !== n.tagName) {
                                            i = -1 !== t.inArray(n.tagName, this.opts.alignmentTags) ? t(n) : t(n).closest(this.opts.alignmentTags.toString().toLowerCase(), this.$editor[0]);
                                            var o = this.normalize(i.css("margin-left")) + this.opts.indentValue;
                                            i.css("margin-left", o + "px")
                                        }
                                    }, this))
                                }
                                this.selectionRestore()
                            } else {
                                this.selectionSave();
                                var n = this.getBlock();
                                if (n && "LI" == n.tagName) {
                                    var s = this.getBlocks(), d = 0;
                                    this.insideOutdent(n, d, s)
                                } else {
                                    var c = this.getBlocks();
                                    t.each(c, t.proxy(function (e, n) {
                                        var i = !1;
                                        i = -1 !== t.inArray(n.tagName, this.opts.alignmentTags) ? t(n) : t(n).closest(this.opts.alignmentTags.toString().toLowerCase(), this.$editor[0]);
                                        var o = this.normalize(i.css("margin-left")) - this.opts.indentValue;
                                        0 >= o ? this.opts.linebreaks === !0 && "undefined" != typeof i.data("tagblock") ? i.replaceWith(i.html()) : (i.css("margin-left", ""), this.removeEmptyAttr(i, "style")) : i.css("margin-left", o + "px")
                                    }, this))
                                }
                                this.selectionRestore()
                            }
                        }, insideOutdent: function (e, n, i) {
                            if (e && "LI" == e.tagName) {
                                var o = t(e).parent().parent();
                                0 != o.size() && "LI" == o[0].tagName ? o.after(e) : "undefined" != typeof i[n] ? (e = i[n], n++, this.insideOutdent(e, n, i)) : this.execCommand("insertunorderedlist")
                            }
                        }, cleanEmpty: function (t) {
                            var e = this.placeholderStart(t);
                            return e !== !1 ? e : (this.opts.linebreaks === !1 && ("" === t ? t = this.opts.emptyHtml : -1 !== t.search(/^<hr\s?\/?>$/gi) && (t = "<hr>" + this.opts.emptyHtml)), t)
                        }, cleanConverters: function (t) {
                            return this.opts.convertDivs && (t = t.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi, "<p$1>$2</p>")), this.opts.paragraphy && (t = this.cleanParagraphy(t)), t
                        }, cleanConvertProtected: function (t) {
                            return this.opts.templateVars && (t = t.replace(/\{\{(.*?)\}\}/gi, "<!-- template double $1 -->"), t = t.replace(/\{(.*?)\}/gi, "<!-- template $1 -->")), t = t.replace(/<script(.*?)>([\w\W]*?)<\/script>/gi, '<title type="text/javascript" style="display: none;" class="redactor-script-tag"$1>$2</title>'), t = t.replace(/<style(.*?)>([\w\W]*?)<\/style>/gi, '<section$1 style="display: none;" rel="redactor-style-tag">$2</section>'), t = t.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi, '<section$1 rel="redactor-form-tag">$2</section>'), t = this.opts.phpTags ? t.replace(/<\?php([\w\W]*?)\?>/gi, '<section style="display: none;" rel="redactor-php-tag">$1</section>') : t.replace(/<\?php([\w\W]*?)\?>/gi, "")
                        }, cleanReConvertProtected: function (t) {
                            return this.opts.templateVars && (t = t.replace(/<!-- template double (.*?) -->/gi, "{{$1}}"), t = t.replace(/<!-- template (.*?) -->/gi, "{$1}")), t = t.replace(/<title type="text\/javascript" style="display: none;" class="redactor-script-tag"(.*?)>([\w\W]*?)<\/title>/gi, '<script$1 type="text/javascript">$2</script>'), t = t.replace(/<section(.*?) style="display: none;" rel="redactor-style-tag">([\w\W]*?)<\/section>/gi, "<style$1>$2</style>"), t = t.replace(/<section(.*?)rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi, "<form$1$2>$3</form>"), this.opts.phpTags && (t = t.replace(/<section style="display: none;" rel="redactor-php-tag">([\w\W]*?)<\/section>/gi, "<?php\r\n$1\r\n?>")), t
                        }, cleanRemoveSpaces: function (e, n) {
                            if (n !== !1) {
                                var n = [],
                                    i = e.match(/<(pre|style|script|title)(.*?)>([\w\W]*?)<\/(pre|style|script|title)>/gi);
                                if (null === i && (i = []), this.opts.phpTags) {
                                    var o = e.match(/<\?php([\w\W]*?)\?>/gi);
                                    o && (i = t.merge(i, o))
                                }
                                i && t.each(i, function (t, i) {
                                    e = e.replace(i, "buffer_" + t), n.push(i)
                                })
                            }
                            return e = e.replace(/\n/g, " "), e = e.replace(/[\t]*/g, ""), e = e.replace(/\n\s*\n/g, "\n"), e = e.replace(/^[\s\n]*/g, " "), e = e.replace(/[\s\n]*$/g, " "), e = e.replace(/>\s{2,}</g, "> <"), e = this.cleanReplacer(e, n), e = e.replace(/\n\n/g, "\n")
                        }, cleanReplacer: function (e, n) {
                            return n === !1 ? e : (t.each(n, function (t, n) {
                                e = e.replace("buffer_" + t, n)
                            }), e)
                        }, cleanRemoveEmptyTags: function (t) {
                            t = t.replace(/<span>([\w\W]*?)<\/span>/gi, "$1"), t = t.replace(/[\u200B-\u200D\uFEFF]/g, "");
                            var e = ["<b>\\s*</b>", "<b>&nbsp;</b>", "<em>\\s*</em>"],
                                n = ["<pre></pre>", "<blockquote>\\s*</blockquote>", "<dd></dd>", "<dt></dt>", "<ul></ul>", "<ol></ol>", "<li></li>", "<table></table>", "<tr></tr>", "<span>\\s*<span>", "<span>&nbsp;<span>", "<p>\\s*</p>", "<p></p>", "<p>&nbsp;</p>", "<p>\\s*<br>\\s*</p>", "<div>\\s*</div>", "<div>\\s*<br>\\s*</div>"];
                            n = this.opts.removeEmptyTags ? n.concat(e) : e;
                            for (var i = n.length, o = 0; i > o; ++o) t = t.replace(new RegExp(n[o], "gi"), "");
                            return t
                        }, cleanParagraphy: function (e) {
                            function n(t, n, i) {
                                return e.replace(new RegExp(t, n), i)
                            }

                            if (e = t.trim(e), this.opts.linebreaks === !0) return e;
                            if ("" === e || "<p></p>" === e) return this.opts.emptyHtml;
                            e += "\n";
                            var i = [],
                                o = e.match(/<(table|div|pre|object)(.*?)>([\w\W]*?)<\/(table|div|pre|object)>/gi);
                            null === o && (o = []);
                            var r = e.match(/<!--([\w\W]*?)-->/gi);
                            if (r && (o = t.merge(o, r)), this.opts.phpTags) {
                                var s = e.match(/<section(.*?)rel="redactor-php-tag">([\w\W]*?)<\/section>/gi);
                                s && (o = t.merge(o, s))
                            }
                            o && t.each(o, function (t, n) {
                                i[t] = n, e = e.replace(n, "{replace" + t + "}\n")
                            }), e = e.replace(/<br \/>\s*<br \/>/gi, "\n\n");
                            var a = "(comment|html|body|head|title|meta|style|script|link|iframe|table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|option|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)";
                            e = n("(<" + a + "[^>]*>)", "gi", "\n$1"), e = n("(</" + a + ">)", "gi", "$1\n\n"), e = n("\r\n", "g", "\n"), e = n("\r", "g", "\n"), e = n("/\n\n+/", "g", "\n\n");
                            var l = e.split(new RegExp("\ns*\n", "g"), -1);
                            e = "";
                            for (var c in l) l.hasOwnProperty(c) && (e += -1 == l[c].search("{replace") ? "<p>" + l[c].replace(/^\n+|\n+$/g, "") + "</p>" : l[c]);
                            return -1 !== e.search(/<blockquote/gi) && t.each(e.match(/<blockquote(.*?)>([\w\W]*?)<\/blockquote>/gi), function (t, n) {
                                var i = "";
                                i = n.replace("<p>", ""), i = i.replace("</p>", "<br>"), e = e.replace(n, i)
                            }), e = n("<p>s*</p>", "gi", ""), e = n("<p>([^<]+)</(div|address|form)>", "gi", "<p>$1</p></$2>"), e = n("<p>s*(</?" + a + "[^>]*>)s*</p>", "gi", "$1"), e = n("<p>(<li.+?)</p>", "gi", "$1"), e = n("<p>s*(</?" + a + "[^>]*>)", "gi", "$1"), e = n("(</?" + a + "[^>]*>)s*</p>", "gi", "$1"), e = n("(</?" + a + "[^>]*>)s*<br />", "gi", "$1"), e = n("<br />(s*</?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)", "gi", "$1"), e = n("\n</p>", "gi", "</p>"), e = n("<li><p>", "gi", "<li>"), e = n("</p></li>", "gi", "</li>"), e = n("</li><p>", "gi", "</li>"), e = n("<p>	?\n?<p>", "gi", "<p>"), e = n("</dt><p>", "gi", "</dt>"), e = n("</dd><p>", "gi", "</dd>"), e = n("<br></p></blockquote>", "gi", "</blockquote>"), e = n("<p>	*</p>", "gi", ""), t.each(i, function (t, n) {
                                e = e.replace("{replace" + t + "}", n)
                            }), t.trim(e)
                        }, cleanConvertInlineTags: function (t) {
                            var e = "strong";
                            "b" === this.opts.boldTag && (e = "b");
                            var n = "em";
                            return "i" === this.opts.italicTag && (n = "i"), t = t.replace(/<span style="font-style: italic;">([\w\W]*?)<\/span>/gi, "<" + n + ">$1</" + n + ">"), t = t.replace(/<span style="font-weight: bold;">([\w\W]*?)<\/span>/gi, "<" + e + ">$1</" + e + ">"), t = "strong" === this.opts.boldTag ? t.replace(/<b>([\w\W]*?)<\/b>/gi, "<strong>$1</strong>") : t.replace(/<strong>([\w\W]*?)<\/strong>/gi, "<b>$1</b>"), t = "em" === this.opts.italicTag ? t.replace(/<i>([\w\W]*?)<\/i>/gi, "<em>$1</em>") : t.replace(/<em>([\w\W]*?)<\/em>/gi, "<i>$1</i>"), t = t.replace(/<strike>([\w\W]*?)<\/strike>/gi, "<del>$1</del>"), /<span(.*?)data-redactor="verified"(.*?)>([\w\W]*?)<\/span>/gi.test(t) || (t = t.replace(/<span(.*?)(?!data-redactor="verified")(.*?)>([\w\W]*?)<\/span>/gi, '<span$1 data-redactor="verified"$2>$3</span>')), t
                        }, cleanStripTags: function (e) {
                            if ("" == e || "undefined" == typeof e) return e;
                            var n = !1;
                            this.opts.allowedTags !== !1 && (n = !0);
                            var i = n === !0 ? this.opts.allowedTags : this.opts.deniedTags,
                                o = /<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;
                            return e = e.replace(o, function (e, o) {
                                return n === !0 ? t.inArray(o.toLowerCase(), i) > "-1" ? e : "" : t.inArray(o.toLowerCase(), i) > "-1" ? "" : e
                            }), e = this.cleanConvertInlineTags(e)
                        }, cleanSavePreCode: function (e, n) {
                            var i = e.match(/<(pre|code)(.*?)>([\w\W]*?)<\/(pre|code)>/gi);
                            return null !== i && t.each(i, t.proxy(function (t, i) {
                                var o = i.match(/<(pre|code)(.*?)>([\w\W]*?)<\/(pre|code)>/i);
                                o[3] = o[3].replace(/&nbsp;/g, " "), n !== !1 && (o[3] = this.cleanEncodeEntities(o[3])), e = e.replace(i, "<" + o[1] + o[2] + ">" + o[3] + "</" + o[1] + ">")
                            }, this)), e
                        }, cleanEncodeEntities: function (t) {
                            return t = String(t).replace(/&amp;/g, "&").replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, '"'), String(t).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;")
                        }, cleanUnverified: function () {
                            var e = this.$editor.find("li, img, a, b, strong, sub, sup, i, em, u, small, strike, del, span, cite");
                            e.not('[data-redactor="verified"]').filter('[style*="font-size"][style*="line-height"]').css("font-size", "").css("line-height", ""), e.not('[data-redactor="verified"]').filter('[style*="background-color: transparent;"][style*="line-height"]').css("background-color", "").css("line-height", ""), e.not('[data-redactor="verified"]').filter('[style*="background-color: transparent;"]').css("background-color", ""), e.not('[data-redactor="verified"]').css("line-height", ""), t.each(e, t.proxy(function (t, e) {
                                this.removeEmptyAttr(e, "style")
                            }, this)), this.$editor.find('div[style="text-align: -webkit-auto;"]').contents().unwrap()
                        }, cleanHtml: function (t) {
                            var e = 0, n = t.length, i = 0, o = null, r = null, s = "", a = "", l = "";
                            for (this.cleanlevel = 0; n > e; e++) {
                                if (i = e, -1 == t.substr(e).indexOf("<")) return a += t.substr(e), this.cleanFinish(a);
                                for (; n > i && "<" != t.charAt(i);) i++;
                                for (e != i && (l = t.substr(e, i - e), l.match(/^\s{2,}$/g) || ("\n" == a.charAt(a.length - 1) ? a += this.cleanGetTabs() : "\n" == l.charAt(0) && (a += "\n" + this.cleanGetTabs(), l = l.replace(/^\s+/, "")), a += l), l.match(/\n/) && (a += "\n" + this.cleanGetTabs())), o = i; n > i && ">" != t.charAt(i);) i++;
                                s = t.substr(o, i - o), e = i;
                                var c;
                                if ("!--" == s.substr(1, 3)) {
                                    if (!s.match(/--$/)) {
                                        for (; "-->" != t.substr(i, 3);) i++;
                                        i += 2, s = t.substr(o, i - o), e = i
                                    }
                                    "\n" != a.charAt(a.length - 1) && (a += "\n"), a += this.cleanGetTabs(), a += s + ">\n"
                                } else "!" == s[1] ? a = this.placeTag(s + ">", a) : "?" == s[1] ? a += s + ">\n" : (c = s.match(/^<(script|style|pre)/i)) ? (c[1] = c[1].toLowerCase(), s = this.cleanTag(s), a = this.placeTag(s, a), r = String(t.substr(e + 1)).toLowerCase().indexOf("</" + c[1]), r && (l = t.substr(e + 1, r), e += r, a += l)) : (s = this.cleanTag(s), a = this.placeTag(s, a))
                            }
                            return this.cleanFinish(a)
                        }, cleanGetTabs: function () {
                            for (var t = "", e = 0; e < this.cleanlevel; e++) t += "	";
                            return t
                        }, cleanFinish: function (t) {
                            return t = t.replace(/\n\s*\n/g, "\n"), t = t.replace(/^[\s\n]*/, ""), t = t.replace(/[\s\n]*$/, ""), t = t.replace(/<script(.*?)>\n<\/script>/gi, "<script$1></script>"), this.cleanlevel = 0, t
                        }, cleanTag: function (t) {
                            var e = "";
                            t = t.replace(/\n/g, " "), t = t.replace(/\s{2,}/g, " "), t = t.replace(/^\s+|\s+$/g, " ");
                            var n = "";
                            t.match(/\/$/) && (n = "/", t = t.replace(/\/+$/, ""));
                            for (var i; i = /\s*([^= ]+)(?:=((['"']).*?\3|[^ ]+))?/.exec(t);) i[2] ? e += i[1].toLowerCase() + "=" + i[2] : i[1] && (e += i[1].toLowerCase()), e += " ", t = t.substr(i[0].length);
                            return e.replace(/\s*$/, "") + n + ">"
                        }, placeTag: function (t, e) {
                            var n = t.match(this.cleannewLevel);
                            return (t.match(this.cleanlineBefore) || n) && (e = e.replace(/\s*$/, ""), e += "\n"), n && "/" == t.charAt(1) && this.cleanlevel--, "\n" == e.charAt(e.length - 1) && (e += this.cleanGetTabs()), n && "/" != t.charAt(1) && this.cleanlevel++, e += t, (t.match(this.cleanlineAfter) || t.match(this.cleannewLevel)) && (e = e.replace(/ *$/, ""), e += "\n"), e
                        }, alignmentLeft: function () {
                            this.alignmentSet("", "JustifyLeft")
                        }, alignmentRight: function () {
                            this.alignmentSet("right", "JustifyRight")
                        }, alignmentCenter: function () {
                            this.alignmentSet("center", "JustifyCenter")
                        }, alignmentJustify: function () {
                            this.alignmentSet("justify", "JustifyFull")
                        }, alignmentSet: function (e, n) {
                            if (this.bufferSet(), this.oldIE()) return this.document.execCommand(n, !1, !1), !0;
                            this.selectionSave();
                            var i = this.getBlock();
                            if (!i && this.opts.linebreaks) {
                                this.exec("formatBlock", "blockquote");
                                var o = this.getBlock(), i = t('<div data-tagblock="">').html(t(o).html());
                                t(o).replaceWith(i), t(i).css("text-align", e), this.removeEmptyAttr(i, "style"), "" == e && "undefined" != typeof t(i).data("tagblock") && t(i).replaceWith(t(i).html())
                            } else {
                                var r = this.getBlocks();
                                t.each(r, t.proxy(function (n, i) {
                                    var o = !1;
                                    o = -1 !== t.inArray(i.tagName, this.opts.alignmentTags) ? t(i) : t(i).closest(this.opts.alignmentTags.toString().toLowerCase(), this.$editor[0]), o && (o.css("text-align", e), this.removeEmptyAttr(o, "style"))
                                }, this))
                            }
                            this.selectionRestore(), this.sync()
                        }, formatEmpty: function (e) {
                            var n = t.trim(this.$editor.html());
                            n = n.replace(/<br\s?\/?>/i, "");
                            var i = n.replace(/<p>\s?<\/p>/gi, "");
                            if ("" === n || "" === i) {
                                e.preventDefault();
                                var o = t(this.opts.emptyHtml).get(0);
                                this.$editor.html(o), this.focus()
                            }
                            this.sync()
                        }, formatBlocks: function (e) {
                            this.bufferSet();
                            var n = this.getBlocks();
                            this.selectionSave(), t.each(n, t.proxy(function (t, n) {
                                "LI" !== n.tagName && this.formatBlock(e, n)
                            }, this)), this.selectionRestore(), this.sync()
                        }, formatBlock: function (e, n) {
                            if (n === !1 && (n = this.getBlock()), n === !1) return this.opts.linebreaks === !0 && this.execCommand("formatblock", e), !0;
                            var i = "";
                            if ("pre" !== e ? i = t(n).contents() : (i = t(n).html(), "" === t.trim(i) && (i = '<span id="selection-marker-1"></span>')), "PRE" === n.tagName && (e = "p"), this.opts.linebreaks === !0 && "p" === e) t(n).replaceWith(t("<div>").append(i).html() + "<br>"); else {
                                var o = t("<" + e + ">").append(i);
                                t(n).replaceWith(o)
                            }
                        }, formatChangeTag: function (e, n, i) {
                            i !== !1 && this.selectionSave();
                            var o = t("<" + n + "/>");
                            return t(e).replaceWith(function () {
                                return o.append(t(this).contents())
                            }), i !== !1 && this.selectionRestore(), o
                        }, formatQuote: function () {
                            if (this.bufferSet(), this.opts.linebreaks === !1) {
                                this.selectionSave();
                                var e = this.getBlocks();
                                e && t.each(e, t.proxy(function (t, e) {
                                    "BLOCKQUOTE" === e.tagName ? this.formatBlock("p", e, !1) : "LI" !== e.tagName && this.formatBlock("blockquote", e, !1)
                                }, this)), this.selectionRestore()
                            } else {
                                var n = this.getBlock();
                                if ("BLOCKQUOTE" === n.tagName) this.selectionSave(), t(n).replaceWith(t(n).html() + "<br>"), this.selectionRestore(); else {
                                    var i = this.selectionWrap("blockquote"), o = t(i).html(),
                                        r = ["ul", "ol", "table", "tr", "tbody", "thead", "tfoot", "dl"];
                                    t.each(r, function (t, e) {
                                        o = o.replace(new RegExp("<" + e + "(.*?)>", "gi"), ""), o = o.replace(new RegExp("</" + e + ">", "gi"), "")
                                    });
                                    var s = this.opts.blockLevelElements;
                                    s.push("td"), t.each(s, function (t, e) {
                                        o = o.replace(new RegExp("<" + e + "(.*?)>", "gi"), ""), o = o.replace(new RegExp("</" + e + ">", "gi"), "<br>")
                                    }), t(i).html(o), this.selectionElement(i);
                                    var a = t(i).next();
                                    0 != a.size() && "BR" === a[0].tagName && a.remove()
                                }
                            }
                            this.sync()
                        }, blockRemoveAttr: function (e, n) {
                            var i = this.getBlocks();
                            t(i).removeAttr(e), this.sync()
                        }, blockSetAttr: function (e, n) {
                            var i = this.getBlocks();
                            t(i).attr(e, n), this.sync()
                        }, blockRemoveStyle: function (e) {
                            var n = this.getBlocks();
                            t(n).css(e, ""), this.removeEmptyAttr(n, "style"), this.sync()
                        }, blockSetStyle: function (e, n) {
                            var i = this.getBlocks();
                            t(i).css(e, n), this.sync()
                        }, blockRemoveClass: function (e) {
                            var n = this.getBlocks();
                            t(n).removeClass(e), this.removeEmptyAttr(n, "class"), this.sync()
                        }, blockSetClass: function (e) {
                            var n = this.getBlocks();
                            t(n).addClass(e), this.sync()
                        }, inlineRemoveClass: function (e) {
                            this.selectionSave(), this.inlineEachNodes(function (n) {
                                t(n).removeClass(e), this.removeEmptyAttr(n, "class")
                            }), this.selectionRestore(), this.sync()
                        }, inlineSetClass: function (e) {
                            var n = this.getCurrent();
                            t(n).hasClass(e) || this.inlineMethods("addClass", e)
                        }, inlineRemoveStyle: function (e) {
                            this.selectionSave(), this.inlineEachNodes(function (n) {
                                t(n).css(e, ""), this.removeEmptyAttr(n, "style")
                            }), this.selectionRestore(), this.sync()
                        }, inlineSetStyle: function (t, e) {
                            this.inlineMethods("css", t, e)
                        }, inlineRemoveAttr: function (e) {
                            this.selectionSave();
                            var n = this.getRange(), i = this.getElement(), o = this.getNodes();
                            (n.collapsed || n.startContainer === n.endContainer && i) && (o = t(i)), t(o).removeAttr(e), this.inlineUnwrapSpan(), this.selectionRestore(), this.sync()
                        }, inlineSetAttr: function (t, e) {
                            this.inlineMethods("attr", t, e)
                        }, inlineMethods: function (e, n, i) {
                            this.bufferSet(), this.selectionSave();
                            var o = this.getRange(), r = this.getElement();
                            if (!o.collapsed && o.startContainer !== o.endContainer || !r || this.nodeTestBlocks(r)) {
                                this.document.execCommand("fontSize", !1, 4);
                                var s = this.$editor.find("font");
                                t.each(s, t.proxy(function (t, o) {
                                    this.inlineSetMethods(e, o, n, i)
                                }, this))
                            } else t(r)[e](n, i);
                            this.selectionRestore(), this.sync()
                        }, inlineSetMethods: function (e, n, i, o) {
                            var r, s = t(n).parent();
                            return s && "SPAN" === s[0].tagName && 0 != s[0].attributes.length ? (r = s, t(n).replaceWith(t(n).html())) : (r = t('<span data-redactor="verified" data-redactor-inlineMethods>').append(t(n).contents()), t(n).replaceWith(r)), t(r)[e](i, o), r
                        }, inlineEachNodes: function (e) {
                            var n, i = this.getRange(), o = this.getElement(), r = this.getNodes();
                            (i.collapsed || i.startContainer === i.endContainer && o) && (r = t(o), n = !0), t.each(r, t.proxy(function (i, o) {
                                if (!n && "SPAN" !== o.tagName) {
                                    if ("SPAN" !== o.parentNode.tagName || t(o.parentNode).hasClass("redactor_editor")) return;
                                    o = o.parentNode
                                }
                                e.call(this, o)
                            }, this))
                        }, inlineUnwrapSpan: function () {
                            var e = this.$editor.find("span[data-redactor-inlineMethods]");
                            t.each(e, t.proxy(function (e, n) {
                                var i = t(n);
                                void 0 === i.attr("class") && void 0 === i.attr("style") && i.contents().unwrap()
                            }, this))
                        }, inlineFormat: function (e) {
                            this.selectionSave(), this.document.execCommand("fontSize", !1, 4);
                            var n, i = this.$editor.find("font");
                            t.each(i, function (i, o) {
                                var r = t("<" + e + "/>").append(t(o).contents());
                                t(o).replaceWith(r), n = r
                            }), this.selectionRestore(), this.sync()
                        }, inlineRemoveFormat: function (e) {
                            this.selectionSave();
                            var n = e.toUpperCase(), i = this.getNodes(), o = t(this.getParent()).parent();
                            t.each(i, function (t, e) {
                                e.tagName === n && this.inlineRemoveFormatReplace(e)
                            }), o && o[0].tagName === n && this.inlineRemoveFormatReplace(o), this.selectionRestore(), this.sync()
                        }, inlineRemoveFormatReplace: function (e) {
                            t(e).replaceWith(t(e).contents())
                        }, insertHtml: function (e, n) {
                            var i = this.getCurrent(), o = i.parentNode;
                            this.$editor.focus(), this.bufferSet();
                            var r = t("<div>").append(t.parseHTML(e));
                            e = r.html(), e = this.cleanRemoveEmptyTags(e), r = t("<div>").append(t.parseHTML(e));
                            var s = this.getBlock();
                            if (1 == r.contents().length) {
                                var a = r.contents()[0].tagName;
                                ("P" != a && a == s.tagName || "PRE" == a) && (e = r.text(), r = t("<div>").append(e))
                            }
                            !this.opts.linebreaks && 1 == r.contents().length && 3 == r.contents()[0].nodeType && (this.getRangeSelectedNodes().length > 2 || !i || "BODY" == i.tagName && !o || "HTML" == o.tagName) && (e = "<p>" + e + "</p>"), r.contents().length > 1 && s || r.contents().is("p, :header, ul, ol, div, table, blockquote, pre, address, section, header, footer, aside, article") ? this.browser("msie") ? this.document.selection.createRange().pasteHTML(e) : this.document.execCommand("inserthtml", !1, e) : this.insertHtmlAdvanced(e, !1), this.selectall && this.window.setTimeout(t.proxy(function () {
                                this.opts.linebreaks ? this.focusEnd() : this.selectionEnd(this.$editor.contents().last())
                            }, this), 1), this.observeStart(), n !== !1 && this.sync()
                        }, insertHtmlAdvanced: function (t, e) {
                            var n = this.getSelection();
                            if (n.getRangeAt && n.rangeCount) {
                                var i = n.getRangeAt(0);
                                i.deleteContents();
                                var o = this.document.createElement("div");
                                o.innerHTML = t;
                                for (var r, s, a = this.document.createDocumentFragment(); r = o.firstChild;) s = a.appendChild(r);
                                i.insertNode(a), s && (i = i.cloneRange(), i.setStartAfter(s), i.collapse(!0), n.removeAllRanges(), n.addRange(i))
                            }
                            e !== !1 && this.sync()
                        }, insertText: function (e) {
                            var n = t(t.parseHTML(e));
                            n.length && (e = n.text()), this.$editor.focus(), this.browser("msie") ? this.document.selection.createRange().pasteHTML(e) : this.document.execCommand("inserthtml", !1, e), this.sync()
                        }, insertNode: function (t) {
                            t = t[0] || t;
                            var e = this.getSelection();
                            e.getRangeAt && e.rangeCount && (range = e.getRangeAt(0), range.deleteContents(), range.insertNode(t), range.setEndAfter(t), range.setStartAfter(t), e.removeAllRanges(), e.addRange(range))
                        }, insertNodeToCaretPositionFromPoint: function (t, e) {
                            var n, i = t.clientX, o = t.clientY;
                            if (this.document.caretPositionFromPoint) {
                                var r = this.document.caretPositionFromPoint(i, o);
                                n = this.getRange(), n.setStart(r.offsetNode, r.offset), n.collapse(!0), n.insertNode(e)
                            } else if (this.document.caretRangeFromPoint) n = this.document.caretRangeFromPoint(i, o), n.insertNode(e); else if ("undefined" != typeof document.body.createTextRange) {
                                n = this.document.body.createTextRange(), n.moveToPoint(i, o);
                                var s = n.duplicate();
                                s.moveToPoint(i, o), n.setEndPoint("EndToEnd", s), n.select()
                            }
                        }, insertAfterLastElement: function (e) {
                            if (this.isEndOfElement()) {
                                if (t(t.trim(this.$editor.html())).get(0) != t.trim(e) && this.$editor.contents().last()[0] !== e) return !1;
                                if (this.bufferSet(), this.opts.linebreaks === !1) {
                                    var n = t(this.opts.emptyHtml);
                                    t(e).after(n), this.selectionStart(n)
                                } else {
                                    var n = t('<span id="selection-marker-1">' + this.opts.invisibleSpace + "</span>", this.document)[0];
                                    t(e).after(n), t(n).after(this.opts.invisibleSpace), this.selectionRestore()
                                }
                            }
                        }, insertLineBreak: function () {
                            this.selectionSave(), this.$editor.find("#selection-marker-1").before("<br>" + (this.browser("webkit") ? this.opts.invisibleSpace : "")), this.selectionRestore()
                        }, insertDoubleLineBreak: function () {
                            this.selectionSave(), this.$editor.find("#selection-marker-1").before("<br><br>" + (this.browser("webkit") ? this.opts.invisibleSpace : "")), this.selectionRestore()
                        }, replaceLineBreak: function (e) {
                            var n = t("<br>" + this.opts.invisibleSpace);
                            t(e).replaceWith(n), this.selectionStart(n)
                        }, pasteClean: function (t) {
                            if (t = this.callback("pasteBefore", !1, t), this.opts.pastePlainText) {
                                var e = this.document.createElement("div");
                                return t = t.replace(/<br>|<\/H[1-6]>|<\/p>|<\/div>/gi, "\n"), e.innerHTML = t, t = e.textContent || e.innerText, t = t.replace("\n", "<br>"), t = this.cleanParagraphy(t), this.pasteInsert(t), !1
                            }
                            if (this.currentOrParentIs("PRE")) return t = this.pastePre(t), this.pasteInsert(t), !0;
                            if (t = t.replace(/<p(.*?)class="MsoListParagraphCxSpFirst"([\w\W]*?)<\/p>/gi, "<ul><p$2</p>"), t = t.replace(/<p(.*?)class="MsoListParagraphCxSpLast"([\w\W]*?)<\/p>/gi, "<p$2</p></ul>"), t = t.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi, ""), t = t.replace(/(&nbsp;){2,}/gi, "&nbsp;"), t = t.replace(/&nbsp;/gi, " "), t = t.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi, "$2"), t = t.replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi, "$3"), t = this.cleanStripTags(t), t = t.replace(/<td><\/td>/gi, "[td]"), t = t.replace(/<td>&nbsp;<\/td>/gi, "[td]"), t = t.replace(/<td><br><\/td>/gi, "[td]"), t = t.replace(/<a(.*?)href="(.*?)"(.*?)>([\w\W]*?)<\/a>/gi, '[a href="$2"]$4[/a]'), t = t.replace(/<iframe(.*?)>([\w\W]*?)<\/iframe>/gi, "[iframe$1]$2[/iframe]"), t = t.replace(/<video(.*?)>([\w\W]*?)<\/video>/gi, "[video$1]$2[/video]"), t = t.replace(/<audio(.*?)>([\w\W]*?)<\/audio>/gi, "[audio$1]$2[/audio]"), t = t.replace(/<embed(.*?)>([\w\W]*?)<\/embed>/gi, "[embed$1]$2[/embed]"), t = t.replace(/<object(.*?)>([\w\W]*?)<\/object>/gi, "[object$1]$2[/object]"), t = t.replace(/<param(.*?)>/gi, "[param$1]"), t = t.replace(/<img(.*?)style="(.*?)"(.*?)>/gi, "[img$1$3]"), t = t.replace(/<img(.*?)>/gi, "[img$1]"), t = t.replace(/ class="(.*?)"/gi, ""), t = t.replace(/<(\w+)([\w\W]*?)>/gi, "<$1>"), t = t.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi, ""), t = t.replace(/<div>\s*?\t*?\n*?(<ul>|<ol>|<p>)/gi, "$1"), t = t.replace(/\[td\]/gi, "<td>&nbsp;</td>"), t = t.replace(/\[a href="(.*?)"\]([\w\W]*?)\[\/a\]/gi, '<a href="$1">$2</a>'), t = t.replace(/\[iframe(.*?)\]([\w\W]*?)\[\/iframe\]/gi, "<iframe$1>$2</iframe>"), t = t.replace(/\[video(.*?)\]([\w\W]*?)\[\/video\]/gi, "<video$1>$2</video>"), t = t.replace(/\[audio(.*?)\]([\w\W]*?)\[\/audio\]/gi, "<audio$1>$2</audio>"), t = t.replace(/\[embed(.*?)\]([\w\W]*?)\[\/embed\]/gi, "<embed$1>$2</embed>"), t = t.replace(/\[object(.*?)\]([\w\W]*?)\[\/object\]/gi, "<object$1>$2</object>"), t = t.replace(/\[param(.*?)\]/gi, "<param$1>"), t = t.replace(/\[img(.*?)\]/gi, "<img$1>"), this.opts.convertDivs && (t = t.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi, "<p>$2</p>"), t = t.replace(/<\/div><p>/gi, "<p>"), t = t.replace(/<\/p><\/div>/gi, "</p>")), t = this.currentOrParentIs("LI") ? t.replace(/<p>([\w\W]*?)<\/p>/gi, "$1<br>") : this.cleanParagraphy(t), t = t.replace(/<span(.*?)>([\w\W]*?)<\/span>/gi, "$2"), t = t.replace(/<img>/gi, ""), t = t.replace(/<[^\/>][^>][^img|param|source]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi, ""), t = t.replace(/\n{3,}/gi, "\n"), t = t.replace(/<p><p>/gi, "<p>"), t = t.replace(/<\/p><\/p>/gi, "</p>"), t = t.replace(/<li>(\s*|\t*|\n*)<p>/gi, "<li>"), t = t.replace(/<\/p>(\s*|\t*|\n*)<\/li>/gi, "</li>"), this.opts.linebreaks === !0 && (t = t.replace(/<p(.*?)>([\w\W]*?)<\/p>/gi, "$2<br>")), t = t.replace(/<[^\/>][^>][^img|param|source]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi, ""), t = t.replace(/<img src="webkit-fake-url\:\/\/(.*?)"(.*?)>/gi, ""), this.pasteClipboardMozilla = !1, this.browser("mozilla")) {
                                if (this.opts.clipboardUpload) {
                                    var n = t.match(/<img src="data:image(.*?)"(.*?)>/gi);
                                    if (null !== n) {
                                        this.pasteClipboardMozilla = n;
                                        for (k in n) {
                                            var i = n[k].replace("<img", '<img data-mozilla-paste-image="' + k + '" ');
                                            t = t.replace(n[k], i)
                                        }
                                    }
                                }
                                for (; /<br>$/gi.test(t);) t = t.replace(/<br>$/gi, "")
                            }
                            for (t = t.replace(/<p>•([\w\W]*?)<\/p>/gi, "<li>$1</li>"); /<font>([\w\W]*?)<\/font>/gi.test(t);) t = t.replace(/<font>([\w\W]*?)<\/font>/gi, "$1");
                            this.pasteInsert(t)
                        }, pastePre: function (t) {
                            t = t.replace(/<br>|<\/H[1-6]>|<\/p>|<\/div>/gi, "\n");
                            var e = this.document.createElement("div");
                            return e.innerHTML = t, this.cleanEncodeEntities(e.textContent || e.innerText)
                        }, pasteInsert: function (e) {
                            this.selectall && (this.$editor.html(this.opts.linebreaks ? "" : this.opts.emptyHtml), this.$editor.focus()), e = this.callback("pasteAfter", !1, e), this.insertHtml(e), this.selectall = !1, setTimeout(t.proxy(function () {
                                i = !1, this.browser("mozilla") && this.$editor.find("p:empty").remove(), this.pasteClipboardMozilla !== !1 && this.pasteClipboardUploadMozilla()
                            }, this), 100), this.opts.autoresize ? t(this.document.body).scrollTop(this.saveScroll) : this.$editor.scrollTop(this.saveScroll)
                        }, pasteClipboardUploadMozilla: function () {
                            var e = this.$editor.find("img[data-mozilla-paste-image]");
                            t.each(e, t.proxy(function (e, n) {
                                var i = t(n), o = n.src.split(","), r = o[1], s = o[0].split(";")[0].split(":")[1];
                                t.post(this.opts.clipboardUploadUrl, {contentType: s, data: r}, t.proxy(function (e) {
                                    var n = t.parseJSON(e);
                                    i.attr("src", n.filelink), i.removeAttr("data-mozilla-paste-image"), this.sync(), this.callback("imageUpload", i, n)
                                }, this))
                            }, this))
                        }, pasteClipboardUpload: function (e) {
                            var n = e.target.result, i = n.split(","), o = i[1], r = i[0].split(";")[0].split(":")[1];
                            this.opts.clipboardUpload ? t.post(this.opts.clipboardUploadUrl, {
                                contentType: r,
                                data: o
                            }, t.proxy(function (e) {
                                var n = t.parseJSON(e),
                                    i = '<img src="' + n.filelink + '" id="clipboard-image-marker" />';
                                this.execCommand("inserthtml", i, !1);
                                var o = t(this.$editor.find("img#clipboard-image-marker"));
                                o.length ? o.removeAttr("id") : o = !1, this.sync(), o && this.callback("imageUpload", o, n)
                            }, this)) : this.insertHtml('<img src="' + n + '" />')
                        }, bufferSet: function (t) {
                            void 0 !== t ? this.opts.buffer.push(t) : (this.selectionSave(), this.opts.buffer.push(this.$editor.html()), this.selectionRemoveMarkers("buffer"))
                        }, bufferUndo: function () {
                            return 0 === this.opts.buffer.length ? void this.$editor.focus() : (this.selectionSave(), this.opts.rebuffer.push(this.$editor.html()), this.selectionRestore(!1, !0), this.$editor.html(this.opts.buffer.pop()), this.selectionRestore(), void setTimeout(t.proxy(this.observeStart, this), 100))
                        }, bufferRedo: function () {
                            return 0 === this.opts.rebuffer.length ? (this.$editor.focus(), !1) : (this.selectionSave(), this.opts.buffer.push(this.$editor.html()), this.selectionRestore(!1, !0), this.$editor.html(this.opts.rebuffer.pop()), this.selectionRestore(!0), void setTimeout(t.proxy(this.observeStart, this), 4))
                        }, observeStart: function () {
                            this.observeImages(), this.observeTables(), this.opts.observeLinks && this.observeLinks()
                        }, observeLinks: function () {
                            this.$editor.find("a").on("click", t.proxy(this.linkObserver, this)), this.$editor.on("click.redactor", t.proxy(function (t) {
                                this.linkObserverTooltipClose(t)
                            }, this))
                        }, observeTables: function () {
                            this.$editor.find("table").on("click", t.proxy(this.tableObserver, this))
                        }, observeImages: function () {
                            return this.opts.observeImages === !1 ? !1 : void this.$editor.find("img").each(t.proxy(function (e, n) {
                                this.browser("msie") && t(n).attr("unselectable", "on"), this.imageResize(n)
                            }, this))
                        }, linkObserver: function (e) {
                            var n = t(e.target), i = n.offset();
                            if (this.opts.iframe) {
                                var o = this.$frame.offset();
                                i.top = o.top + (i.top - t(this.document).scrollTop()), i.left += o.left
                            }
                            var r = t('<span class="redactor-link-tooltip"></span>'), s = n.attr("href");
                            s.length > 24 && (s = s.substring(0, 24) + "...");
                            var a = t('<a href="' + n.attr("href") + '" target="_blank">' + s + "</a>").on("click", t.proxy(function (t) {
                                    this.linkObserverTooltipClose(!1)
                                }, this)),
                                l = t('<a href="#">' + this.opts.curLang.edit + "</a>").on("click", t.proxy(function (t) {
                                    t.preventDefault(), this.linkShow(), this.linkObserverTooltipClose(!1)
                                }, this)),
                                c = t('<a href="#">' + this.opts.curLang.unlink + "</a>").on("click", t.proxy(function (t) {
                                    t.preventDefault(), this.execCommand("unlink"), this.linkObserverTooltipClose(!1)
                                }, this));
                            r.append(a), r.append(" | "), r.append(l), r.append(" | "), r.append(c), r.css({
                                top: i.top + 20 + "px",
                                left: i.left + "px"
                            }), t(".redactor-link-tooltip").remove(), t("body").append(r)
                        }, linkObserverTooltipClose: function (e) {
                            return e !== !1 && "A" == e.target.tagName ? !1 : void t(".redactor-link-tooltip").remove()
                        }, getSelection: function () {
                            return this.opts.rangy ? this.opts.iframe ? rangy.getSelection(this.$frame[0]) : rangy.getSelection() : this.document.getSelection()
                        }, getRange: function () {
                            if (this.opts.rangy) return this.opts.iframe ? rangy.createRange(this.iframeDoc()) : rangy.createRange();
                            if (this.document.getSelection) {
                                var t = this.document.getSelection();
                                if (t.getRangeAt && t.rangeCount) return t.getRangeAt(0)
                            }
                            return this.document.createRange()
                        }, selectionElement: function (t) {
                            this.setCaret(t)
                        }, selectionStart: function (t) {
                            this.selectionSet(t[0] || t, 0, null, 0)
                        }, selectionEnd: function (t) {
                            this.selectionSet(t[0] || t, 1, null, 1)
                        }, selectionSet: function (t, e, n, i) {
                            null == n && (n = t), null == i && (i = e);
                            var o = this.getSelection();
                            if (o) {
                                var r = this.getRange();
                                r.setStart(t, e), r.setEnd(n, i);
                                try {
                                    o.removeAllRanges()
                                } catch (s) {
                                }
                                o.addRange(r)
                            }
                        }, selectionWrap: function (t) {
                            t = t.toLowerCase();
                            var e = this.getBlock();
                            if (e) {
                                var n = this.formatChangeTag(e, t);
                                return this.sync(), n
                            }
                            var i = this.getSelection(), o = i.getRangeAt(0), n = document.createElement(t);
                            return n.appendChild(o.extractContents()), o.insertNode(n), this.selectionElement(n), n
                        }, selectionAll: function () {
                            var t = this.getRange();
                            t.selectNodeContents(this.$editor[0]);
                            var e = this.getSelection();
                            e.removeAllRanges(), e.addRange(t)
                        }, selectionRemove: function () {
                            this.getSelection().removeAllRanges()
                        }, getCaretOffset: function (e) {
                            var n = 0, i = this.getRange(), o = i.cloneRange();
                            return o.selectNodeContents(e), o.setEnd(i.endContainer, i.endOffset), n = t.trim(o.toString()).length
                        }, getCaretOffsetRange: function () {
                            return new o(this.getSelection().getRangeAt(0))
                        }, setCaret: function (t, e, n) {
                            "undefined" == typeof n && (n = e), t = t[0] || t;
                            var i = this.getRange();
                            i.selectNodeContents(t);
                            var o, r = this.getTextNodesIn(t), s = !1, a = 0;
                            if (1 == r.length && e) i.setStart(r[0], e), i.setEnd(r[0], n); else for (var l, c = 0; l = r[c++];) {
                                if (o = a + l.length, !s && e >= a && (o > e || e == o && c < r.length) && (i.setStart(l, e - a), s = !0), s && o >= n) {
                                    i.setEnd(l, n - a);
                                    break
                                }
                                a = o
                            }
                            var d = this.getSelection();
                            d.removeAllRanges(), d.addRange(i)
                        }, getTextNodesIn: function (t) {
                            var e = [];
                            if (3 == t.nodeType) e.push(t); else for (var n = t.childNodes, i = 0, o = n.length; o > i; ++i) e.push.apply(e, this.getTextNodesIn(n[i]));

                            return e
                        }, selectionSave: function () {
                            this.isFocused() || this.$editor.focus(), this.opts.rangy ? this.savedSel = rangy.saveSelection() : this.selectionCreateMarker(this.getRange())
                        }, selectionCreateMarker: function (e, n) {
                            if (e) {
                                var i = t('<span id="selection-marker-1" class="redactor-selection-marker">' + this.opts.invisibleSpace + "</span>", this.document)[0],
                                    o = t('<span id="selection-marker-2" class="redactor-selection-marker">' + this.opts.invisibleSpace + "</span>", this.document)[0];
                                e.collapsed === !0 ? this.selectionSetMarker(e, i, !0) : (this.selectionSetMarker(e, i, !0), this.selectionSetMarker(e, o, !1)), this.savedSel = this.$editor.html(), this.selectionRestore(!1, !1)
                            }
                        }, selectionSetMarker: function (t, e, n) {
                            var i = t.cloneRange();
                            i.collapse(n), i.insertNode(e), i.detach()
                        }, selectionRestore: function (t, e) {
                            if (this.opts.rangy) rangy.restoreSelection(this.savedSel); else {
                                t === !0 && this.savedSel && this.$editor.html(this.savedSel);
                                var n = this.$editor.find("span#selection-marker-1"),
                                    i = this.$editor.find("span#selection-marker-2");
                                this.browser("mozilla") ? this.$editor.focus() : this.isFocused() || this.$editor.focus(), 0 != n.length && 0 != i.length ? this.selectionSet(n[0], 0, i[0], 0) : 0 != n.length && this.selectionSet(n[0], 0, null, 0), e !== !1 && (this.selectionRemoveMarkers(), this.savedSel = !1)
                            }
                        }, selectionRemoveMarkers: function (e) {
                            this.opts.rangy ? rangy.removeMarkers(this.savedSel) : t.each(this.$editor.find("span.redactor-selection-marker"), function () {
                                var e = t.trim(t(this).html().replace(/[^\u0000-\u1C7F]/g, ""));
                                "" == e ? t(this).remove() : t(this).removeAttr("class").removeAttr("id")
                            })
                        }, getCurrent: function () {
                            var t = !1, e = this.getSelection();
                            return e.rangeCount > 0 && (t = e.getRangeAt(0).startContainer), this.isParentRedactor(t)
                        }, getParent: function (e) {
                            return e = e || this.getCurrent(), e ? this.isParentRedactor(t(e).parent()[0]) : !1
                        }, getBlock: function (e) {
                            for ("undefined" == typeof e && (e = this.getCurrent()); e;) {
                                if (this.nodeTestBlocks(e)) return t(e).hasClass("redactor_editor") ? !1 : e;
                                e = e.parentNode
                            }
                            return !1
                        }, getBlocks: function (e) {
                            var n = [];
                            if ("undefined" == typeof e) {
                                var i = this.getRange();
                                if (i && i.collapsed === !0) return [this.getBlock()];
                                var e = this.getNodes(i)
                            }
                            return t.each(e, t.proxy(function (e, i) {
                                return this.opts.iframe === !1 && 0 == t(i).parents("div.redactor_editor").size() ? !1 : void (this.nodeTestBlocks(i) && n.push(i))
                            }, this)), 0 === n.length && (n = [this.getBlock()]), n
                        }, nodeTestBlocks: function (t) {
                            return 1 == t.nodeType && this.rTestBlock.test(t.nodeName)
                        }, tagTestBlock: function (t) {
                            return this.rTestBlock.test(t)
                        }, getSelectedNodes: function (t) {
                            if ("undefined" == typeof t || 0 == t) var t = this.getRange();
                            if (t && t.collapsed === !0) return [this.getCurrent()];
                            var e = this.getSelection();
                            try {
                                var n = e.getRangeAt(0).cloneContents()
                            } catch (i) {
                                return !1
                            }
                            var o = this.document.createElement("span");
                            o.appendChild(n), window.selnodes = o.childNodes;
                            for (var r = selnodes.length, s = [], a = 0, l = r; l > a; a++) s.push(selnodes[a]);
                            return 0 == s.length && s.push(this.getCurrent()), s
                        }, getNodes: function (e, n) {
                            if (this.opts.linebreaks) return this.getSelectedNodes(e);
                            if ("undefined" == typeof e || 0 == e) var e = this.getRange();
                            if (e && e.collapsed === !0) {
                                if ("undefined" == typeof n && this.tagTestBlock(n)) {
                                    var i = this.getBlock();
                                    return i.tagName == n ? [i] : []
                                }
                                return [this.getCurrent()]
                            }
                            var o = [], r = [], s = this.document.getSelection();
                            if (s.isCollapsed || (o = this.getRangeSelectedNodes(s.getRangeAt(0))), t.each(o, t.proxy(function (e, i) {
                                return this.opts.iframe === !1 && 0 == t(i).parents("div.redactor_editor").size() ? !1 : void ("undefined" == typeof n ? "" != t.trim(i.textContent) && r.push(i) : i.tagName == n && r.push(i))
                            }, this)), 0 == r.length) {
                                if ("undefined" == typeof n && this.tagTestBlock(n)) {
                                    var i = this.getBlock();
                                    return i.tagName == n ? r.push(i) : []
                                }
                                r.push(this.getCurrent())
                            }
                            return r
                        }, getElement: function (e) {
                            for (e || (e = this.getCurrent()); e;) {
                                if (1 == e.nodeType) return t(e).hasClass("redactor_editor") ? !1 : e;
                                e = e.parentNode
                            }
                            return !1
                        }, getRangeSelectedNodes: function (t) {
                            t = t || this.getRange();
                            var e = t.startContainer, n = t.endContainer;
                            if (e == n) return [e];
                            for (var i = []; e && e != n;) i.push(e = this.nextNode(e));
                            for (e = t.startContainer; e && e != t.commonAncestorContainer;) i.unshift(e), e = e.parentNode;
                            return i
                        }, nextNode: function (t) {
                            if (t.hasChildNodes()) return t.firstChild;
                            for (; t && !t.nextSibling;) t = t.parentNode;
                            return t ? t.nextSibling : null
                        }, getSelectionText: function () {
                            return this.getSelection().toString()
                        }, getSelectionHtml: function () {
                            var t = "", e = this.getSelection();
                            if (e.rangeCount) {
                                for (var n = this.document.createElement("div"), i = e.rangeCount, o = 0; i > o; ++o) n.appendChild(e.getRangeAt(o).cloneContents());
                                t = n.innerHTML
                            }
                            return this.syncClean(t)
                        }, tableShow: function () {
                            this.selectionSave(), this.modalInit(this.opts.curLang.table, this.opts.modal_table, 300, t.proxy(function () {
                                t("#redactor_insert_table_btn").click(t.proxy(this.tableInsert, this)), setTimeout(function () {
                                    t("#redactor_table_rows").focus()
                                }, 200)
                            }, this))
                        }, tableInsert: function () {
                            var e, n, i, o, r = t("#redactor_table_rows").val(), s = t("#redactor_table_columns").val(),
                                a = t("<div></div>"), l = Math.floor(99999 * Math.random()),
                                c = t('<table id="table' + l + '"><tbody></tbody></table>');
                            for (e = 0; r > e; e++) {
                                for (n = t("<tr></tr>"), i = 0; s > i; i++) o = t("<td>" + this.opts.invisibleSpace + "</td>"), 0 === e && 0 === i && o.append('<span id="selection-marker-1">' + this.opts.invisibleSpace + "</span>"), t(n).append(o);
                                c.append(n)
                            }
                            a.append(c);
                            var d = a.html();
                            this.modalClose(), this.selectionRestore();
                            var u = this.getBlock() || this.getCurrent();
                            u && "BODY" != u.tagName ? t(u).after(d) : this.insertHtmlAdvanced(d, !1), this.selectionRestore();
                            var h = this.$editor.find("#table" + l);
                            this.tableObserver(h), this.buttonActiveObserver(), h.find("span#selection-marker-1").remove(), h.removeAttr("id"), this.sync()
                        }, tableObserver: function (e) {
                            this.$table = t(e.target || e).closest("table"), this.$tbody = t(e.target).closest("tbody"), this.$thead = this.$table.find("thead"), this.$current_td = t(e.target || this.$table.find("td").first()), this.$current_tr = t(e.target || this.$table.find("tr").first()).closest("tr")
                        }, tableDeleteTable: function () {
                            this.bufferSet(), this.$table && (this.$table.remove(), this.$table = !1, this.sync())
                        }, tableDeleteRow: function () {
                            if (this.bufferSet(), this.$current_tr) {
                                var t = this.$current_tr.prev().length ? this.$current_tr.prev() : this.$current_tr.next();
                                if (t.length) {
                                    var e = t.children("td").first();
                                    e.length && (e.prepend('<span id="selection-marker-1">' + this.opts.invisibleSpace + "</span>"), this.selectionRestore())
                                }
                                this.$current_tr.remove(), this.sync()
                            }
                        }, tableDeleteColumn: function () {
                            this.bufferSet();
                            var e = this.$current_td.get(0).cellIndex;
                            this.$table.find("tr").each(t.proxy(function (n, i) {
                                var o = 0 > e - 1 ? e + 1 : e - 1;
                                0 === n && (t(i).find("td").eq(o).prepend('<span id="selection-marker-1">' + this.opts.invisibleSpace + "</span>"), this.selectionRestore()), t(i).find("td").eq(e).remove()
                            }, this)), this.sync()
                        }, tableAddHead: function () {
                            if (this.bufferSet(), 0 !== this.$table.find("thead").size()) this.tableDeleteHead(); else {
                                var e = this.$table.find("tr").first().clone();
                                e.find("td").html(this.opts.invisibleSpace), this.$thead = t("<thead></thead>"), this.$thead.append(e), this.$table.prepend(this.$thead), this.sync()
                            }
                        }, tableDeleteHead: function () {
                            this.bufferSet(), t(this.$thead).remove(), this.$thead = !1, this.sync()
                        }, tableAddRowAbove: function () {
                            this.tableAddRow("before")
                        }, tableAddRowBelow: function () {
                            this.tableAddRow("after")
                        }, tableAddColumnLeft: function () {
                            this.tableAddColumn("before")
                        }, tableAddColumnRight: function () {
                            this.tableAddColumn("after")
                        }, tableAddRow: function (t) {
                            this.bufferSet();
                            var e = this.$current_tr.clone();
                            e.find("td").html(this.opts.invisibleSpace), "after" === t ? this.$current_tr.after(e) : this.$current_tr.before(e), this.sync()
                        }, tableAddColumn: function (e) {
                            this.bufferSet();
                            var n = 0;
                            this.$current_tr.find("td").each(t.proxy(function (e, i) {
                                t(i)[0] === this.$current_td[0] && (n = e)
                            }, this)), this.$table.find("tr").each(t.proxy(function (i, o) {
                                var r = t(o).find("td").eq(n), s = r.clone();
                                s.html(this.opts.invisibleSpace), "after" === e ? r.after(s) : r.before(s)
                            }, this)), this.sync()
                        }, videoShow: function () {
                            this.selectionSave(), this.modalInit(this.opts.curLang.video, this.opts.modal_video, 600, t.proxy(function () {
                                t("#redactor_insert_video_btn").click(t.proxy(this.videoInsert, this)), setTimeout(function () {
                                    t("#redactor_insert_video_area").focus()
                                }, 200)
                            }, this))
                        }, videoInsert: function () {
                            var e = t("#redactor_insert_video_area").val();
                            e = this.cleanStripTags(e), this.selectionRestore();
                            var n = this.getBlock() || this.getCurrent();
                            n ? t(n).after(e) : this.insertHtmlAdvanced(e, !1), this.sync(), this.modalClose()
                        }, linkShow: function () {
                            this.selectionSave();
                            var e = t.proxy(function () {
                                this.insert_link_node = !1;
                                var e = this.getSelection(), n = "", i = "", o = "", r = this.getParent(),
                                    s = t(r).parent().get(0);
                                s && "A" === s.tagName && (r = s), r && "A" === r.tagName ? (n = r.href, i = t(r).text(), o = r.target, this.insert_link_node = r) : i = e.toString(), t(".redactor_link_text").val(i);
                                var a = self.location.href.replace(/\/$/i, ""), l = n.replace(a, "");
                                if (this.opts.linkProtocol === !1) {
                                    var c = new RegExp("^(http|ftp|https)://" + self.location.host, "i");
                                    l = l.replace(c, "")
                                }
                                var d = t("#redactor_tabs").find("a");
                                this.opts.linkEmail === !1 && d.eq(1).remove(), this.opts.linkAnchor === !1 && d.eq(2).remove(), this.opts.linkEmail === !1 && this.opts.linkAnchor === !1 ? (t("#redactor_tabs").remove(), t("#redactor_link_url").val(l)) : 0 === n.search("mailto:") ? (this.modalSetTab.call(this, 2), t("#redactor_tab_selected").val(2), t("#redactor_link_mailto").val(n.replace("mailto:", ""))) : 0 === l.search(/^#/gi) ? (this.modalSetTab.call(this, 3), t("#redactor_tab_selected").val(3), t("#redactor_link_anchor").val(l.replace(/^#/gi, ""))) : t("#redactor_link_url").val(l), "_blank" === o && t("#redactor_link_blank").prop("checked", !0), t("#redactor_insert_link_btn").click(t.proxy(this.linkProcess, this)), setTimeout(function () {
                                    t("#redactor_link_url").focus()
                                }, 200)
                            }, this);
                            this.modalInit(this.opts.curLang.link, this.opts.modal_link, 460, e)
                        }, linkProcess: function () {
                            var e = t("#redactor_tab_selected").val(), n = "", i = "", o = "", r = "";
                            if ("1" === e) {
                                n = t("#redactor_link_url").val(), i = t("#redactor_link_url_text").val(), t("#redactor_link_blank").prop("checked") && (o = ' target="_blank"', r = "_blank");
                                var s = "((xn--)?[a-z0-9]+(-[a-z0-9]+)*.)+[a-z]{2,}",
                                    a = new RegExp("^(http|ftp|https)://" + s, "i"), l = new RegExp("^" + s, "i");
                                -1 == n.search(a) && 0 == n.search(l) && this.opts.linkProtocol && (n = this.opts.linkProtocol + n)
                            } else "2" === e ? (n = "mailto:" + t("#redactor_link_mailto").val(), i = t("#redactor_link_mailto_text").val()) : "3" === e && (n = "#" + t("#redactor_link_anchor").val(), i = t("#redactor_link_anchor_text").val());
                            i = i.replace(/<|>/g, ""), this.linkInsert('<a href="' + n + '"' + o + ">" + i + "</a>", t.trim(i), n, r)
                        }, linkInsert: function (e, n, i, o) {
                            this.selectionRestore(), "" !== n && (this.insert_link_node ? (this.bufferSet(), t(this.insert_link_node).text(n).attr("href", i), "" !== o ? t(this.insert_link_node).attr("target", o) : t(this.insert_link_node).removeAttr("target"), this.sync()) : this.exec("inserthtml", e)), this.modalClose()
                        }, fileShow: function () {
                            this.selectionSave();
                            var e = t.proxy(function () {
                                var e = this.getSelection(), n = "";
                                n = this.oldIE() ? e.text : e.toString(), t("#redactor_filename").val(n), this.isMobile() || this.draguploadInit("#redactor_file", {
                                    url: this.opts.fileUpload,
                                    uploadFields: this.opts.uploadFields,
                                    success: t.proxy(this.fileCallback, this),
                                    error: t.proxy(function (t, e) {
                                        this.callback("fileUploadError", e)
                                    }, this)
                                }), this.uploadInit("redactor_file", {
                                    auto: !0,
                                    url: this.opts.fileUpload,
                                    success: t.proxy(this.fileCallback, this),
                                    error: t.proxy(function (t, e) {
                                        this.callback("fileUploadError", e)
                                    }, this)
                                })
                            }, this);
                            this.modalInit(this.opts.curLang.file, this.opts.modal_file, 500, e)
                        }, fileCallback: function (e) {
                            if (this.selectionRestore(), e !== !1) {
                                var n = t("#redactor_filename").val();
                                "" === n && (n = e.filename);
                                var i = '<a href="' + e.filelink + '" id="filelink-marker">' + n + "</a>";
                                this.browser("webkit") && this.window.chrome && (i += "&nbsp;"), this.execCommand("inserthtml", i, !1);
                                var o = t(this.$editor.find("a#filelink-marker"));
                                0 != o.size() ? o.removeAttr("id") : o = !1, this.sync(), this.callback("fileUpload", o, e)
                            }
                            this.modalClose()
                        }, imageShow: function () {
                            this.selectionSave();
                            var e = t.proxy(function () {
                                if (this.opts.imageGetJson ? t.getJSON(this.opts.imageGetJson, t.proxy(function (e) {
                                    var n = {}, i = 0;
                                    t.each(e, t.proxy(function (t, e) {
                                        "undefined" != typeof e.folder && (i++, n[e.folder] = i)
                                    }, this));
                                    var o = !1;
                                    if (t.each(e, t.proxy(function (e, i) {
                                        var r = "";
                                        "undefined" != typeof i.title && (r = i.title);
                                        var s = 0;
                                        t.isEmptyObject(n) || "undefined" == typeof i.folder || (s = n[i.folder], o === !1 && (o = ".redactorfolder" + s));
                                        var a = t('<img src="' + i.thumb + '" class="redactorfolder redactorfolder' + s + '" rel="' + i.image + '" title="' + r + '" />');
                                        t("#redactor_image_box").append(a), t(a).click(t.proxy(this.imageThumbClick, this))
                                    }, this)), !t.isEmptyObject(n)) {
                                        t(".redactorfolder").hide(), t(o).show();
                                        var r = function (e) {
                                            t(".redactorfolder").hide(), t(".redactorfolder" + t(e.target).val()).show()
                                        }, s = t('<select id="redactor_image_box_select">');
                                        t.each(n, function (e, n) {
                                            s.append(t('<option value="' + n + '">' + e + "</option>"))
                                        }), t("#redactor_image_box").before(s), s.change(r)
                                    }
                                }, this)) : t("#redactor_tabs").find("a").eq(1).remove(), this.opts.imageUpload || this.opts.s3) this.isMobile() || this.opts.s3 !== !1 || t("#redactor_file").length && this.draguploadInit("#redactor_file", {
                                    url: this.opts.imageUpload,
                                    uploadFields: this.opts.uploadFields,
                                    success: t.proxy(this.imageCallback, this),
                                    error: t.proxy(function (t, e) {
                                        this.callback("imageUploadError", e)
                                    }, this)
                                }), this.opts.s3 === !1 ? this.uploadInit("redactor_file", {
                                    auto: !0,
                                    url: this.opts.imageUpload,
                                    success: t.proxy(this.imageCallback, this),
                                    error: t.proxy(function (t, e) {
                                        this.callback("imageUploadError", e)
                                    }, this)
                                }) : t("#redactor_file").on("change.redactor", t.proxy(this.s3handleFileSelect, this)); else if (t(".redactor_tab").hide(), this.opts.imageGetJson) {
                                    var e = t("#redactor_tabs").find("a");
                                    e.eq(0).remove(), e.eq(1).addClass("redactor_tabs_act"), t("#redactor_tab2").show()
                                } else t("#redactor_tabs").remove(), t("#redactor_tab3").show();
                                t("#redactor_upload_btn").click(t.proxy(this.imageCallbackLink, this)), this.opts.imageUpload || this.opts.imageGetJson || setTimeout(function () {
                                    t("#redactor_file_link").focus()
                                }, 200)
                            }, this);
                            this.modalInit(this.opts.curLang.image, this.opts.modal_image, 610, e)
                        }, imageEdit: function (e) {
                            var n = e, i = n.parent().parent(), o = t.proxy(function () {
                                t("#redactor_file_alt").val(n.attr("alt")), t("#redactor_image_edit_src").attr("href", n.attr("src")), t("#redactor_form_image_align").val(n.css("float")), "A" === t(i).get(0).tagName && (t("#redactor_file_link").val(t(i).attr("href")), "_blank" == t(i).attr("target") && t("#redactor_link_blank").prop("checked", !0)), t("#redactor_image_delete_btn").click(t.proxy(function () {
                                    this.imageRemove(n)
                                }, this)), t("#redactorSaveBtn").click(t.proxy(function () {
                                    this.imageSave(n)
                                }, this))
                            }, this);
                            this.modalInit(this.opts.curLang.image, this.opts.modal_image_edit, 380, o)
                        }, imageRemove: function (e) {
                            var n = t(e).parent();
                            t(e).remove(), n.length && "P" === n[0].tagName && (this.$editor.focus(), this.selectionStart(n)), this.callback("imageDelete", e), this.modalClose(), this.sync()
                        }, imageSave: function (e) {
                            var n = t(e), i = n.parent();
                            n.attr("alt", t("#redactor_file_alt").val());
                            var o = t("#redactor_form_image_align").val();
                            if ("left" === o) n.css({
                                "float": "left",
                                margin: "0 " + this.opts.imageFloatMargin + " " + this.opts.imageFloatMargin + " 0"
                            }); else if ("right" === o) n.css({
                                "float": "right",
                                margin: "0 0 " + this.opts.imageFloatMargin + " " + this.opts.imageFloatMargin
                            }); else {
                                var r = n.closest("#redactor-image-box");
                                0 != r.size() && r.css({"float": "", margin: ""}), n.css({"float": "", margin: ""})
                            }
                            var s = t.trim(t("#redactor_file_link").val());
                            if ("" !== s) {
                                var a = !1;
                                if (t("#redactor_link_blank").prop("checked") && (a = !0), "A" !== i.get(0).tagName) {
                                    var l = t('<a href="' + s + '">' + this.outerHtml(e) + "</a>");
                                    a && l.attr("target", "_blank"), n.replaceWith(l)
                                } else i.attr("href", s), a ? i.attr("target", "_blank") : i.removeAttr("target")
                            } else "A" === i.get(0).tagName && i.replaceWith(this.outerHtml(e));
                            this.modalClose(), this.observeImages(), this.sync()
                        }, imageResizeHide: function (e) {
                            if (e !== !1 && 0 != t(e.target).parent().size() && "redactor-image-box" === t(e.target).parent()[0].id) return !1;
                            var n = this.$editor.find("#redactor-image-box");
                            if (0 == n.size()) return !1;
                            this.$editor.find("#redactor-image-editter, #redactor-image-resizer").remove();
                            var i = n.css("margin");
                            "0px" != i && (n.find("img").css("margin", i), n.css("margin", "")), n.find("img").css("opacity", ""), n.replaceWith(function () {
                                return t(this).contents()
                            }), t(document).off("click.redactor-image-resize-hide"), this.$editor.off("click.redactor-image-resize-hide"), this.$editor.off("keydown.redactor-image-delete"), this.sync()
                        }, imageResize: function (e) {
                            var n = t(e);
                            n.on("mousedown", t.proxy(function () {
                                this.imageResizeHide(!1)
                            }, this)), n.on("dragstart", t.proxy(function () {
                                this.$editor.on("drop.redactor-image-inside-drop", t.proxy(function () {
                                    setTimeout(t.proxy(function () {
                                        this.observeImages(), this.$editor.off("drop.redactor-image-inside-drop"), this.sync()
                                    }, this), 1)
                                }, this))
                            }, this)), n.on("click", t.proxy(function (e) {
                                if (0 != this.$editor.find("#redactor-image-box").size()) return !1;
                                var i, o, r = n.width() / n.height(), s = 20, a = this.imageResizeControls(n), l = !1;
                                a.on("mousedown", function (t) {
                                    l = !0, t.preventDefault(), r = n.width() / n.height(), i = Math.round(t.pageX - n.eq(0).offset().left), o = Math.round(t.pageY - n.eq(0).offset().top)
                                }), t(this.document.body).on("mousemove", t.proxy(function (t) {
                                    if (l) {
                                        var e = (Math.round(t.pageX - n.eq(0).offset().left) - i, Math.round(t.pageY - n.eq(0).offset().top) - o),
                                            a = n.height(), c = parseInt(a, 10) + e, d = Math.round(c * r);
                                        d > s && (n.width(d), this.imageEditter.css(100 > d ? {
                                            marginTop: "-7px",
                                            marginLeft: "-13px",
                                            fontSize: "9px",
                                            padding: "3px 5px"
                                        } : {
                                            marginTop: "-11px",
                                            marginLeft: "-18px",
                                            fontSize: "11px",
                                            padding: "7px 10px"
                                        })), i = Math.round(t.pageX - n.eq(0).offset().left), o = Math.round(t.pageY - n.eq(0).offset().top), this.sync()
                                    }
                                }, this)).on("mouseup", function () {
                                    l = !1
                                }), this.$editor.on("keydown.redactor-image-delete", t.proxy(function (t) {
                                    var e = t.which;
                                    (this.keyCode.BACKSPACE == e || this.keyCode.DELETE == e) && (this.imageResizeHide(!1), this.imageRemove(n))
                                }, this)), t(document).on("click.redactor-image-resize-hide", t.proxy(this.imageResizeHide, this)), this.$editor.on("click.redactor-image-resize-hide", t.proxy(this.imageResizeHide, this))
                            }, this))
                        }, imageResizeControls: function (e) {
                            var n = t('<span id="redactor-image-box" data-redactor="verified">');
                            n.css({
                                position: "relative",
                                display: "inline-block",
                                lineHeight: 0,
                                outline: "1px dashed rgba(0, 0, 0, .6)",
                                "float": e.css("float")
                            }), n.attr("contenteditable", !1);
                            var i = e.css("margin");
                            "0px" != i && (n.css("margin", i), e.css("margin", "")), e.css("opacity", .5).after(n), this.imageEditter = t('<span id="redactor-image-editter" data-redactor="verified">' + this.opts.curLang.edit + "</span>"), this.imageEditter.css({
                                position: "absolute",
                                zIndex: 2,
                                top: "50%",
                                left: "50%",
                                marginTop: "-11px",
                                marginLeft: "-18px",
                                lineHeight: 1,
                                backgroundColor: "#000",
                                color: "#fff",
                                fontSize: "11px",
                                padding: "7px 10px",
                                cursor: "pointer"
                            }), this.imageEditter.attr("contenteditable", !1), this.imageEditter.on("click", t.proxy(function () {
                                this.imageEdit(e)
                            }, this)), n.append(this.imageEditter);
                            var o = t('<span id="redactor-image-resizer" data-redactor="verified"></span>');
                            return o.css({
                                position: "absolute",
                                zIndex: 2,
                                lineHeight: 1,
                                cursor: "nw-resize",
                                bottom: "-4px",
                                right: "-5px",
                                border: "1px solid #fff",
                                backgroundColor: "#000",
                                width: "8px",
                                height: "8px"
                            }), o.attr("contenteditable", !1), n.append(o), n.append(e), o
                        }, imageThumbClick: function (e) {
                            var n = '<img id="image-marker" src="' + t(e.target).attr("rel") + '" alt="' + t(e.target).attr("title") + '" />';
                            this.opts.paragraphy && (n = "<p>" + n + "</p>"), this.imageInsert(n, !0)
                        }, imageCallbackLink: function () {
                            var e = t("#redactor_file_link").val();
                            if ("" !== e) {
                                var n = '<img id="image-marker" src="' + e + '" />';
                                this.opts.linebreaks === !1 && (n = "<p>" + n + "</p>"), this.imageInsert(n, !0)
                            } else this.modalClose()
                        }, imageCallback: function (t) {
                            this.imageInsert(t)
                        }, imageInsert: function (e, n) {
                            if (this.selectionRestore(), e !== !1) {
                                var i = "";
                                n !== !0 ? (i = '<img id="image-marker" src="' + e.filelink + '" />', this.opts.paragraphy && (i = "<p>" + i + "</p>")) : i = e, this.execCommand("inserthtml", i, !1);
                                var o = t(this.$editor.find("img#image-marker"));
                                o.length ? o.removeAttr("id") : o = !1, this.sync(), n !== !0 && this.callback("imageUpload", o, e)
                            }
                            this.modalClose(), this.observeImages()
                        }, modalTemplatesInit: function () {
                            t.extend(this.opts, {
                                modal_file: String() + '<section><div id="redactor-progress" class="redactor-progress redactor-progress-striped" style="display: none;"><div id="redactor-progress-bar" class="redactor-progress-bar" style="width: 100%;"></div></div><form id="redactorUploadFileForm" method="post" action="" enctype="multipart/form-data"><label>' + this.opts.curLang.filename + '</label><input type="text" id="redactor_filename" class="redactor_input" /><div style="margin-top: 7px;"><input type="file" id="redactor_file" name="file" /></div></form></section>',
                                modal_image_edit: String() + "<section><label>" + this.opts.curLang.title + '</label><input id="redactor_file_alt" class="redactor_input" /><label>' + this.opts.curLang.link + '</label><input id="redactor_file_link" class="redactor_input" /><label><input type="checkbox" id="redactor_link_blank"> ' + this.opts.curLang.link_new_tab + "</label><label>" + this.opts.curLang.image_position + '</label><select id="redactor_form_image_align"><option value="none">' + this.opts.curLang.none + '</option><option value="left">' + this.opts.curLang.left + '</option><option value="right">' + this.opts.curLang.right + '</option></select></section><footer><button id="redactor_image_delete_btn" class="redactor_modal_btn">' + this.opts.curLang._delete + '</button>&nbsp;&nbsp;&nbsp;<button class="redactor_modal_btn redactor_btn_modal_close">' + this.opts.curLang.cancel + '</button><input type="button" name="save" class="redactor_modal_btn" id="redactorSaveBtn" value="' + this.opts.curLang.save + '" /></footer>',
                                modal_image: String() + '<section><div id="redactor_tabs"><a href="#" class="redactor_tabs_act">' + this.opts.curLang.upload + '</a><a href="#">' + this.opts.curLang.choose + '</a><a href="#">' + this.opts.curLang.link + '</a></div><div id="redactor-progress" class="redactor-progress redactor-progress-striped" style="display: none;"><div id="redactor-progress-bar" class="redactor-progress-bar" style="width: 100%;"></div></div><form id="redactorInsertImageForm" method="post" action="" enctype="multipart/form-data"><div id="redactor_tab1" class="redactor_tab"><input type="file" id="redactor_file" name="file" /></div><div id="redactor_tab2" class="redactor_tab" style="display: none;"><div id="redactor_image_box"></div></div></form><div id="redactor_tab3" class="redactor_tab" style="display: none;"><label>' + this.opts.curLang.image_web_link + '</label><input type="text" name="redactor_file_link" id="redactor_file_link" class="redactor_input"  /></div></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">' + this.opts.curLang.cancel + '</button><input type="button" name="upload" class="redactor_modal_btn" id="redactor_upload_btn" value="' + this.opts.curLang.insert + '" /></footer>',
                                modal_link: String() + '<section><form id="redactorInsertLinkForm" method="post" action=""><div id="redactor_tabs"><a href="#" class="redactor_tabs_act">URL</a><a href="#">Email</a><a href="#">' + this.opts.curLang.anchor + '</a></div><input type="hidden" id="redactor_tab_selected" value="1" /><div class="redactor_tab" id="redactor_tab1"><label>URL</label><input type="text" id="redactor_link_url" class="redactor_input"  /><label>' + this.opts.curLang.text + '</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_url_text" /><label><input type="checkbox" id="redactor_link_blank"> ' + this.opts.curLang.link_new_tab + '</label></div><div class="redactor_tab" id="redactor_tab2" style="display: none;"><label>Email</label><input type="text" id="redactor_link_mailto" class="redactor_input" /><label>' + this.opts.curLang.text + '</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_mailto_text" /></div><div class="redactor_tab" id="redactor_tab3" style="display: none;"><label>' + this.opts.curLang.anchor + '</label><input type="text" class="redactor_input" id="redactor_link_anchor"  /><label>' + this.opts.curLang.text + '</label><input type="text" class="redactor_input redactor_link_text" id="redactor_link_anchor_text" /></div></form></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">' + this.opts.curLang.cancel + '</button><input type="button" class="redactor_modal_btn" id="redactor_insert_link_btn" value="' + this.opts.curLang.insert + '" /></footer>',
                                modal_table: String() + "<section><label>" + this.opts.curLang.rows + '</label><input type="text" size="5" value="2" id="redactor_table_rows" /><label>' + this.opts.curLang.columns + '</label><input type="text" size="5" value="3" id="redactor_table_columns" /></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">' + this.opts.curLang.cancel + '</button><input type="button" name="upload" class="redactor_modal_btn" id="redactor_insert_table_btn" value="' + this.opts.curLang.insert + '" /></footer>',
                                modal_video: String() + '<section><form id="redactorInsertVideoForm"><label>' + this.opts.curLang.video_html_code + '</label><textarea id="redactor_insert_video_area" style="width: 99%; height: 160px;"></textarea></form></section><footer><button class="redactor_modal_btn redactor_btn_modal_close">' + this.opts.curLang.cancel + '</button><input type="button" class="redactor_modal_btn" id="redactor_insert_video_btn" value="' + this.opts.curLang.insert + '" /></footer>'
                            })
                        }, modalInit: function (e, n, i, o) {
                            var r = t("#redactor_modal_overlay");
                            r.length || (this.$overlay = r = t('<div id="redactor_modal_overlay" style="display: none;"></div>'), t("body").prepend(this.$overlay)), this.opts.modalOverlay && r.show().on("click", t.proxy(this.modalClose, this));
                            var s = t("#redactor_modal");
                            s.length || (this.$modal = s = t('<div id="redactor_modal" style="display: none;"><div id="redactor_modal_close">&times;</div><header id="redactor_modal_header"></header><div id="redactor_modal_inner"></div></div>'), t("body").append(this.$modal)), t("#redactor_modal_close").on("click", t.proxy(this.modalClose, this)), this.hdlModalClose = t.proxy(function (t) {
                                return t.keyCode === this.keyCode.ESC ? (this.modalClose(), !1) : void 0
                            }, this), t(document).keyup(this.hdlModalClose), this.$editor.keyup(this.hdlModalClose), this.modalcontent = !1, 0 == n.indexOf("#") ? (this.modalcontent = t(n), t("#redactor_modal_inner").empty().append(this.modalcontent.html()), this.modalcontent.html("")) : t("#redactor_modal_inner").empty().append(n), s.find("#redactor_modal_header").html(e), "undefined" != typeof t.fn.draggable && (s.draggable({handle: "#redactor_modal_header"}), s.find("#redactor_modal_header").css("cursor", "move"));
                            var a = t("#redactor_tabs");
                            if (a.length) {
                                var l = this;
                                a.find("a").each(function (e, n) {
                                    e++, t(n).on("click", function (n) {
                                        if (n.preventDefault(), a.find("a").removeClass("redactor_tabs_act"), t(this).addClass("redactor_tabs_act"), t(".redactor_tab").hide(), t("#redactor_tab" + e).show(), t("#redactor_tab_selected").val(e), l.isMobile() === !1) {
                                            var i = s.outerHeight();
                                            s.css("margin-top", "-" + (i + 10) / 2 + "px")
                                        }
                                    })
                                })
                            }
                            s.find(".redactor_btn_modal_close").on("click", t.proxy(this.modalClose, this)), this.opts.autoresize === !0 && (this.saveModalScroll = this.document.body.scrollTop), this.isMobile() === !1 ? (s.css({
                                position: "fixed",
                                top: "-2000px",
                                left: "50%",
                                width: i + "px",
                                marginLeft: "-" + (i + 60) / 2 + "px"
                            }).show(), this.modalSaveBodyOveflow = t(document.body).css("overflow"), t(document.body).css("overflow", "hidden")) : s.css({
                                position: "fixed",
                                width: "100%",
                                height: "100%",
                                top: "0",
                                left: "0",
                                margin: "0",
                                minHeight: "300px"
                            }).show(), "function" == typeof o && o(), this.isMobile() === !1 && setTimeout(function () {
                                var t = s.outerHeight();
                                s.css({
                                    top: "50%",
                                    height: "auto",
                                    minHeight: "auto",
                                    marginTop: "-" + (t + 10) / 2 + "px"
                                })
                            }, 10)
                        }, modalClose: function () {
                            return t("#redactor_modal_close").off("click", this.modalClose), t("#redactor_modal").fadeOut("fast", t.proxy(function () {
                                var e = t("#redactor_modal_inner");
                                this.modalcontent !== !1 && (this.modalcontent.html(e.html()), this.modalcontent = !1), e.html(""), this.opts.modalOverlay && t("#redactor_modal_overlay").hide().off("click", this.modalClose), t(document).unbind("keyup", this.hdlModalClose), this.$editor.unbind("keyup", this.hdlModalClose), this.selectionRestore(), this.opts.autoresize && this.saveModalScroll && t(this.document.body).scrollTop(this.saveModalScroll)
                            }, this)), this.isMobile() === !1 && t(document.body).css("overflow", this.modalSaveBodyOveflow ? this.modalSaveBodyOveflow : "visible"), !1
                        }, modalSetTab: function (e) {
                            t(".redactor_tab").hide(), t("#redactor_tabs").find("a").removeClass("redactor_tabs_act").eq(e - 1).addClass("redactor_tabs_act"), t("#redactor_tab" + e).show()
                        }, s3handleFileSelect: function (t) {
                            for (var e, n = t.target.files, i = 0; e = n[i]; i++) this.s3uploadFile(e)
                        }, s3uploadFile: function (e) {
                            this.s3executeOnSignedUrl(e, t.proxy(function (t) {
                                this.s3uploadToS3(e, t)
                            }, this))
                        }, s3executeOnSignedUrl: function (e, n) {
                            var i = new XMLHttpRequest;
                            i.open("GET", this.opts.s3 + "?name=" + e.name + "&type=" + e.type, !0), i.overrideMimeType("text/plain; charset=x-user-defined"), i.onreadystatechange = function (e) {
                                4 == this.readyState && 200 == this.status ? (t("#redactor-progress").fadeIn(), n(decodeURIComponent(this.responseText))) : 4 == this.readyState && 200 != this.status
                            }, i.send()
                        }, s3createCORSRequest: function (t, e) {
                            var n = new XMLHttpRequest;
                            return "withCredentials" in n ? n.open(t, e, !0) : "undefined" != typeof XDomainRequest ? (n = new XDomainRequest, n.open(t, e)) : n = null, n
                        }, s3uploadToS3: function (e, n) {
                            var i = this.s3createCORSRequest("PUT", n);
                            i && (i.onload = t.proxy(function () {
                                if (200 == i.status) {
                                    t("#redactor-progress").hide();
                                    var e = n.split("?");
                                    if (!e[0]) return !1;
                                    this.selectionRestore();
                                    var o = "";
                                    o = '<img id="image-marker" src="' + e[0] + '" />', this.opts.paragraphy && (o = "<p>" + o + "</p>"), this.execCommand("inserthtml", o, !1);
                                    var r = t(this.$editor.find("img#image-marker"));
                                    r.length ? r.removeAttr("id") : r = !1, this.sync(), this.callback("imageUpload", r, !1), this.modalClose(), this.observeImages()
                                }
                            }, this), i.onerror = function () {
                            }, i.upload.onprogress = function (t) {
                            }, i.setRequestHeader("Content-Type", e.type), i.setRequestHeader("x-amz-acl", "public-read"), i.send(e))
                        }, uploadInit: function (e, n) {
                            this.uploadOptions = {
                                url: !1,
                                success: !1,
                                error: !1,
                                start: !1,
                                trigger: !1,
                                auto: !1,
                                input: !1
                            }, t.extend(this.uploadOptions, n);
                            var i = t("#" + e);
                            i.length && "INPUT" === i[0].tagName ? (this.uploadOptions.input = i, this.el = t(i[0].form)) : this.el = i, this.element_action = this.el.attr("action"), this.uploadOptions.auto ? t(this.uploadOptions.input).change(t.proxy(function (t) {
                                this.el.submit(function (t) {
                                    return !1
                                }), this.uploadSubmit(t)
                            }, this)) : this.uploadOptions.trigger && t("#" + this.uploadOptions.trigger).click(t.proxy(this.uploadSubmit, this))
                        }, uploadSubmit: function (e) {
                            t("#redactor-progress").fadeIn(), this.uploadForm(this.element, this.uploadFrame())
                        }, uploadFrame: function () {
                            this.id = "f" + Math.floor(99999 * Math.random());
                            var e = this.document.createElement("div"),
                                n = '<iframe style="display:none" id="' + this.id + '" name="' + this.id + '"></iframe>';
                            return e.innerHTML = n, t(e).appendTo("body"), this.uploadOptions.start && this.uploadOptions.start(), t("#" + this.id).load(t.proxy(this.uploadLoaded, this)), this.id
                        }, uploadForm: function (e, n) {
                            if (this.uploadOptions.input) {
                                var i = "redactorUploadForm" + this.id, o = "redactorUploadFile" + this.id;
                                this.form = t('<form  action="' + this.uploadOptions.url + '" method="POST" target="' + n + '" name="' + i + '" id="' + i + '" enctype="multipart/form-data" />'), this.opts.uploadFields !== !1 && "object" == typeof this.opts.uploadFields && t.each(this.opts.uploadFields, t.proxy(function (e, n) {
                                    null != n && 0 === n.toString().indexOf("#") && (n = t(n).val());
                                    var i = t("<input/>", {type: "hidden", name: e, value: n});
                                    t(this.form).append(i)
                                }, this));
                                var r = this.uploadOptions.input, s = t(r).clone();
                                t(r).attr("id", o).before(s).appendTo(this.form), t(this.form).css("position", "absolute").css("top", "-2000px").css("left", "-2000px").appendTo("body"), this.form.submit()
                            } else e.attr("target", n).attr("method", "POST").attr("enctype", "multipart/form-data").attr("action", this.uploadOptions.url), this.element.submit()
                        }, uploadLoaded: function () {
                            var e, n = t("#" + this.id)[0];
                            if (e = n.contentDocument ? n.contentDocument : n.contentWindow ? n.contentWindow.document : window.frames[this.id].document, this.uploadOptions.success) if (t("#redactor-progress").hide(), "undefined" != typeof e) {
                                var i = e.body.innerHTML, o = i.match(/\{(.|\n)*\}/)[0];
                                o = o.replace(/^\[/, ""), o = o.replace(/\]$/, "");
                                var r = t.parseJSON(o);
                                "undefined" == typeof r.error ? this.uploadOptions.success(r) : (this.uploadOptions.error(this, r), this.modalClose())
                            } else this.modalClose(), alert("Upload failed!");
                            this.el.attr("action", this.element_action), this.el.attr("target", "")
                        }, draguploadInit: function (e, n) {
                            return this.draguploadOptions = t.extend({
                                url: !1,
                                success: !1,
                                error: !1,
                                preview: !1,
                                uploadFields: !1,
                                text: this.opts.curLang.drop_file_here,
                                atext: this.opts.curLang.or_choose
                            }, n), void 0 === window.FormData ? !1 : (this.droparea = t('<div class="redactor_droparea"></div>'), this.dropareabox = t('<div class="redactor_dropareabox">' + this.draguploadOptions.text + "</div>"), this.dropalternative = t('<div class="redactor_dropalternative">' + this.draguploadOptions.atext + "</div>"), this.droparea.append(this.dropareabox), t(e).before(this.droparea), t(e).before(this.dropalternative), this.dropareabox.on("dragover", t.proxy(function () {
                                return this.draguploadOndrag()
                            }, this)), this.dropareabox.on("dragleave", t.proxy(function () {
                                return this.draguploadOndragleave()
                            }, this)), void (this.dropareabox.get(0).ondrop = t.proxy(function (t) {
                                t.preventDefault(), this.dropareabox.removeClass("hover").addClass("drop"), this.dragUploadAjax(this.draguploadOptions.url, t.dataTransfer.files[0], !1)
                            }, this)))
                        }, dragUploadAjax: function (e, n, i, o, r) {
                            if (!i) {
                                var s = t.ajaxSettings.xhr();
                                s.upload && s.upload.addEventListener("progress", t.proxy(this.uploadProgress, this), !1), t.ajaxSetup({
                                    xhr: function () {
                                        return s
                                    }
                                })
                            }
                            var a = new FormData;
                            a.append("file", n), this.opts.uploadFields !== !1 && "object" == typeof this.opts.uploadFields && t.each(this.opts.uploadFields, t.proxy(function (e, n) {
                                null != n && 0 === n.toString().indexOf("#") && (n = t(n).val()), a.append(e, n)
                            }, this)), t.ajax({
                                url: e,
                                dataType: "html",
                                data: a,
                                cache: !1,
                                contentType: !1,
                                processData: !1,
                                type: "POST",
                                success: t.proxy(function (e) {
                                    e = e.replace(/^\[/, ""), e = e.replace(/\]$/, "");
                                    var n = t.parseJSON(e);
                                    if (i) {
                                        o.fadeOut("slow", function () {
                                            t(this).remove()
                                        });
                                        var s = t("<img>");
                                        s.attr("src", n.filelink).attr("id", "drag-image-marker"), this.insertNodeToCaretPositionFromPoint(r, s[0]);
                                        var a = t(this.$editor.find("img#drag-image-marker"));
                                        a.length ? a.removeAttr("id") : a = !1, this.sync(), this.observeImages(), a && this.callback("imageUpload", a, n), "undefined" != typeof n.error && this.callback("imageUploadError", n)
                                    } else "undefined" == typeof n.error ? this.draguploadOptions.success(n) : (this.draguploadOptions.error(this, n), this.draguploadOptions.success(!1))
                                }, this)
                            })
                        }, draguploadOndrag: function () {
                            return this.dropareabox.addClass("hover"), !1
                        }, draguploadOndragleave: function () {
                            return this.dropareabox.removeClass("hover"), !1
                        }, uploadProgress: function (t, e) {
                            var n = t.loaded ? parseInt(t.loaded / t.total * 100, 10) : t;
                            this.dropareabox.text("Loading " + n + "% " + (e || ""))
                        }, isMobile: function () {
                            return /(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)
                        }, normalize: function (t) {
                            return "undefined" == typeof t ? 0 : parseInt(t.replace("px", ""), 10)
                        }, outerHtml: function (e) {
                            return t("<div>").append(t(e).eq(0).clone()).html()
                        }, isString: function (t) {
                            return "[object String]" == Object.prototype.toString.call(t)
                        }, isEmpty: function (t) {
                            return t = t.replace(/&#x200b;|<br>|<br\/>|&nbsp;/gi, ""), t = t.replace(/\s/g, ""), t = t.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i, ""), "" == t
                        }, browser: function (t) {
                            var e = navigator.userAgent.toLowerCase(),
                                n = /(chrome)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [];
                            return "version" == t ? n[2] : "webkit" == t ? "chrome" == n[1] || "webkit" == n[1] : n[1] == t
                        }, oldIE: function () {
                            return this.browser("msie") && parseInt(this.browser("version"), 10) < 9 ? !0 : !1
                        }, getFragmentHtml: function (t) {
                            var e = t.cloneNode(!0), n = this.document.createElement("div");
                            return n.appendChild(e), n.innerHTML
                        }, extractContent: function () {
                            for (var t, e = this.$editor[0], n = this.document.createDocumentFragment(); t = e.firstChild;) n.appendChild(t);
                            return n
                        }, isParentRedactor: function (e) {
                            return e ? this.opts.iframe ? e : 0 == t(e).parents("div.redactor_editor").length || t(e).hasClass("redactor_editor") ? !1 : e : !1
                        }, currentOrParentIs: function (t) {
                            var e = this.getParent(), n = this.getCurrent();
                            return e && e.tagName === t ? e : n && n.tagName === t ? n : !1
                        }, isEndOfElement: function () {
                            var e = this.getBlock(), n = this.getCaretOffset(e),
                                i = t.trim(t(e).text()).replace(/\n\r\n/g, ""), o = i.length;
                            return n == o ? !0 : !1
                        }, isFocused: function () {
                            var e, n = this.getSelection();
                            return n && n.rangeCount && n.rangeCount > 0 && (e = n.getRangeAt(0).startContainer), e ? this.opts.iframe ? this.getCaretOffsetRange().equals() ? !this.$editor.is(e) : !0 : 0 != t(e).closest("div.redactor_editor").length : !1
                        }, removeEmptyAttr: function (e, n) {
                            "" == t(e).attr(n) && t(e).removeAttr(n)
                        }, removeFromArrayByValue: function (t, e) {
                            for (var n = null; -1 !== (n = t.indexOf(e));) t.splice(n, 1);
                            return t
                        }
                    }, e.prototype.init.prototype = e.prototype, t.Redactor.fn.formatLinkify = function (e, n, i, o) {
                        for (var r = /(^|&lt;|\s)(www\..+?\..+?)(\s|&gt;|$)/g, s = /(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?)(\s|&gt;|$)/g, a = /(https?:\/\/.*\.(?:png|jpg|jpeg|gif))/gi, l = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/, c = /http:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/, d = (this.$editor ? this.$editor.get(0) : this).childNodes, u = d.length; u--;) {
                            var h = d[u];
                            if (3 === h.nodeType) {
                                var p = h.nodeValue;
                                if (o && p) {
                                    var f = '<iframe width="500" height="281" src="',
                                        m = '" frameborder="0" allowfullscreen></iframe>';
                                    p.match(l) ? (p = p.replace(l, f + "//www.youtube.com/embed/$2" + m), t(h).after(p).remove()) : p.match(c) && (p = p.replace(c, f + "//player.vimeo.com/video/$2" + m), t(h).after(p).remove())
                                }
                                if (i && p && p.match(a) && (p = p.replace(a, '<img src="$1">'), t(h).after(p).remove()), n && p && (p.match(r) || p.match(s))) {
                                    var g = p.match(r) || p.match(s);
                                    g = g[0], g.length > 50 && (g = g.substring(0, 50) + "..."), p = p.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(r, '$1<a href="' + e + '$2">' + g + "</a>$3").replace(s, '$1<a href="$2">' + g + "</a>$5"), t(h).after(p).remove()
                                }
                            } else 1 !== h.nodeType || /^(a|button|textarea)$/i.test(h.tagName) || t.Redactor.fn.formatLinkify.call(h, e, n, i, o)
                        }
                    }
                }(jQuery)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/Text/Html/redactor.js", "/node_modules/seaglass/src/Element/IO/Text/Html")
        }, {_process: 6, buffer: 2}],
        35: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-IO-Math{width:auto !important}.SeaGlass-Readonly .SeaGlass-IO-Math .cursor{display:none}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/Text/Math/Math.less", "/node_modules/seaglass/src/Element/IO/Text/Math")
        }, {_process: 6, buffer: 2}],
        36: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../../../SeaGlass"), h = t("../index");
                t("./mathquill"), t("./Math.less"), t("./mathquill.css");
                var p = function () {
                };
                p.prototype = u.util.extend(new h, {
                    type: "SeaGlass-IO-Math", tag: "div", init: function (t) {
                        var e = this;
                        this.noDelete = t.noDelete || !1, this.onBlur = t.onBlur || u.noop, this.onFocus = t.onFocus || u.noop, this.build(t.$wrapper), this.$wrapper.mathquill(t.readonly ? !1 : "editable"), this.$textarea = this.$wrapper.find("textarea").blur(function (t) {
                            e.onBlur(t)
                        }).focus(function (t) {
                            e.doc().readonly ? e.$textarea.blur() : e.onFocus(t)
                        }), u.isMobile && !u.showMobileKeyboard && this.$textarea.attr("readonly", "readonly")
                    }, clean: function () {
                        this.$textarea.unbind("focus blur"), this.$wrapper.mathquill("revert")
                    }, setContents: function (t) {
                        var e = this;
                        return t = t || "", this.$wrapper.mathquill("latex", t), setTimeout(function () {
                            e.$wrapper.mathquill("redraw")
                        }, 0), this.checkForFunctions().checkForComparitors().getVariables(!0), t || this.$wrapper.addClass("empty"), this
                    }, getContents: function () {
                        return this.$wrapper.mathquill("latex") || ""
                    }, getText: function () {
                        return this.$wrapper.text()
                    }, redraw: function () {
                        return this.$wrapper.mathquill("redraw"), this
                    }, latexReplace: function (t, e) {
                        var n = this.$wrapper.find(".cursor").offset(), i = this.getContents(), o = i.replace(t, e);
                        i != o && (this.$wrapper.mathquill("latex", o), this.focusAt(n))
                    }, dump: function () {
                        return {type: this.type, code: this.getContents()}
                    }, load: function (t) {
                        return this.setContents(t.code || ""), this
                    }, getHtml: function (t) {
                        return "<div>" + t.code + "</div>"
                    }, pasteFunction: function (t) {
                        t = t || "";
                        for (var e = t.split("\\"), n = 1; n < e.length; n++) {
                            var i = e[n], o = -1 == ["(", ")", "{", "}", "[", "]", "|", "^", "_", "/"].indexOf(i);
                            o && (i = "\\" + i), this.$wrapper.mathquill("cmd", i)
                        }
                        return this.$wrapper.find("textarea").focus(), this.doc().historyPoint(), this
                    }, paste: function (t) {
                        return t = t || "", this.$wrapper.mathquill("write", t), this.$wrapper.find("textarea").focus(), this.doc().historyPoint(), this
                    }, getCaretPos: function () {
                        var t = {
                            isStart: this.$wrapper.mathquill("isCursorAtStart"),
                            isEnd: this.$wrapper.mathquill("isCursorAtEnd")
                        }, e = this.$wrapper.find(".cursor");
                        if (0 === e.length) t.isTop = !1, t.isBottom = !1; else {
                            t.isTop = e.position().top < 10;
                            var n = e.offset().top - this.$wrapper.offset().top + e.height();
                            t.isBottom = n > this.$wrapper.height() - 14
                        }
                        return t
                    }, isEmpty: function () {
                        return 0 === this.getContents().length
                    }, focusAt: function (t, e) {
                        if (this.focus(), !t) return this;
                        var n = $.Event("mousedown");
                        n.pageX = t.left, n.pageY = t.top;
                        var i = $.Event("mouseup");
                        return i.pageX = t.left, i.pageY = t.top, e = e || $(document.elementFromPoint(t.left, t.top)), e.trigger(n).trigger(i), this
                    }, focusEmpty: function (t) {
                        this.focus();
                        var e = this.$wrapper.find(".empty"), n = $(e[(0 > t ? e.length : 0) + t]);
                        if (0 !== n.length) {
                            var i = n.offset();
                            this.focusAt({left: i.left + 1, top: i.top + 1}, n)
                        }
                    }, setCaretToEnd: function () {
                        this.$wrapper.find("textarea").focus(), this.$wrapper.mathquill("setCursorToEnd")
                    }, setCaretToStart: function () {
                        this.$wrapper.find("textarea").focus(), this.$wrapper.mathquill("setCursorToStart")
                    }, checkForFunctions: function () {
                        var t = this;
                        return this.latexReplace(/([^a-zA-Z_\\]|^)([a-zA-Z][a-zA-Z0-9]*)(\\left\(\\right\)|\^)/g, function (e, n, i, o) {
                            return t.syntax.cmds[i] ? n + "\\" + t.syntax.cmds[i] : t.syntax.funcs[i] ? n + "\\text{" + i + "}" + o : $.LatexCmds[i] ? n + "\\" + i + o : n + i + o
                        }), this
                    }, checkForComparitors: function () {
                        return this.latexReplace(/([<>!]=|\+-|-\+)/g, function (t, e) {
                            return "\\" + {"<=": "le", ">=": "ge", "!=": "ne", "+-": "pm", "-+": "mp"}[e] + " "
                        }), this
                    }, cleanText: function (t) {
                        var e = t.split("/");
                        2 == e.length && (t = "\\frac{" + e[0] + "}{}");
                        var n = t.split("^");
                        2 == n.length && (t = n[0] + "^{}");
                        var i = t.split("_");
                        return 2 == i.length && (t = i[0] + "_{}"), t = t.replace(/\*/g, "\\cdot"), t.match(/\($/) && (t = t.slice(0, -1) + "\\left(\\right)"), t
                    }, getVariables: function (t) {
                        var e = this;
                        return (!this.variables || t) && (this.variables = [], this.latexReplace(/(^|[^a-zA-Z_\\])([a-zA-Z]+)($|[^a-zA-Z0-9_])/g, function (t, n, i, o) {
                            var r = e.syntax.vars[i];
                            return e.variables.push(i), "string" == typeof r ? n + r + o : r ? n + "\\" + i + o : n + i + o
                        })), this.variables
                    }, onKeydown: function (t) {
                        var e = this;
                        -1 == [48, 49, 50, 51, 52, 53, 54, 55, 56, 57].indexOf(t.keyCode) && this.doc().historyPoint(), 32 == t.keyCode ? (t.preventDefault(), this.getVariables(!0)) : 57 == t.keyCode && t.shiftKey ? setTimeout(function () {
                            e.checkForFunctions()
                        }, 0) : -1 == [16, 17, 18, 91].indexOf(t.keyCode) && (t.keyCode < 65 || t.keyCode > 90) && (this.getVariables(!0), (187 == t.keyCode || !t.shiftKey && 189 == t.keyCode) && setTimeout(function () {
                            e.checkForComparitors()
                        }, 0))
                    }, onMouseup: function () {
                        var t = this;
                        this.doc().readonly && setTimeout(function () {
                            t.$textarea.blur()
                        }, 0)
                    }
                }), p.prototype.syntax = {
                    isMath: function (t, e) {
                        return t && t.length > 0 && (/^\s*\-?([a-zA-Z0-9]|[0-9\.])+\s*([=*\/\^+\-]|[\!<>]=)/.test(t) || /^\s*[a-zA-Z]*[\(_]/.test(t) || e && /^\s*([a-zA-Z0-9]|[0-9\.])+[\\][a-zA-Z\[\]\(\)\{\}\|]/.test(t) || e && /^\s*[0-9\.]+([e\!\^\,\:\.]|ans)/.test(t)) && !/[\u3400-\u9FBF]/g.test(t) && !/&[^\s]*;/g.test(t)
                    },
                    vars: {
                        alpha: 1,
                        beta: 1,
                        gamma: 1,
                        delta: 1,
                        epsilon: 1,
                        zeta: 1,
                        eta: 1,
                        theta: 1,
                        iota: 1,
                        kappa: 1,
                        lambda: 1,
                        mu: 1,
                        nu: 1,
                        xi: 1,
                        omicron: 1,
                        pi: 1,
                        rho: 1,
                        sigma: 1,
                        tau: 1,
                        upsilon: 1,
                        phi: 1,
                        chi: 1,
                        psi: 1,
                        omega: 1,
                        Gamma: 1,
                        Delta: 1,
                        Theta: 1,
                        Lambda: 1,
                        Xi: 1,
                        Upsilon: 1,
                        Phi: 1,
                        Psi: 1,
                        Omega: 1,
                        Sigma: 1,
                        Pi: 1,
                        infinity: 1,
                        oo: "\\infinity",
                        mod: 1,
                        aleph: 1,
                        "null": "\\varnothing",
                        therefore: 1
                    },
                    cmds: {
                        sqrt: "sqrt{}",
                        nrt: "nthroot{}{}",
                        nroot: "nthroot{}{}",
                        sum: "sum^{}_{n=}",
                        prod: "prod^{}_{n=}",
                        product: "prod^{}_{n=}",
                        lim: "lim_{x\\to}\\left(\\right)",
                        derivative: "frac{d}{dx}",
                        diff: "frac{d}{dx}"
                    },
                    funcs: {
                        Bessel: 1,
                        Beta: 1,
                        Ei: 1,
                        Piecewise: 1,
                        abs: 1,
                        algdep: 1,
                        all: 1,
                        any: 1,
                        arctan: 1,
                        arctan2: 1,
                        arrangements: 1,
                        assume: 1,
                        assumpptions: 1,
                        bernoulli: 1,
                        bernoulliPolynomial: 1,
                        binomial: 1,
                        binomialCoefficients: 1,
                        bool: 1,
                        callable: 1,
                        catalanNumber: 1,
                        ceil: 1,
                        chr: 1,
                        cmp: 1,
                        coerce: 1,
                        combinations: 1,
                        combine: 1,
                        conjugate: 1,
                        continuant: 1,
                        continuedFractions: 1,
                        convergent: 1,
                        convergents: 1,
                        copy: 1,
                        csc: 1,
                        derangements: 1,
                        dickman: 1,
                        dict: 1,
                        differences: 1,
                        dilog: 1,
                        dir: 1,
                        divisors: 1,
                        divmod: 1,
                        enumerate: 1,
                        erf: 1,
                        eulerGamma: 1,
                        eulerNumber: 1,
                        eulerPhi: 1,
                        expand: 1,
                        expandLog: 1,
                        expandTrig: 1,
                        factor: 1,
                        factorial: 1,
                        fallingFactorial: 1,
                        farey: 1,
                        fibonacci: 1,
                        filter: 1,
                        findMax: 1,
                        findMin: 1,
                        "float": 1,
                        floor: 1,
                        forget: 1,
                        gammaInc: 1,
                        gaussianBinomial: 1,
                        hurwitzZeta: 1,
                        imagPart: 1,
                        "int": 1,
                        integral: 1,
                        inverseLaplace: 1,
                        inverseMod: 1,
                        iter: 1,
                        jacobiSymbol: 1,
                        khinchin: 1,
                        kronecker: 1,
                        laplace: 1,
                        lb: 1,
                        legendreSymbol: 1,
                        len: 1,
                        list: 1,
                        locals: 1,
                        logGamma: 1,
                        logn: 1,
                        "long": 1,
                        map: 1,
                        mean: 1,
                        median: 1,
                        merens: 1,
                        mode: 1,
                        movingAverage: 1,
                        multinomial: 1,
                        multinomialCoeffs: 1,
                        next: 1,
                        nextPrime: 1,
                        nextPrimePower: 1,
                        norm: 1,
                        normalize: 1,
                        nthPrime: 1,
                        num: 1,
                        numberOfDivisors: 1,
                        numericalIntegral: 1,
                        object: 1,
                        oct: 1,
                        oddPart: 1,
                        permutations: 1,
                        polylog: 1,
                        pow: 1,
                        powerMod: 1,
                        previousPrime: 1,
                        previousPrimePower: 1,
                        primeDivisors: 1,
                        primeFactors: 1,
                        primes: 1,
                        primitiveRoot: 1,
                        product: 1,
                        quadraticResidues: 1,
                        radical: 1,
                        rand: 1,
                        randomPrime: 1,
                        range: 1,
                        realPart: 1,
                        reduce: 1,
                        reduceTrig: 1,
                        risingFactorial: 1,
                        roots: 1,
                        round: 1,
                        sec: 1,
                        set: 1,
                        simplify: 1,
                        simplifyExp: 1,
                        simplifyFactorial: 1,
                        simplifyLog: 1,
                        simplifyTrig: 1,
                        solve: 1,
                        sorted: 1,
                        squarefreeDivisors: 1,
                        std: 1,
                        str: 1,
                        subfactorial: 1,
                        taylor: 1,
                        trialDivision: 1,
                        tuple: 1,
                        tuples: 1,
                        twinprime: 1,
                        twoSquares: 1,
                        type: 1,
                        unichr: 1,
                        unicode: 1,
                        unorderedTuples: 1,
                        unsignedInfinity: 1,
                        variance: 1,
                        zetaDriv: 1,
                        zetaSymmetric: 1,
                        zip: 1
                    }
                }, e.exports = u.register("io.Math", p)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/Text/Math/index.js", "/node_modules/seaglass/src/Element/IO/Text/Math")
        }, {
            "../../../../SeaGlass": 51,
            "../index": 39,
            "./Math.less": 35,
            "./mathquill": 38,
            "./mathquill.css": 37,
            _process: 6,
            buffer: 2
        }],
        37: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = '@font-face{font-family:Symbola;src:url(https://d11ms3y3p0fbtv.cloudfront.net/fonts/Symbola7.eot);src:local("Symbola Regular"),local("Symbola"),url(https://d11ms3y3p0fbtv.cloudfront.net/fonts/Symbola7.ttf) format("truetype"),url(https://d11ms3y3p0fbtv.cloudfront.net/fonts/Symbola7.otf) format("opentype"),url(https://d11ms3y3p0fbtv.cloudfront.net/fonts/Symbola7.svg) format("svg")}.mathquill-editable{display:-moz-inline-box;display:inline-block}.mathquill-editable .cursor{border-left:1px solid black;margin-right:-1px;position:relative;z-index:1;padding:0;display:-moz-inline-box;display:inline-block}.mathquill-editable .cursor.blink{visibility:hidden}.mathquill-editable,.mathquill-embedded-latex .mathquill-editable{padding:2px}.mathquill-embedded-latex .mathquill-editable{margin:1px}.mathquill-editable .latex-command-input{color:inherit;font-family:"Courier New",monospace;border:1px solid gray;padding-right:1px;margin-right:1px;margin-left:2px}.mathquill-editable .latex-command-input.empty{background:transparent}.mathquill-editable .latex-command-input.hasCursor{border-color:ActiveBorder}.mathquill-editable.empty:after,.mathquill-textbox:after,.mathquill-rendered-math .empty:after{visibility:hidden;content:\'c\'}.mathquill-editable .cursor:only-child:after,.mathquill-editable .textarea+.cursor:last-child:after{visibility:hidden;content:\'c\'}.mathquill-textbox{overflow-x:auto;overflow-y:hidden}.mathquill-rendered-math{font-variant:normal;font-weight:normal;font-style:normal;line-height:1;display:-moz-inline-box;display:inline-block;word-break:break-all;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:pre-wrap}.mathquill-rendered-math .non-leaf,.mathquill-rendered-math .scaled{display:-moz-inline-box;display:inline-block}.mathquill-rendered-math var,.mathquill-rendered-math .nonSymbola{font-family:"Times New Roman",Symbola,serif;line-height:.9}.mathquill-rendered-math .empty{background:#f7f7f7;-moz-box-shadow:inset 0 0 3px #b4b4b4;-webkit-box-shadow:inset 0 0 3px #b4b4b4;box-shadow:inset 0 0 3px #b4b4b4}.mathquill-rendered-math.empty{background:transparent}.mathquill-rendered-math .font{font:1em "Times New Roman",Symbola,serif}.mathquill-rendered-math b,.mathquill-rendered-math b.font{font-weight:bolder}.mathquill-rendered-math var,.mathquill-rendered-math i,.mathquill-rendered-math i.font{font-syle:italic}.mathquill-rendered-math var.florin{margin:0 -0.1em}.mathquill-rendered-math big{font-size:125%}.mathquill-rendered-math .roman{font-style:normal}.mathquill-rendered-math .sans-serif{font-family:sans-serif,Symbola,serif}.mathquill-rendered-math .monospace{font-family:monospace,Symbola,serif}.mathquill-rendered-math .overline{border-top:1px solid black;margin-top:1px}.mathquill-rendered-math .underline{border-bottom:1px solid black;margin-bottom:1px}.mathquill-rendered-math .binary-operator{padding:0 .2em;display:-moz-inline-box;display:inline-block}.mathquill-rendered-math .unary-operator{padding-left:.2em}.mathquill-rendered-math sup,.mathquill-rendered-math sub{position:relative;font-size:90%}.mathquill-rendered-math sup .binary-operator,.mathquill-rendered-math sub .binary-operator{padding:0 .1em}.mathquill-rendered-math sup .unary-operator,.mathquill-rendered-math sub .unary-operator{padding-left:.1em}.mathquill-rendered-math sup.limit,.mathquill-rendered-math sub.limit,.mathquill-rendered-math sup.nthroot,.mathquill-rendered-math sub.nthroot{font-size:80%}.mathquill-rendered-math sup .fraction,.mathquill-rendered-math sub .fraction{font-size:70%;vertical-align:-0.4em}.mathquill-rendered-math sup .numerator,.mathquill-rendered-math sub .numerator{padding-bottom:0}.mathquill-rendered-math sup .denominator,.mathquill-rendered-math sub .denominator{padding-top:0}.mathquill-rendered-math sup{vertical-align:.5em}.mathquill-rendered-math sup.limit,.mathquill-rendered-math sup.nthroot{vertical-align:.8em}.mathquill-rendered-math sup.nthroot{margin-right:-0.6em;margin-left:.2em;min-width:.5em}.mathquill-rendered-math sub{vertical-align:-0.4em}.mathquill-rendered-math sub.limit{vertical-align:-0.6em}.mathquill-rendered-math .paren{padding:0 .1em;vertical-align:bottom;-webkit-transform-origin:bottom center;-moz-transform-origin:bottom center;-ms-transform-origin:bottom center;-o-transform-origin:bottom center;transform-origin:bottom center}.mathquill-rendered-math .array{vertical-align:middle;text-align:center}.mathquill-rendered-math .array>span{display:block}.mathquill-rendered-math .non-italicized-function{font-family:Symbola,"Times New Roman",serif;line-height:.9;font-style:normal;padding-right:.2em}.mathquill-rendered-math .fraction{font-size:90%;text-align:center;vertical-align:-0.5em;padding:0 .2em}.mathquill-rendered-math .fraction,.mathquill-rendered-math x:-moz-any-link{display:-moz-groupbox}.mathquill-rendered-math .fraction,.mathquill-rendered-math x:-moz-any-link,.mathquill-rendered-math x:default{display:inline-block}.mathquill-rendered-math .numerator,.mathquill-rendered-math .denominator{display:block}.mathquill-rendered-math .numerator{padding:0 .1em;margin-bottom:-0.1em}.mathquill-rendered-math .denominator{border-top:1px solid;float:right;width:100%;padding:.1em .1em 0 .1em;margin-right:-0.1em;margin-left:-0.1em}.mathquill-rendered-math .sqrt-prefix{padding-top:0;position:relative;top:.1em;vertical-align:top;-webkit-transform-origin:top;-moz-transform-origin:top;-ms-transform-origin:top;-o-transform-origin:top;transform-origin:top}.mathquill-rendered-math .sqrt-stem{border-top:1px solid;margin-top:1px;padding-left:.15em;padding-right:.2em;margin-right:.1em}.mathquill-rendered-math,.mathquill-rendered-math .mathquill-editable{cursor:text;font-family:Symbola,"Times New Roman",serif}.mathquill-rendered-math .selection,.mathquill-editable .selection,.mathquill-rendered-math .selection .non-leaf,.mathquill-editable .selection .non-leaf,.mathquill-rendered-math .selection .scaled,.mathquill-editable .selection .scaled{background:#b4d5fe !important;background:Highlight !important;color:HighlightText;border-color:HighlightText}.mathquill-rendered-math .selection .matrixed,.mathquill-editable .selection .matrixed{background:#39f !important}.mathquill-rendered-math .selection .matrixed-container,.mathquill-editable .selection .matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color=\'#3399FF\') !important}.mathquill-rendered-math .selection.blur,.mathquill-editable .selection.blur,.mathquill-rendered-math .selection.blur .non-leaf,.mathquill-editable .selection.blur .non-leaf,.mathquill-rendered-math .selection.blur .scaled,.mathquill-editable .selection.blur .scaled,.mathquill-rendered-math .selection.blur .matrixed,.mathquill-editable .selection.blur .matrixed{background:transparent !important}.mathquill-rendered-math .selection.blur .matrixed-container,.mathquill-editable .selection.blur .matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color=\'#D4D4D4\') !important}.mathquill-editable .textarea,.mathquill-rendered-math .textarea{position:relative;-webkit-user-select:text;-moz-user-select:text;user-select:text}.mathquill-editable .textarea textarea,.mathquill-rendered-math .textarea textarea,.mathquill-editable .selectable,.mathquill-rendered-math .selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text;position:absolute;clip:rect(1em 1em 1em 1em);resize:none}.mathquill-rendered-math .matrixed{background:white;display:-moz-inline-box;display:inline-block}.mathquill-rendered-math .matrixed-container{filter:progid:DXImageTransform.Microsoft.Chroma(color=\'white\');margin-top:-0.1em}';
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/Text/Math/mathquill.css", "/node_modules/seaglass/src/Element/IO/Text/Math")
        }, {_process: 6, buffer: 2}],
        38: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                function c() {
                }

                function d(t) {
                    var e = w.call(arguments, 1);
                    return function () {
                        return t.apply(this, e)
                    }
                }

                function u(t, e, n, i) {
                    function o() {
                        l = p;
                        var t = a.selection ? "$" + a.selection.latex() + "$" : "";
                        m.select(t)
                    }

                    function r() {
                        d.detach()
                    }

                    var s = t.contents().detach();
                    n || t.addClass("mathquill-rendered-math"), e.jQ = t.attr(v, e.id), e.revert = function () {
                        t.empty().unbind(".mathquill").removeClass("mathquill-rendered-math mathquill-editable mathquill-textbox").append(s)
                    };
                    var a = e.cursor = mt(e);
                    e.renderLatex(s.text());
                    var l, d = e.textarea = q('<span class="textarea"><textarea></textarea></span>'), u = d.children();
                    e.selectionChanged = function () {
                        l === p && (l = setTimeout(o)), G(t[0])
                    }, t.bind("selectstart.mathquill", function (t) {
                        t.target !== u[0] && t.preventDefault(), t.stopPropagation()
                    });
                    var h, f = a.blink;
                    if (t.bind("mousedown.mathquill", function (e) {
                        function n(t) {
                            return a.seek(q(t.target), t.pageX, t.pageY), (a[S] !== h[S] || a.parent !== h.parent) && a.selectFrom(h), !1
                        }

                        function o(t) {
                            return delete t.target, n(t)
                        }

                        function r(e) {
                            h = p, a.blink = f, a.selection || (i ? a.show() : d.detach()), t.unbind("mousemove", n), q(e.target.ownerDocument).unbind("mousemove", o).unbind("mouseup", r)
                        }

                        setTimeout(function () {
                            u.focus()
                        }), a.blink = c, a.seek(q(e.target), e.pageX, e.pageY), h = k(a.parent, a[S], a[C]), i || t.prepend(d), t.mousemove(n), q(e.target.ownerDocument).mousemove(o).mouseup(r)
                    }), !i) {
                        var m = E(u, {container: t});
                        return t.bind("cut paste", !1).bind("copy", o).prepend('<span class="selectable">$' + e.latex() + "$</span>"), void u.blur(function () {
                            a.clearSelection(), setTimeout(r)
                        })
                    }
                    var m = E(u, {
                        container: t, key: function (t, e) {
                            a.parent.bubble("onKey", t, e)
                        }, text: function (t) {
                            a.parent.bubble("onText", t)
                        }, cut: function (t) {
                            a.selection && setTimeout(function () {
                                a.prepareEdit(), a.parent.bubble("redraw")
                            }), t.stopPropagation()
                        }, paste: function (t) {
                            t = "$" === t.slice(0, 1) && "$" === t.slice(-1) ? t.slice(1, -1) : "\\text{" + t + "}", a.writeLatex(t).show()
                        }
                    });
                    t.prepend(d), t.addClass("mathquill-editable"), n && t.addClass("mathquill-textbox"), u.focus(function (t) {
                        a.parent || a.insAtRightEnd(e), a.parent.jQ.addClass("hasCursor"), a.selection ? (a.selection.jQ.removeClass("blur"), setTimeout(e.selectionChanged)) : a.show(), t.stopPropagation()
                    }).blur(function (t) {
                        a.hide().parent.blur(), a.selection && a.selection.jQ.addClass("blur"), t.stopPropagation()
                    }), t.bind("focus.mathquill blur.mathquill", function (t) {
                        u.trigger(t)
                    }).blur()
                }

                function h(t, e, n) {
                    return x(it, {ctrlSeq: t, htmlTemplate: "<" + e + " " + n + ">&0</" + e + ">"})
                }

                var p, f, m, g = window.jQuery, b = "data-mathquill-command-id", v = "data-mathquill-block-id",
                    y = Math.min, w = (Math.max, [].slice), x = function (t, e, n) {
                        function i(t) {
                            return "object" == typeof t
                        }

                        function o(t) {
                            return "function" == typeof t
                        }

                        function r() {
                        }

                        function s(a, l) {
                            function c() {
                                var t = new d;
                                return o(t.init) && t.init.apply(t, arguments), t
                            }

                            function d() {
                            }

                            l === n && (l = a, a = Object), c.Bare = d;
                            var u, h = r[t] = a[t], p = d[t] = c[t] = new r;
                            return p.constructor = c, c.mixin = function (e) {
                                return d[t] = c[t] = s(c, e)[t], c
                            }, (c.open = function (t) {
                                if (u = {}, o(t) ? u = t.call(c, p, h, c, a) : i(t) && (u = t), i(u)) for (var n in u) e.call(u, n) && (p[n] = u[n]);
                                return o(p.init) || (p.init = a), c
                            })(l)
                        }

                        return s
                    }("prototype", {}.hasOwnProperty), E = function () {
                        function t(t) {
                            var n, i = t.which || t.keyCode, o = e[i], r = [];
                            return t.ctrlKey && r.push("Ctrl"), t.originalEvent && t.originalEvent.metaKey && r.push("Meta"), t.altKey && r.push("Alt"), t.shiftKey && r.push("Shift"), n = o || String.fromCharCode(i), r.length || o ? (r.push(n), r.join("-")) : n
                        }

                        var e = {
                            8: "Backspace",
                            9: "Tab",
                            10: "Enter",
                            13: "Enter",
                            16: "Shift",
                            17: "Control",
                            18: "Alt",
                            20: "CapsLock",
                            27: "Esc",
                            32: "Spacebar",
                            33: "PageUp",
                            34: "PageDown",
                            35: "End",
                            36: "Home",
                            37: "Left",
                            38: "Up",
                            39: "Right",
                            40: "Down",
                            45: "Insert",
                            46: "Del",
                            144: "NumLock"
                        };
                        return function (e, n) {
                            function i(t) {
                                C = t, clearTimeout(v), v = setTimeout(t)
                            }

                            function o(t) {
                                C(), C = c, clearTimeout(v), A.val(t), t && A[0].select()
                            }

                            function r() {
                                var t = A[0];
                                return "selectionStart" in t ? t.selectionStart !== t.selectionEnd : !1
                            }

                            function s(t) {
                                var e = A.val();
                                A.val(""), e && t(e)
                            }

                            function a() {
                                w(t(m), m)
                            }

                            function l(t) {
                                m = t, b = null, a()
                            }

                            function d(t) {
                                m && b && a(), b = t, i(u)
                            }

                            function u() {
                                r() || s(y)
                            }

                            function h() {
                                m = b = null
                            }

                            function p(t) {
                                A.focus(), i(f)
                            }

                            function f() {
                                s(x)
                            }

                            var m = null, b = null;
                            n || (n = {});
                            var v, y = n.text || c, w = n.key || c, x = n.paste || c, E = n.cut || c, A = g(e),
                                S = g(n.container || A), C = c;
                            return S.bind("keydown keypress input keyup focusout paste", function () {
                                C()
                            }), S.bind({keydown: l, keypress: d, focusout: h, cut: E, paste: p}), {select: o}
                        }
                    }(), A = x(function (t, e, n) {
                        function i(t, e) {
                            throw t = t ? "'" + t + "'" : "EOF", "Parse Error: " + e + " at " + t
                        }

                        t.init = function (t) {
                            this._ = t
                        }, t.parse = function (t) {
                            function e(t, e) {
                                return e
                            }

                            return this.skip(s)._(t, e, i)
                        }, t.or = function (t) {
                            var e = this;
                            return n(function (n, i, o) {
                                function r(e) {
                                    return t._(n, i, o)
                                }

                                return e._(n, i, r)
                            })
                        }, t.then = function (t) {
                            var e = this;
                            return n(function (i, o, r) {
                                function s(e, i) {
                                    var s = t instanceof n ? t : t(i);
                                    return s._(e, o, r)
                                }

                                return e._(i, s, r)
                            })
                        }, t.many = function () {
                            var t = this;
                            return n(function (e, n, i) {
                                function o(t, n) {
                                    return e = t, s.push(n), !0
                                }

                                function r() {
                                    return !1
                                }

                                for (var s = []; t._(e, o, r);) ;
                                return n(e, s)
                            })
                        }, t.times = function (t, e) {
                            arguments.length < 2 && (e = t);
                            var i = this;
                            return n(function (n, o, r) {
                                function s(t, e) {
                                    return d.push(e), n = t, !0
                                }

                                function a(t, e) {
                                    return c = e, n = t, !1
                                }

                                function l(t, e) {
                                    return !1
                                }

                                for (var c, d = [], u = !0, h = 0; t > h; h += 1) if (u = i._(n, s, a), !u) return r(n, c);
                                for (; e > h && u; h += 1) u = i._(n, s, l);
                                return o(n, d)
                            })
                        }, t.result = function (t) {
                            return this.then(r(t))
                        }, t.atMost = function (t) {
                            return this.times(0, t)
                        }, t.atLeast = function (t) {
                            var e = this;
                            return e.times(t).then(function (t) {
                                return e.many().map(function (e) {
                                    return t.concat(e)
                                })
                            })
                        }, t.map = function (t) {
                            return this.then(function (e) {
                                return r(t(e))
                            })
                        }, t.skip = function (t) {
                            return this.then(function (e) {
                                return t.result(e)
                            })
                        };
                        var o = (this.string = function (t) {
                            var e = t.length, i = "expected '" + t + "'";
                            return n(function (n, o, r) {
                                var s = n.slice(0, e);
                                return s === t ? o(n.slice(e), s) : r(n, i)
                            })
                        }, this.regex = function (t) {
                            var e = "expected " + t;
                            return n(function (n, i, o) {
                                var r = t.exec(n);
                                if (r) {
                                    var s = r[0];
                                    return i(n.slice(s.length), s)
                                }
                                return o(n, e)
                            })
                        }), r = n.succeed = function (t) {
                            return n(function (e, n) {
                                return n(e, t)
                            })
                        }, s = (n.fail = function (t) {
                            return n(function (e, n, i) {
                                return i(e, t)
                            })
                        }, n.letter = o(/^[a-z]/i), n.letters = o(/^[a-z]*/i), n.digit = o(/^[0-9]/), n.digits = o(/^[0-9]*/), n.whitespace = o(/^\s+/), n.optWhitespace = o(/^\s*/), n.any = n(function (t, e, n) {
                            return t ? e(t.slice(1), t.charAt(0)) : n(t, "expected any character")
                        }), n.all = n(function (t, e, n) {
                            return e("", t)
                        }), n.eof = n(function (t, e, n) {
                            return t ? n(t, "expected EOF") : e(t, t)
                        }))
                    }), S = -1, C = 1, q = x(g, function (t) {
                        t.insDirOf = function (t, e) {
                            return t === S ? this.insertBefore(e.first()) : this.insertAfter(e.last())
                        }, t.insAtDirEnd = function (t, e) {
                            return t === S ? this.prependTo(e) : this.appendTo(e)
                        }
                    }), k = x(function (t) {
                        t.parent = 0, t[S] = 0, t[C] = 0, t.init = function (t, e, n) {
                            this.parent = t, this[S] = e, this[C] = n
                        }
                    }), R = x(function (t) {
                        t[S] = 0, t[C] = 0, t.parent = 0, t.init = function () {
                            this.endChild = {}, this.endChild[S] = 0, this.endChild[C] = 0
                        }, t.children = function () {
                            return T(this.endChild[S], this.endChild[C])
                        }, t.eachChild = function (t) {
                            return this.children().each(t)
                        }, t.foldChildren = function (t, e) {
                            return this.children().fold(t, e)
                        }, t.adopt = function (t, e, n) {
                            return T(this, this).adopt(t, e, n), this
                        }, t.disown = function () {
                            return T(this, this).disown(), this
                        }
                    }), T = x(function (t) {
                        t.init = function (t, e) {
                            this.end = {}, t && (this.end[S] = t, this.end[C] = e)
                        }, t.adopt = function (t, e, n) {
                            var i = this;
                            i.disowned = !1;
                            var o = i.end[S];
                            if (!o) return this;
                            var r = i.end[C];
                            return e || (t.endChild[S] = o), n ? n[S] = r : t.endChild[C] = r, i.end[C][C] = n, i.each(function (n) {
                                n[S] = e, n.parent = t, e && (e[C] = n), e = n
                            }), i
                        }, t.disown = function () {
                            var t = this, e = t.end[S];
                            if (!e || t.disowned) return t;
                            t.disowned = !0;
                            var n = t.end[C], i = e.parent;
                            return e[S] ? e[S][C] = n[C] : i.endChild[S] = n[C], n[C] ? n[C][S] = e[S] : i.endChild[C] = e[S], t
                        }, t.each = function (t) {
                            var e = this, n = e.end[S];
                            if (!n) return e;
                            for (; n !== e.end[C][C] && t.call(e, n) !== !1; n = n[C]) ;
                            return e
                        }, t.fold = function (t, e) {
                            return this.each(function (n) {
                                t = e.call(this, t, n)
                            }), t
                        }
                    }), _ = function () {
                        var t = 0;
                        return function () {
                            return t += 1
                        }
                    }(), I = x(R, function (t, e) {
                        t.init = function (t) {
                            e.init.call(this), this.id = _(), I[this.id] = this
                        }, t.toString = function () {
                            return "[MathElement " + this.id + "]"
                        }, t.bubble = function (t) {
                            for (var e = w.call(arguments, 1), n = this; n; n = n.parent) {
                                var i = n[t] && n[t].apply(n, e);
                                if (i === !1) break
                            }
                            return this
                        }, t.postOrder = function (t) {
                            var e = w.call(arguments, 1);
                            if ("string" == typeof t) {
                                var n = t;
                                t = function (t) {
                                    n in t && t[n].apply(t, e)
                                }
                            }
                            !function i(e) {
                                e.eachChild(i), t(e)
                            }(this)
                        }, t.jQ = q(), t.jQadd = function (t) {
                            this.jQ = this.jQ.add(t)
                        }, this.jQize = function (t) {
                            var e = q(t);
                            return e.find("*").andSelf().each(function () {
                                var t = q(this), e = t.attr("data-mathquill-command-id"),
                                    n = t.attr("data-mathquill-block-id");
                                e && I[e].jQadd(t), n && I[n].jQadd(t)
                            }), e
                        }, t.finalizeInsert = function () {
                            var t = this;
                            t.postOrder("finalizeTree"), t.postOrder("blur"), t.postOrder("respace"), t[C].respace && t[C].respace(), t[S].respace && t[S].respace(), t.postOrder("redraw"), t.bubble("redraw")
                        }
                    }), D = x(I, function (t, e) {
                        t.init = function (t, n, i) {
                            var o = this;
                            e.init.call(o), o.ctrlSeq || (o.ctrlSeq = t), n && (o.htmlTemplate = n), i && (o.textTemplate = i)
                        }, t.replaces = function (t) {
                            t.disown(), this.replacedFragment = t
                        }, t.isEmpty = function () {
                            return this.foldChildren(!0, function (t, e) {
                                return t && e.isEmpty()
                            })
                        }, t.parser = function () {
                            var t = ft.block, e = this;
                            return t.times(e.numBlocks()).map(function (t) {
                                e.blocks = t;
                                for (var n = 0; n < t.length; n += 1) t[n].adopt(e, e.endChild[C], 0);
                                return e
                            })
                        }, t.createLeftOf = function (t) {
                            var e = this, n = e.replacedFragment;
                            e.createBlocks(), I.jQize(e.html()), n && (n.adopt(e.endChild[S], 0, 0), n.jQ.appendTo(e.endChild[S].jQ)), t.jQ.before(e.jQ), t[S] = e.adopt(t.parent, t[S], t[C]), e.finalizeInsert(t), e.placeCursor(t)
                        }, t.createBlocks = function () {
                            for (var t = this, e = t.numBlocks(), n = t.blocks = Array(e), i = 0; e > i; i += 1) {
                                var o = n[i] = B();
                                o.adopt(t, t.endChild[C], 0)
                            }
                        }, t.respace = c, t.placeCursor = function (t) {
                            t.insAtRightEnd(this.foldChildren(this.endChild[S], function (t, e) {
                                return t.isEmpty() ? t : e
                            }))
                        }, t.remove = function () {
                            return this.disown(), this.jQ.remove(),
                                this.postOrder(function (t) {
                                    delete I[t.id]
                                }), this
                        }, t.numBlocks = function () {
                            var t = this.htmlTemplate.match(/&\d+/g);
                            return t ? t.length : 0
                        }, t.html = function () {
                            for (var t = this, e = t.blocks, n = " data-mathquill-command-id=" + t.id, i = t.htmlTemplate.match(/<[^<>]+>|[^<>]+/g), o = 0, r = i[0]; r; o += 1, r = i[o]) if ("/>" === r.slice(-2)) i[o] = r.slice(0, -2) + n + "/>"; else if ("<" === r.charAt(0)) {
                                i[o] = r.slice(0, -1) + n + ">";
                                var s = 1;
                                do o += 1, r = i[o], "</" === r.slice(0, 2) ? s -= 1 : "<" === r.charAt(0) && "/>" !== r.slice(-2) && (s += 1); while (s > 0)
                            }
                            return i.join("").replace(/>&(\d+)/g, function (t, n) {
                                return " data-mathquill-block-id=" + e[n].id + ">" + e[n].join("html")
                            })
                        }, t.latex = function () {
                            return this.foldChildren(this.ctrlSeq, function (t, e) {
                                return t + "{" + (e.latex() || " ") + "}"
                            })
                        }, t.textTemplate = [""], t.text = function () {
                            var t = 0;
                            return this.foldChildren(this.textTemplate[t], function (e, n) {
                                t += 1;
                                var i = n.text();
                                return e && "(" === this.textTemplate[t] && "(" === i[0] && ")" === i.slice(-1) ? e + i.slice(1, -1) + this.textTemplate[t] : e + n.text() + (this.textTemplate[t] || "")
                            })
                        }
                    }), O = x(D, function (t, e) {
                        t.init = function (t, n, i) {
                            i || (i = t && t.length > 1 ? t.slice(1) : t), e.init.call(this, t, n, [i])
                        }, t.parser = function () {
                            return A.succeed(this)
                        }, t.numBlocks = function () {
                            return 0
                        }, t.replaces = function (t) {
                            t.remove()
                        }, t.createBlocks = c, t.latex = function () {
                            return this.ctrlSeq
                        }, t.text = function () {
                            return this.textTemplate
                        }, t.placeCursor = c, t.isEmpty = function () {
                            return !0
                        }
                    }), B = x(I, function (t) {
                        t.join = function (t) {
                            return this.foldChildren("", function (e, n) {
                                return e + n[t]()
                            })
                        }, t.latex = function () {
                            return this.join("latex")
                        }, t.text = function () {
                            return this.endChild[S] === this.endChild[C] ? this.endChild[S].text() : "(" + this.join("text") + ")"
                        }, t.isEmpty = function () {
                            return 0 === this.endChild[S] && 0 === this.endChild[C]
                        }, t.write = function (t, e, n) {
                            var i;
                            i = e.match(/^[a-eg-zA-Z]$/) ? st(e) : (i = M[e] || P[e]) ? i(e) : at(e), n && i.replaces(n), i.createLeftOf(t)
                        }, t.focus = function () {
                            return this.jQ.addClass("hasCursor"), this.jQ.removeClass("empty"), this
                        }, t.blur = function () {
                            return this.jQ.removeClass("hasCursor"), this.isEmpty() && this.jQ.addClass("empty"), this
                        }
                    }), N = x(T, function (t, e) {
                        t.init = function (t, n) {
                            e.init.call(this, t, n || t), this.jQ = this.fold(q(), function (t, e) {
                                return e.jQ.add(t)
                            })
                        }, t.latex = function () {
                            return this.fold("", function (t, e) {
                                return t + e.latex()
                            })
                        }, t.remove = function () {
                            return this.jQ.remove(), this.each(function (t) {
                                t.postOrder(function (t) {
                                    delete I[t.id]
                                })
                            }), this.disown()
                        }
                    }), L = x(B, function (t, e) {
                        t.latex = function () {
                            return e.latex.call(this).replace(/(\\[a-z]+) (?![a-z])/gi, "$1")
                        }, t.text = function () {
                            return this.foldChildren("", function (t, e) {
                                return t + e.text()
                            })
                        }, t.renderLatex = function (t) {
                            var e = this.jQ;
                            e.children().slice(1).remove(), this.endChild[S] = this.endChild[C] = 0, this.cursor.insAtRightEnd(this).writeLatex(t)
                        }, t.onKey = function (t, e) {
                            switch (t) {
                                case"Ctrl-Shift-Backspace":
                                case"Ctrl-Backspace":
                                    for (; this.cursor[S] || this.cursor.selection;) this.cursor.backspace();
                                    break;
                                case"Shift-Backspace":
                                case"Backspace":
                                    this.cursor.backspace();
                                    break;
                                case"Esc":
                                case"Tab":
                                case"Spacebar":
                                    var n = this.cursor.parent;
                                    if (n === this.cursor.root) return void ("Spacebar" === t && e.preventDefault());
                                    this.cursor.prepareMove(), n[C] ? this.cursor.insAtLeftEnd(n[C]) : this.cursor.insRightOf(n.parent);
                                    break;
                                case"Shift-Tab":
                                case"Shift-Esc":
                                case"Shift-Spacebar":
                                    var n = this.cursor.parent;
                                    if (n === this.cursor.root) return void ("Shift-Spacebar" === t && e.preventDefault());
                                    this.cursor.prepareMove(), n[S] ? this.cursor.insAtRightEnd(n[S]) : this.cursor.insLeftOf(n.parent);
                                    break;
                                case"Enter":
                                    break;
                                case"Shift-Enter":
                                    break;
                                case"End":
                                    this.cursor.prepareMove().insAtRightEnd(this.cursor.parent);
                                    break;
                                case"Ctrl-End":
                                    this.cursor.prepareMove().insAtRightEnd(this);
                                    break;
                                case"Shift-End":
                                    for (; this.cursor[C];) this.cursor.selectRight();
                                    break;
                                case"Ctrl-Shift-End":
                                    for (; this.cursor[C] || this.cursor.parent !== this;) this.cursor.selectRight();
                                    break;
                                case"Home":
                                    this.cursor.prepareMove().insAtLeftEnd(this.cursor.parent);
                                    break;
                                case"Ctrl-Home":
                                    this.cursor.prepareMove().insAtLeftEnd(this);
                                    break;
                                case"Shift-Home":
                                    for (; this.cursor[S];) this.cursor.selectLeft();
                                    break;
                                case"Ctrl-Shift-Home":
                                    for (; this.cursor[S] || this.cursor.parent !== this;) this.cursor.selectLeft();
                                    break;
                                case"Left":
                                    this.cursor.moveLeft();
                                    break;
                                case"Shift-Left":
                                    this.cursor.selectLeft();
                                    break;
                                case"Ctrl-Left":
                                    break;
                                case"Right":
                                    this.cursor.moveRight();
                                    break;
                                case"Shift-Right":
                                    this.cursor.selectRight();
                                    break;
                                case"Ctrl-Right":
                                    break;
                                case"Up":
                                    this.cursor.moveUp();
                                    break;
                                case"Down":
                                    this.cursor.moveDown();
                                    break;
                                case"Shift-Up":
                                    if (this.cursor[S]) for (; this.cursor[S];) this.cursor.selectLeft(); else this.cursor.selectLeft();
                                case"Shift-Down":
                                    if (this.cursor[C]) for (; this.cursor[C];) this.cursor.selectRight(); else this.cursor.selectRight();
                                case"Ctrl-Up":
                                    break;
                                case"Ctrl-Down":
                                    break;
                                case"Ctrl-Shift-Del":
                                case"Ctrl-Del":
                                    for (; this.cursor[C] || this.cursor.selection;) this.cursor.deleteForward();
                                    break;
                                case"Shift-Del":
                                case"Del":
                                    this.cursor.deleteForward();
                                    break;
                                case"Meta-A":
                                case"Ctrl-A":
                                    if (this !== this.cursor.root) return;
                                    for (this.cursor.prepareMove().insAtRightEnd(this); this.cursor[S];) this.cursor.selectLeft();
                                    break;
                                default:
                                    return !1
                            }
                            return e.preventDefault(), !1
                        }, t.onText = function (t) {
                            return this.cursor.write(t), !1
                        }
                    }), F = x(D, function (t, e) {
                        t.init = function (t) {
                            e.init.call(this, "$"), this.cursor = t
                        }, t.htmlTemplate = '<span class="mathquill-rendered-math">&0</span>', t.createBlocks = function () {
                            this.endChild[S] = this.endChild[C] = L(), this.blocks = [this.endChild[S]], this.endChild[S].parent = this, this.endChild[S].cursor = this.cursor, this.endChild[S].write = function (t, e, n) {
                                "$" !== e ? B.prototype.write.call(this, t, e, n) : this.isEmpty() ? (t.insRightOf(this.parent).backspace().show(), at("\\$", "$").createLeftOf(t)) : t[C] ? t[S] ? B.prototype.write.call(this, t, e, n) : t.insLeftOf(this.parent) : t.insRightOf(this.parent)
                            }
                        }, t.latex = function () {
                            return "$" + this.endChild[S].latex() + "$"
                        }
                    }), U = x(B, function (t) {
                        t.renderLatex = function (t) {
                            var e = this, n = e.cursor;
                            e.jQ.children().slice(1).remove(), e.endChild[S] = e.endChild[C] = 0, n.show().insAtRightEnd(e);
                            var i = A.regex, o = A.string, r = A.eof, s = A.all,
                                a = o("$").then(ft).skip(o("$").or(r)).map(function (t) {
                                    var e = F(n);
                                    e.createBlocks();
                                    var i = e.endChild[S];
                                    return t.children().adopt(i, 0, 0), e
                                }), l = o("\\$").result("$"), c = l.or(i(/^[^$]/)).map(at), d = a.or(c).many(),
                                u = d.skip(r).or(s.result(!1)).parse(t);
                            if (u) {
                                for (var h = 0; h < u.length; h += 1) u[h].adopt(e, e.endChild[C], 0);
                                var p = e.join("html");
                                I.jQize(p).appendTo(e.jQ), this.finalizeInsert()
                            }
                        }, t.onKey = function (t) {
                            "Spacebar" !== t && "Shift-Spacebar" !== t && L.prototype.onKey.apply(this, arguments)
                        }, t.onText = L.prototype.onText, t.write = function (t, e, n) {
                            if (n && n.remove(), "$" === e) F(t).createLeftOf(t); else {
                                var i;
                                "<" === e ? i = "&lt;" : ">" === e && (i = "&gt;"), at(e, i).createLeftOf(t)
                            }
                        }
                    }), M = {}, P = {}, G = c, j = document.createElement("div"), z = j.style,
                    H = {transform: 1, WebkitTransform: 1, MozTransform: 1, OTransform: 1, msTransform: 1};
                for (var Q in H) if (Q in z) {
                    m = Q;
                    break
                }
                m ? f = function (t, e, n) {
                    t.css(m, "scale(" + e + "," + n + ")")
                } : "filter" in z ? (G = function (t) {
                    t.className = t.className
                }, f = function (t, e, n) {
                    function i() {
                        t.css("marginRight", (o.width() - 1) * (e - 1) / e + "px")
                    }

                    e /= 1 + (n - 1) / 2, t.css("fontSize", n + "em"), t.hasClass("matrixed-container") || t.addClass("matrixed-container").wrapInner('<span class="matrixed"></span>');
                    var o = t.children().css("filter", "progid:DXImageTransform.Microsoft.Matrix(M11=" + e + ",SizingMethod='auto expand')");
                    i();
                    var r = setInterval(i);
                    q(window).load(function () {
                        clearTimeout(r), i()
                    })
                }) : f = function (t, e, n) {
                    t.css("fontSize", n + "em")
                };
                var J = x(D, function (t, e) {
                    t.init = function (t, n, i) {
                        e.init.call(this, t, "<" + n + " " + i + ">&0</" + n + ">")
                    }
                });
                P.mathrm = d(J, "\\mathrm", "span", 'class="roman font"'), P.mathit = d(J, "\\mathit", "i", 'class="font"'), P.mathbf = d(J, "\\mathbf", "b", 'class="font"'), P.mathsf = d(J, "\\mathsf", "span", 'class="sans-serif font"'), P.mathtt = d(J, "\\mathtt", "span", 'class="monospace font"'), P.underline = d(J, "\\underline", "span", 'class="non-leaf underline"'), P.overline = P.bar = d(J, "\\overline", "span", 'class="non-leaf overline"');
                var W = x(D, function (t, e) {
                    t.init = function (t, n, i) {
                        e.init.call(this, t, "<" + n + ' class="non-leaf">&0</' + n + ">", [i])
                    }, t.finalizeTree = function () {
                        function t(t) {
                            var e = this.parent, n = t;
                            do {
                                if (n[C]) return t.insLeftOf(e), !1;
                                n = n.parent.parent
                            } while (n !== e);
                            return t.insRightOf(e), !1
                        }

                        "_" === this.ctrlSeq ? (this.down = this.endChild[S], this.endChild[S].up = t) : (this.up = this.endChild[S], this.endChild[S].down = t)
                    }, t.latex = function () {
                        var t = this.endChild[S].latex();
                        return 1 === t.length ? this.ctrlSeq + t : this.ctrlSeq + "{" + (t || " ") + "}"
                    }, t.redraw = function () {
                        this[S] && this[S].respace(), this[S] instanceof W || (this.respace(), !this[C] || this[C] instanceof W || this[C].respace())
                    }, t.respace = function () {
                        if ("\\int " === this[S].ctrlSeq || this[S] instanceof W && this[S].ctrlSeq != this.ctrlSeq && this[S][S] && "\\int " === this[S][S].ctrlSeq ? this.limit || (this.limit = !0, this.jQ.addClass("limit")) : this.limit && (this.limit = !1, this.jQ.removeClass("limit")), this.respaced = this[S] instanceof W && this[S].ctrlSeq != this.ctrlSeq && !this[S].respaced, this.respaced) {
                            var t = +this.jQ.css("fontSize").slice(0, -2), e = this[S].jQ.outerWidth(),
                                n = this.jQ.outerWidth();
                            this.jQ.css({
                                left: (this.limit && "_" === this.ctrlSeq ? -.25 : 0) - e / t + "em",
                                marginRight: .1 - y(n, e) / t + "em"
                            })
                        } else this.jQ.css(this.limit && "_" === this.ctrlSeq ? {
                            left: "-.25em",
                            marginRight: ""
                        } : {left: "", marginRight: ""});
                        return this[C] instanceof W && this[C].respace(), this
                    }
                });
                P.subscript = P._ = d(W, "_", "sub", "_"), P.superscript = P.supscript = P["^"] = d(W, "^", "sup", "**");
                var K = P.frac = P.dfrac = P.cfrac = P.fraction = x(D, function (t, e) {
                    t.ctrlSeq = "\\frac", t.htmlTemplate = '<span class="fraction non-leaf"><span class="numerator">&0</span><span class="denominator">&1</span><span style="display:inline-block;width:0">&nbsp;</span></span>', t.textTemplate = ["(", "/", ")"], t.finalizeTree = function () {
                        this.up = this.endChild[C].up = this.endChild[S], this.down = this.endChild[S].down = this.endChild[C]
                    }
                }), Y = P.over = M["/"] = x(K, function (t, e) {
                    t.createLeftOf = function (t) {
                        if (!this.replacedFragment) {
                            for (var n = t[S]; n && !(n instanceof dt || n instanceof it || n instanceof ht || ",;:".split("").indexOf(n.ctrlSeq) > -1);) n = n[S];
                            n instanceof ht && n[C] instanceof W && (n = n[C], n[C] instanceof W && n[C].ctrlSeq != n.ctrlSeq && (n = n[C])), n !== t[S] && (this.replaces(N(n[C] || t.parent.endChild[S], t[S])), t[S] = n)
                        }
                        e.createLeftOf.call(this, t)
                    }
                }), V = P.sqrt = P["√"] = x(D, function (t, e) {
                    t.ctrlSeq = "\\sqrt", t.htmlTemplate = '<span class="non-leaf"><span class="scaled sqrt-prefix">&radic;</span><span class="non-leaf sqrt-stem">&0</span></span>', t.textTemplate = ["sqrt(", ")"], t.parser = function () {
                        return ft.optBlock.then(function (t) {
                            return ft.block.map(function (e) {
                                var n = Z();
                                return n.blocks = [t, e], t.adopt(n, 0, 0), e.adopt(n, t, 0), n
                            })
                        }).or(e.parser.call(this))
                    }, t.redraw = function () {
                        var t = this.endChild[C].jQ;
                        f(t.prev(), 1, t.innerHeight() / +t.css("fontSize").slice(0, -2) - .1)
                    }
                }), Z = P.nthroot = x(V, function (t, e) {
                    t.htmlTemplate = '<sup class="nthroot non-leaf">&0</sup><span class="scaled"><span class="sqrt-prefix scaled">&radic;</span><span class="sqrt-stem non-leaf">&1</span></span>', t.textTemplate = ["sqrt[", "](", ")"], t.latex = function () {
                        return "\\sqrt[" + this.endChild[S].latex() + "]{" + this.endChild[C].latex() + "}"
                    }
                }), X = x(D, function (t, e) {
                    t.init = function (t, n, i, o) {
                        e.init.call(this, "\\left" + i, '<span class="non-leaf"><span class="scaled paren">' + t + '</span><span class="non-leaf">&0</span><span class="scaled paren">' + n + "</span></span>", [t, n]), this.end = "\\right" + o
                    }, t.jQadd = function () {
                        e.jQadd.apply(this, arguments);
                        var t = this.jQ;
                        this.bracketjQs = t.children(":first").add(t.children(":last"))
                    }, t.latex = function () {
                        return this.ctrlSeq + this.endChild[S].latex() + this.end
                    }, t.redraw = function () {
                        var t = this.endChild[S].jQ, e = t.outerHeight() / +t.css("fontSize").slice(0, -2);
                        f(this.bracketjQs, y(1 + .2 * (e - 1), 1.2), 1.05 * e)
                    }
                });
                P.left = x(D, function (t) {
                    t.parser = function () {
                        var t = A.regex, e = A.string, n = A.succeed, i = A.optWhitespace;
                        return i.then(t(/^(?:[([|]|\\\{)/)).then(function (o) {
                            "\\" === o.charAt(0) && (o = o.slice(1));
                            var r = M[o]();
                            return ft.map(function (t) {
                                r.blocks = [t], t.adopt(r, 0, 0)
                            }).then(e("\\right")).skip(i).then(t(/^(?:[\])|]|\\\})/)).then(function (t) {
                                return t.slice(-1) !== r.end.slice(-1) ? A.fail("open doesn't match close") : n(r)
                            })
                        })
                    }
                }), P.right = x(D, function (t) {
                    t.parser = function () {
                        return A.fail("unmatched \\right")
                    }
                }), P.lbrace = M["{"] = d(X, "{", "}", "\\{", "\\}"), P.langle = P.lang = d(X, "&lang;", "&rang;", "\\langle ", "\\rangle "), P.lfloor = d(X, "&#8970;", "&#8971;", "\\lfloor ", "\\rfloor "), P.lceil = d(X, "&#8968;", "&#8969;", "\\lceil ", "\\rceil ");
                var $ = x(X, function (t, e) {
                    t.createLeftOf = function (t) {
                        t[C] || !t.parent.parent || t.parent.parent.end !== this.end || this.replacedFragment ? e.createLeftOf.call(this, t) : t.insRightOf(t.parent.parent)
                    }, t.placeCursor = function (t) {
                        this.endChild[S].blur(), t.insRightOf(this)
                    }
                });
                P.rbrace = M["}"] = d($, "{", "}", "\\{", "\\}"), P.rangle = P.rang = d($, "&lang;", "&rang;", "\\langle ", "\\rangle ");
                var tt = function (t, e) {
                    t.init = function (t, n) {
                        e.init.call(this, t, n, t, n)
                    }
                }, et = x(X, tt);
                P.lparen = M["("] = d(et, "(", ")"), P.lbrack = P.lbracket = M["["] = d(et, "[", "]");
                var nt = x($, tt);
                P.rparen = M[")"] = d(nt, "(", ")"), P.rbrack = P.rbracket = M["]"] = d(nt, "[", "]");
                var it = (P.lpipe = P.rpipe = M["|"] = x(et, function (t, e) {
                    t.init = function () {
                        e.init.call(this, "|", "|")
                    }, t.createLeftOf = $.prototype.createLeftOf
                }), P.text = P.textnormal = P.textrm = P.textup = P.textmd = x(D, function (t, e) {
                    t.ctrlSeq = "\\text", t.htmlTemplate = '<span class="text">&0</span>', t.replaces = function (t) {
                        t instanceof N ? this.replacedText = t.remove().jQ.text() : "string" == typeof t && (this.replacedText = t)
                    }, t.textTemplate = ['"', '"'], t.parser = function () {
                        var t = this, e = A.string, n = A.regex, i = A.optWhitespace;
                        return i.then(e("{")).then(n(/^[^}]*/)).skip(e("}")).map(function (e) {
                            t.createBlocks();
                            for (var n = t.endChild[S], i = 0; i < e.length; i += 1) {
                                var o = at(e.charAt(i));
                                o.adopt(n, n.endChild[C], 0)
                            }
                            return t
                        })
                    }, t.createBlocks = function () {
                        this.endChild[S] = this.endChild[C] = ot(), this.blocks = [this.endChild[S]], this.endChild[S].parent = this
                    }, t.finalizeInsert = function () {
                        this.endChild[S].blur = function () {
                            return delete this.blur, this
                        }, e.finalizeInsert.call(this)
                    }, t.createLeftOf = function (t) {
                        if (e.createLeftOf.call(this, this.cursor = t), this.replacedText) for (var n = 0; n < this.replacedText.length; n += 1) this.endChild[S].write(t, this.replacedText.charAt(n))
                    }
                })), ot = x(B, function (t, e) {
                    t.onKey = function (t, e) {
                        return "Spacebar" === t || "Shift-Spacebar" === t ? !1 : void 0
                    }, t.deleteOutOf = function (t, e) {
                        this.isEmpty() && e.insRightOf(this.parent)
                    }, t.write = function (t, e, n) {
                        if (n && n.remove(), "$" !== e) {
                            var i;
                            "<" === e ? i = "&lt;" : ">" === e && (i = "&gt;"), at(e, i).createLeftOf(t)
                        } else if (this.isEmpty()) t.insRightOf(this).backspace(), at("\\$", "$").createLeftOf(t); else if (t[C]) if (t[S]) {
                            var o = it();
                            o.replaces(N(t[C], this.endChild[C])), t.insRightOf(this.parent), o.adopt = function () {
                                delete this.adopt, this.adopt.apply(this, arguments), this[S] = 0
                            }, o.createLeftOf(t), o[S] = this.parent, t.insLeftOf(o)
                        } else t.insLeftOf(this); else t.insRightOf(this);
                        return !1
                    }, t.blur = function () {
                        if (this.jQ.removeClass("hasCursor"), this.isEmpty()) {
                            var t = this.parent, e = t.cursor;
                            e.parent === this ? this.jQ.addClass("empty") : (e.hide(), t.remove(), e[C] === t ? e[C] = t[C] : e[S] === t && (e[S] = t[S]), e.show().parent.bubble("redraw"))
                        }
                        return this
                    }, t.focus = function () {
                        e.focus.call(this);
                        var t = this.parent;
                        if (t[C].ctrlSeq === t.ctrlSeq) {
                            var n = this, i = t.cursor, o = t[C].endChild[S];
                            o.eachChild(function (t) {
                                t.parent = n, t.jQ.appendTo(n.jQ)
                            }), this.endChild[C] ? this.endChild[C][C] = o.endChild[S] : this.endChild[S] = o.endChild[S], o.endChild[S][S] = this.endChild[C], this.endChild[C] = o.endChild[C], o.parent.remove(), i[S] ? i.insRightOf(i[S]) : i.insAtLeftEnd(this), i.parent.bubble("redraw")
                        } else if (t[S].ctrlSeq === t.ctrlSeq) {
                            var i = t.cursor;
                            i[S] ? t[S].endChild[S].focus() : i.insAtRightEnd(t[S].endChild[S])
                        }
                        return this
                    }
                });
                P.em = P.italic = P.italics = P.emph = P.textit = P.textsl = P.mbox = h("\\textit", "i", 'class="text"'), P.strong = P.bold = P.textbf = h("\\textbf", "b", 'class="text"'), P.sf = P.textsf = h("\\textsf", "span", 'class="sans-serif text"'), P.tt = P.texttt = h("\\texttt", "span", 'class="monospace text"'), P.textsc = h("\\textsc", "span", 'style="font-variant:small-caps" class="text"'), P.uppercase = h("\\uppercase", "span", 'style="text-transform:uppercase" class="text"'), P.lowercase = h("\\lowercase", "span", 'style="text-transform:lowercase" class="text"');
                {
                    var rt = (M["\\"] = x(D, function (t, e) {
                        t.ctrlSeq = "\\", t.replaces = function (t) {
                            this._replacedFragment = t.disown(), this.isEmpty = function () {
                                return !1
                            }
                        }, t.htmlTemplate = '<span class="latex-command-input non-leaf">\\<span>&0</span></span>', t.textTemplate = ["\\"], t.createBlocks = function () {
                            e.createBlocks.call(this), this.endChild[S].focus = function () {
                                return this.parent.jQ.addClass("hasCursor"), this.isEmpty() && this.parent.jQ.removeClass("empty"), this
                            }, this.endChild[S].blur = function () {
                                return this.parent.jQ.removeClass("hasCursor"), this.isEmpty() && this.parent.jQ.addClass("empty"), this
                            }
                        }, t.createLeftOf = function (t) {
                            if (e.createLeftOf.call(this, t), this.cursor = t.insAtRightEnd(this.endChild[S]), this._replacedFragment) {
                                var n = this.jQ[0];
                                this.jQ = this._replacedFragment.jQ.addClass("blur").bind("mousedown mousemove", function (t) {
                                    return q(t.target = n).trigger(t), !1
                                }).insertBefore(this.jQ).add(this.jQ)
                            }
                            this.endChild[S].write = function (t, e, n) {
                                n && n.remove(), e.match(/[a-z]/i) ? at(e).createLeftOf(t) : (this.parent.renderCommand(), "\\" === e && this.isEmpty() || this.parent.parent.write(t, e))
                            }
                        }, t.latex = function () {
                            return "\\" + this.endChild[S].latex() + " "
                        }, t.onKey = function (t, e) {
                            return "Tab" === t || "Enter" === t || "Spacebar" === t ? (this.renderCommand(), e.preventDefault(), !1) : void 0
                        }, t.renderCommand = function () {
                            this.jQ = this.jQ.last(), this.remove(), this[C] ? this.cursor.insLeftOf(this[C]) : this.cursor.insAtRightEnd(this.parent);
                            var t = this.endChild[S].latex();
                            t || (t = "backslash"), this.cursor.insertCmd(t, this._replacedFragment)
                        }
                    }), P.binom = P.binomial = x(D, function (t, e) {
                        t.ctrlSeq = "\\binom", t.htmlTemplate = '<span class="paren scaled">(</span><span class="non-leaf"><span class="array non-leaf"><span>&0</span><span>&1</span></span></span><span class="paren scaled">)</span>', t.textTemplate = ["choose(", ",", ")"], t.redraw = function () {
                            var t = this.jQ.eq(1), e = t.outerHeight() / +t.css("fontSize").slice(0, -2),
                                n = this.jQ.filter(".paren");
                            f(n, y(1 + .2 * (e - 1), 1.2), 1.05 * e)
                        }
                    }));
                    P.choose = x(rt, function (t) {
                        t.createLeftOf = Y.prototype.createLeftOf
                    }), P.vector = x(D, function (t, e) {
                        t.ctrlSeq = "\\vector", t.htmlTemplate = '<span class="array"><span>&0</span></span>', t.latex = function () {
                            return "\\begin{matrix}" + this.foldChildren([], function (t, e) {
                                return t.push(e.latex()), t
                            }).join("\\\\") + "\\end{matrix}"
                        }, t.text = function () {
                            return "[" + this.foldChildren([], function (t, e) {
                                return t.push(e.text()), t
                            }).join() + "]"
                        }, t.createLeftOf = function (t) {
                            e.createLeftOf.call(this, this.cursor = t)
                        }, t.onKey = function (t, e) {
                            var n = this.cursor.parent;
                            if (n.parent === this) {
                                if ("Tab" === t && !n[C]) {
                                    if (n.isEmpty()) return n[S] ? (this.cursor.insRightOf(this), delete n[S][C], this.endChild[C] = n[S], n.jQ.remove(), this.bubble("redraw"), e.preventDefault(), !1) : void 0;
                                    var i = B();
                                    return i.parent = this, i.jQ = q("<span></span>").attr(v, i.id).appendTo(this.jQ), this.endChild[C] = i, n[C] = i, i[S] = n, this.bubble("redraw").cursor.insAtRightEnd(i), e.preventDefault(), !1
                                }
                                if (8 === e.which) {
                                    if (n.isEmpty()) return n[S] ? (this.cursor.insAtRightEnd(n[S]), n[S][C] = n[C]) : (this.cursor.insLeftOf(this), this.endChild[S] = n[C]), n[C] ? n[C][S] = n[S] : this.endChild[C] = n[S], n.jQ.remove(), this.isEmpty() ? this.cursor.deleteForward() : this.bubble("redraw"), e.preventDefault(), !1;
                                    if (!this.cursor[S]) return e.preventDefault(), !1
                                }
                            }
                        }
                    })
                }
                P.editable = x(F, function (t, e) {
                    t.init = function () {
                        D.prototype.init.call(this, "\\editable")
                    }, t.jQadd = function () {
                        var t = this;
                        e.jQadd.apply(t, arguments);
                        var n = t.endChild[S].disown(), i = t.jQ.children().detach();
                        t.endChild[S] = t.endChild[C] = L(), t.blocks = [t.endChild[S]], t.endChild[S].parent = t, u(t.jQ, t.endChild[S], !1, !0), t.cursor = t.endChild[S].cursor, n.children().adopt(t.endChild[S], 0, 0), i.appendTo(t.endChild[S].jQ), t.endChild[S].cursor.insAtRightEnd(t.endChild[S])
                    }, t.latex = function () {
                        return this.endChild[S].latex()
                    }, t.text = function () {
                        return this.endChild[S].text()
                    }
                }), P.f = d(O, "f", '<var class="florin">&fnof;</var><span style="display:inline-block;width:0">&nbsp;</span>');
                var st = x(O, function (t, e) {
                    t.init = function (t, n) {
                        e.init.call(this, t, "<var>" + (n || t) + "</var>")
                    }, t.text = function () {
                        var t = this.ctrlSeq;
                        return !this[S] || this[S] instanceof st || this[S] instanceof dt || (t = "*" + t), !this[C] || this[C] instanceof dt || "^" === this[C].ctrlSeq || (t += "*"), t
                    }
                }), at = x(O, function (t, e) {
                    t.init = function (t, n) {
                        e.init.call(this, t, "<span>" + (n || t) + "</span>")
                    }
                });
                M[" "] = d(at, "\\:", " "), P.prime = M["'"] = d(at, "'", "&prime;");
                var lt = x(O, function (t, e) {
                    t.init = function (t, n) {
                        e.init.call(this, t, '<span class="nonSymbola">' + (n || t) + "</span>")
                    }
                });
                P["@"] = lt, P["&"] = d(lt, "\\&", "&amp;"), P["%"] = d(lt, "\\%", "%"), P.alpha = P.beta = P.gamma = P.delta = P.zeta = P.eta = P.theta = P.iota = P.kappa = P.mu = P.nu = P.xi = P.rho = P.sigma = P.tau = P.chi = P.psi = P.omega = x(st, function (t, e) {
                    t.init = function (t) {
                        e.init.call(this, "\\" + t + " ", "&" + t + ";")
                    }
                }), P.phi = d(st, "\\phi ", "&#981;"), P.phiv = P.varphi = d(st, "\\varphi ", "&phi;"), P.epsilon = d(st, "\\epsilon ", "&#1013;"), P.epsiv = P.varepsilon = d(st, "\\varepsilon ", "&epsilon;"), P.piv = P.varpi = d(st, "\\varpi ", "&piv;"), P.sigmaf = P.sigmav = P.varsigma = d(st, "\\varsigma ", "&sigmaf;"), P.thetav = P.vartheta = P.thetasym = d(st, "\\vartheta ", "&thetasym;"), P.upsilon = P.upsi = d(st, "\\upsilon ", "&upsilon;"), P.gammad = P.Gammad = P.digamma = d(st, "\\digamma ", "&#989;"), P.kappav = P.varkappa = d(st, "\\varkappa ", "&#1008;"), P.rhov = P.varrho = d(st, "\\varrho ", "&#1009;"), P.pi = P["π"] = d(lt, "\\pi ", "&pi;"), P.lambda = d(lt, "\\lambda ", "&lambda;"), P.Upsilon = P.Upsi = P.upsih = P.Upsih = d(O, "\\Upsilon ", '<var style="font-family: serif">&upsih;</var>'), P.Gamma = P.Delta = P.Theta = P.Lambda = P.Xi = P.Pi = P.Sigma = P.Phi = P.Psi = P.Omega = P.forall = x(at, function (t, e) {
                    t.init = function (t) {
                        e.init.call(this, "\\" + t + " ", "&" + t + ";")
                    }
                }), P.Ans = d(st, "\\Ans ", "Ans");
                var ct = x(D, function (t) {
                    t.init = function (t) {
                        this.latex = t
                    }, t.createLeftOf = function (t) {
                        t.writeLatex(this.latex)
                    }, t.parser = function () {
                        var t = ft.parse(this.latex).children();
                        return A.succeed(t)
                    }
                });
                P["¹"] = d(ct, "^1"), P["²"] = d(ct, "^2"), P["³"] = d(ct, "^3"), P["¼"] = d(ct, "\\frac14"), P["½"] = d(ct, "\\frac12"), P["¾"] = d(ct, "\\frac34");
                var dt = x(O, function (t, e) {
                    t.init = function (t, n, i) {
                        e.init.call(this, t, '<span class="binary-operator">' + n + "</span>", i)
                    }
                }), ut = x(dt, function (t) {
                    t.init = at.prototype.init, t.respace = function () {
                        return this.jQ[0].className = this[S] ? this[S] instanceof dt && this[C] && !(this[C] instanceof dt) ? "unary-operator" : "binary-operator" : "", this
                    }
                });
                P["+"] = d(ut, "+", "+"), P["–"] = P["-"] = d(ut, "-", "&minus;"), P["±"] = P.pm = P.plusmn = P.plusminus = d(ut, "\\pm ", "&plusmn;"), P.mp = P.mnplus = P.minusplus = d(ut, "\\mp ", "&#8723;"), M["*"] = P.sdot = P.cdot = d(dt, "\\cdot ", "&middot;"), M[","] = P[","] = d(dt, ",", ", "), M[":"] = P[":"] = d(dt, ":", ": "), P["="] = d(dt, "=", "="), P["<"] = d(dt, "<", "&lt;"), P[">"] = d(dt, ">", "&gt;"), P.notin = P.sim = P.nsim = P.cong = P.ncong = P.equiv = P.nequiv = P.oplus = P.otimes = x(dt, function (t, e) {
                    t.init = function (t) {
                        e.init.call(this, "\\" + t + " ", "&" + t + ";")
                    }
                }), P.times = d(dt, "\\times ", "&times;", "[x]"), P["÷"] = P.div = P.divide = P.divides = d(dt, "\\div ", "&divide;", "[/]"), P["≠"] = P.ne = P.neq = d(dt, "\\ne ", "&ne;"), P.ast = P.star = P.loast = P.lowast = d(dt, "\\ast ", "&lowast;"), P.therefor = P.therefore = d(dt, "\\therefore ", "&there4;"), P.cuz = P.because = d(dt, "\\because ", "&#8757;"), P.prop = P.propto = d(dt, "\\propto ", "&prop;"), P["≈"] = P.asymp = P.approx = d(dt, "\\approx ", "&asymp;"), P.lt = d(dt, "<", "&lt;"), P.nless = d(dt, "≮", "&nlt;"), P.gt = d(dt, ">", "&gt;"), P.ngtr = d(dt, "≯", "&ngt;"), P["≤"] = P.le = P.leq = d(dt, "\\le ", "&le;"), P["≰"] = P.nleq = d(dt, "\\nleq ", "&nle;"), P["≥"] = P.ge = P.geq = d(dt, "\\ge ", "&ge;"), P["≱"] = P.ngeq = d(dt, "\\ngeq ", "&nge;"), P.isin = P["in"] = d(dt, "\\in ", "&isin;"), P.ni = P.contains = d(dt, "\\ni ", "&ni;"), P.notni = P.niton = P.notcontains = P.doesnotcontain = d(dt, "\\not\\ni ", "&#8716;"), P.sub = P.subset = d(dt, "\\subset ", "&sub;"), P.sup = P.supset = P.superset = d(dt, "\\supset ", "&sup;"), P.nsub = P.notsub = P.nsubset = P.notsubset = d(dt, "\\not\\subset ", "&#8836;"), P.nsup = P.notsup = P.nsupset = P.notsupset = P.nsuperset = P.notsuperset = d(dt, "\\not\\supset ", "&#8837;"), P.sube = P.subeq = P.subsete = P.subseteq = d(dt, "\\subseteq ", "&sube;"), P.supe = P.supeq = P.supsete = P.supseteq = P.supersete = P.superseteq = d(dt, "\\supseteq ", "&supe;"), P.nsube = P.nsubeq = P.notsube = P.notsubeq = P.nsubsete = P.nsubseteq = P.notsubsete = P.notsubseteq = d(dt, "\\not\\subseteq ", "&#8840;"), P.nsupe = P.nsupeq = P.notsupe = P.notsupeq = P.nsupsete = P.nsupseteq = P.notsupsete = P.notsupseteq = P.nsupersete = P.nsuperseteq = P.notsupersete = P.notsuperseteq = d(dt, "\\not\\supseteq ", "&#8841;");
                var ht = x(O, function (t, e) {
                    t.init = function (t, n) {
                        e.init.call(this, t, "<big>" + n + "</big>")
                    }
                });
                P["∑"] = P.sum = P.summation = d(ht, "\\sum ", "&sum;"), P["∏"] = P.prod = P.product = d(ht, "\\prod ", "&prod;"), P.coprod = P.coproduct = d(ht, "\\coprod ", "&#8720;"), P["∫"] = P["int"] = d(ht, "\\int ", "&int;"), P["∬"] = P.iint = d(ht, "\\iint ", "&Int;"), P["∭"] = P.iiint = d(ht, "\\iiint ", "&tint;"), P["∮"] = P.oint = d(ht, "\\oint ", "&conint;"), P["∯"] = P.oiint = d(ht, "\\oiint ", "&Conint;"), P["∰"] = P.oiiint = d(ht, "\\oiiint ", "&Cconint;"), P.naturals = P.Naturals = d(at, "\\mathbb{N}", "&#8469;"), P.primes = P.Primes = P.projective = P.Projective = P.probability = P.Probability = d(at, "\\mathbb{P}", "&#8473;"), P.integers = P.Integers = d(at, "\\mathbb{Z}", "&#8484;"), P.rationals = P.Rationals = d(at, "\\mathbb{Q}", "&#8474;"), P.reals = P.Reals = d(at, "\\mathbb{R}", "&#8477;"), P.complexes = P.Complexes = P.complexplane = P.Complexplane = P.ComplexPlane = d(at, "\\mathbb{C}", "&#8450;"), P.Hamiltonian = P.quaternions = P.Quaternions = d(at, "\\mathbb{H}", "&#8461;"), P.quad = P.emsp = d(at, "\\quad ", "    "), P.qquad = d(at, "\\qquad ", "        "), P.space = d(at, " \\s ", " "), P.diamond = d(at, "\\diamond ", "&#9671;"), P.bigtriangleup = d(at, "\\bigtriangleup ", "&#9651;"), P.ominus = d(at, "\\ominus ", "&#8854;"), P.uplus = d(at, "\\uplus ", "&#8846;"), P.bigtriangledown = d(at, "\\bigtriangledown ", "&#9661;"), P.sqcap = d(at, "\\sqcap ", "&#8851;"), P.triangleleft = d(at, "\\triangleleft ", "&#8882;"), P.sqcup = d(at, "\\sqcup ", "&#8852;"), P.triangleright = d(at, "\\triangleright ", "&#8883;"), P.odot = d(at, "\\odot ", "&#8857;"), P.bigcirc = d(at, "\\bigcirc ", "&#9711;"), P.dagger = d(at, "\\dagger ", "&#0134;"), P.ddagger = d(at, "\\ddagger ", "&#135;"), P.wr = d(at, "\\wr ", "&#8768;"), P.amalg = d(at, "\\amalg ", "&#8720;"), P.models = d(at, "\\models ", "&#8872;"), P.prec = d(at, "\\prec ", "&#8826;"), P.succ = d(at, "\\succ ", "&#8827;"), P.preceq = d(at, "\\preceq ", "&#8828;"), P.succeq = d(at, "\\succeq ", "&#8829;"), P.simeq = d(at, "\\simeq ", "&#8771;"), P.nsimeq = d(at, "\\nsimeq ", "&nsimeq;"), P.mid = d(at, "\\mid ", "&#8739;"), P.ll = d(at, "\\ll ", "&#8810;"), P.gg = d(at, "\\gg ", "&#8811;"), P.parallel = d(at, "\\parallel ", "&#8741;"), P.nparallel = d(at, "\\parallel ", "&nparallel;"), P.bowtie = d(at, "\\bowtie ", "&#8904;"), P.sqsubset = d(at, "\\sqsubset ", "&#8847;"), P.sqsupset = d(at, "\\sqsupset ", "&#8848;"), P.smile = d(at, "\\smile ", "&#8995;"), P.sqsubseteq = d(at, "\\sqsubseteq ", "&#8849;"), P.sqsupseteq = d(at, "\\sqsupseteq ", "&#8850;"), P.doteq = d(at, "\\doteq ", "&#8784;"), P.frown = d(at, "\\frown ", "&#8994;"), P.vdash = d(at, "\\vdash ", "&#8870;"), P.dashv = d(at, "\\dashv ", "&#8867;"), P.longleftarrow = d(at, "\\longleftarrow ", "&#8592;"), P.longrightarrow = d(at, "\\longrightarrow ", "&#8594;"), P.Longleftarrow = d(at, "\\Longleftarrow ", "&#8656;"), P.Longrightarrow = d(at, "\\Longrightarrow ", "&#8658;"), P.longleftrightarrow = d(at, "\\longleftrightarrow ", "&#8596;"), P.updownarrow = d(at, "\\updownarrow ", "&#8597;"), P.Longleftrightarrow = d(at, "\\Longleftrightarrow ", "&#8660;"), P.Updownarrow = d(at, "\\Updownarrow ", "&#8661;"), P.mapsto = d(at, "\\mapsto ", "  &#8614;  "), P.nearrow = d(at, "\\nearrow ", "&#8599;"), P.hookleftarrow = d(at, "\\hookleftarrow ", "&#8617;"), P.hookrightarrow = d(at, "\\hookrightarrow ", "&#8618;"), P.searrow = d(at, "\\searrow ", "&#8600;"), P.leftharpoonup = d(at, "\\leftharpoonup ", "&#8636;"), P.rightharpoonup = d(at, "\\rightharpoonup ", "&#8640;"), P.swarrow = d(at, "\\swarrow ", "&#8601;"), P.leftharpoondown = d(at, "\\leftharpoondown ", "&#8637;"), P.rightharpoondown = d(at, "\\rightharpoondown ", "&#8641;"), P.nwarrow = d(at, "\\nwarrow ", "&#8598;"), P.ldots = d(at, "\\ldots ", "&#8230;"), P.cdots = d(at, "\\cdots ", "&#8943;"), P.vdots = d(at, "\\vdots ", "&#8942;"), P.ddots = d(at, "\\ddots ", "&#8944;"), P.surd = d(at, "\\surd ", "&#8730;"), P.triangle = d(at, "\\triangle ", "&#9653;"), P.ell = d(at, "\\ell ", "&#8467;"), P.top = d(at, "\\top ", "&#8868;"), P.flat = d(at, "\\flat ", "&#9837;"), P.natural = d(at, "\\natural ", "&#9838;"), P.sharp = d(at, "\\sharp ", "&#9839;"), P.wp = d(at, "\\wp ", "&#8472;"), P.bot = d(at, "\\bot ", "&#8869;"), P.clubsuit = d(at, "\\clubsuit ", "&#9827;"), P.diamondsuit = d(at, "\\diamondsuit ", "&#9826;"), P.heartsuit = d(at, "\\heartsuit ", "&#9825;"), P.spadesuit = d(at, "\\spadesuit ", "&#9824;"), P.pounds = d(at, "\\pounds ", "&pound;"), P.yen = d(at, "\\yen ", "&yen;"), P.cent = d(at, "\\cent ", "&cent;"), P.oint = d(ht, "\\oint ", "&#8750;"), P.bigcap = d(at, "\\bigcap ", "&#8745;"), P.bigcup = d(at, "\\bigcup ", "&#8746;"), P.bigsqcup = d(at, "\\bigsqcup ", "&#8852;"), P.bigvee = d(at, "\\bigvee ", "&#8744;"), P.bigwedge = d(at, "\\bigwedge ", "&#8743;"),P.bigodot = d(at, "\\bigodot ", "&#8857;"),P.bigotimes = d(at, "\\bigotimes ", "&#8855;"),P.bigoplus = d(at, "\\bigoplus ", "&#8853;"),P.biguplus = d(at, "\\biguplus ", "&#8846;"),P.slash = d(at, "\\slash ", "&#47;"),P.opencurlybrace = d(at, "\\opencurlybrace ", "&#123;"),P.closecurlybrace = d(at, "\\closecurlybrace ", "&#125;"),P.caret = d(at, "\\caret ", "^"),P.underscore = d(at, "\\underscore ", "_"),P.backslash = d(at, "\\backslash ", "\\"),P.vert = d(at, "|"),P.perp = P.perpendicular = d(at, "\\perp ", "&perp;"),P.grad = P.nabla = P.del = d(at, "\\nabla ", "&nabla;"),P.hbar = d(at, "\\hbar ", "&#8463;"),P.AA = P.Angstrom = P.angstrom = d(at, "\\text\\AA ", "&#8491;"),P.ring = P.circ = P.circle = d(at, "\\circ ", "&#8728;"),P.bull = P.bullet = d(at, "\\bullet ", "&bull;"),P.setminus = P.smallsetminus = d(at, "\\setminus ", "&#8726;"),P.not = P["¬"] = P.neg = d(at, "\\neg ", "&not;"),P["…"] = P.dots = P.ellip = P.hellip = P.ellipsis = P.hellipsis = d(at, "\\dots ", "&hellip;"),P.converges = P.darr = P.dnarr = P.dnarrow = P.downarrow = d(at, "\\downarrow ", "&darr;"),P.dArr = P.dnArr = P.dnArrow = P.Downarrow = d(at, "\\Downarrow ", "&dArr;"),P.diverges = P.uarr = P.uparrow = d(at, "\\uparrow ", "&uarr;"),P.uArr = P.Uparrow = d(at, "\\Uparrow ", "&uArr;"),P.to = d(dt, "\\to ", "&rarr;"),P.rarr = P.rightarrow = d(at, "\\rightarrow ", "&rarr;"),P.implies = d(dt, "\\Rightarrow ", "&rArr;"),P.rArr = P.Rightarrow = d(at, "\\Rightarrow ", "&rArr;"),P.gets = d(dt, "\\gets ", "&larr;"),P.larr = P.leftarrow = d(at, "\\leftarrow ", "&larr;"),P.impliedby = d(dt, "\\Leftarrow ", "&lArr;"),P.lArr = P.Leftarrow = d(at, "\\Leftarrow ", "&lArr;"),P.harr = P.lrarr = P.leftrightarrow = d(at, "\\leftrightarrow ", "&harr;"),P.iff = d(dt, "\\Leftrightarrow ", "&hArr;"),P.hArr = P.lrArr = P.Leftrightarrow = d(at, "\\Leftrightarrow ", "&hArr;"),P.Re = P.Real = P.real = d(at, "\\Re ", "&real;"),P.Im = P.imag = P.image = P.imagin = P.imaginary = P.Imaginary = d(at, "\\Im ", "&image;"),P.part = P.partial = d(at, "\\partial ", "&part;"),P.inf = P.infin = P.infty = P.infinity = d(at, "\\infty ", "&infin;"),P.alef = P.alefsym = P.aleph = P.alephsym = d(at, "\\aleph ", "&alefsym;"),P.xist = P.xists = P.exist = P.exists = d(at, "\\exists ", "&exist;"),P.and = P.land = P.wedge = d(at, "\\wedge ", "&and;"),P.or = P.lor = P.vee = d(at, "\\vee ", "&or;"),P.empty = P.emptyset = P.oslash = P.Oslash = P.nothing = P.varnothing = d(dt, "\\varnothing ", "&empty;"),P.cup = P.union = d(dt, "\\cup ", "&cup;"),P.cap = P.intersect = P.intersection = d(dt, "\\cap ", "&cap;"),P.deg = P.degree = d(at, "^\\circ ", "&deg;"),P.ang = P.angle = d(at, "\\angle ", "&ang;"),P.ang = P.msdangle = d(at, "\\msdangle ", "&angmsd;");
                var pt = x(O, function (t, e) {
                    t.init = function (t) {
                        e.init.call(this, "\\" + t + " ", "<span>" + t + "</span>")
                    }, t.respace = function () {
                        this.jQ[0].className = this[C] instanceof W || this[C] instanceof X ? "" : "non-italicized-function"
                    }
                });
                P.ln = P.lg = P.log = P.det = P.dim = P.min = P.max = P.mod = P.lcm = P.gcd = P.gcf = P.hcf = P.lim = pt, function () {
                    var t = ["sin", "cos", "tan", "sec", "cosec", "csc", "cotan", "cot"];
                    for (var e in t) P[t[e]] = P[t[e] + "h"] = P["a" + t[e]] = P["arc" + t[e]] = P["a" + t[e] + "h"] = P["arc" + t[e] + "h"] = pt
                }(), g.LatexCmds = P;
                var ft = function () {
                    function t(t) {
                        var e = B();
                        return t.adopt(e, 0, 0), e
                    }

                    function e(t) {
                        for (var e = t[0] || B(), n = 1; n < t.length; n += 1) t[n].children().adopt(e, e.endChild[C], 0);
                        return e
                    }

                    var n = A.string, i = A.regex, o = A.letter, r = A.any, s = A.optWhitespace, a = A.succeed,
                        l = A.fail, c = o.map(st), d = i(/^[^${}\\_^]/).map(at),
                        u = i(/^[^\\]/).or(n("\\").then(i(/^[a-z]+/i).or(i(/^\s+/).result(" ")).or(r))).then(function (t) {
                            var e = P[t];
                            return e ? e(t).parser() : l("unknown command: \\" + t)
                        }), h = u.or(c).or(d), p = n("{").then(function () {
                            return m
                        }).skip(n("}")), f = s.then(p.or(h.map(t))), m = f.many().map(e).skip(s),
                        g = n("[").then(f.then(function (t) {
                            return "]" !== t.join("latex") ? a(t) : l()
                        }).many().map(e).skip(s)).skip(n("]")), b = m;
                    return b.block = f, b.optBlock = g, b
                }(), mt = x(k, function (t) {
                    function e(t, e) {
                        if (t[C][e]) t.insAtLeftEnd(t[C][e]); else if (t[S][e]) t.insAtRightEnd(t[S][e]);
                        else {
                            var i = t.parent;
                            do {
                                var o = i[e];
                                if (o && ("function" == typeof o && (o = i[e](t)), o === !1 || o instanceof B)) {
                                    if (t.upDownCache[i.id] = k(t.parent, t[S], t[C]), o instanceof B) {
                                        var r = t.upDownCache[o.id];
                                        if (r) r[C] ? t.insLeftOf(r[C]) : t.insAtRightEnd(r.parent); else {
                                            var s = n(t).left;
                                            t.insAtRightEnd(o), t.seekHoriz(s, o)
                                        }
                                    }
                                    break
                                }
                                i = i.parent.parent
                            } while (i)
                        }
                        return t.clearSelection().show()
                    }

                    function n(t) {
                        var e = t.jQ.removeClass("cursor").offset();
                        return t.jQ.addClass("cursor"), e
                    }

                    function i(t) {
                        t.upDownCache = {}
                    }

                    t.init = function (t) {
                        this.parent = this.root = t;
                        var e = this.jQ = this._jQ = q('<span class="cursor">&#8203;</span>');
                        this.blink = function () {
                            e.toggleClass("blink")
                        }, this.upDownCache = {}
                    }, t.show = function () {
                        return this.jQ = this._jQ.removeClass("blink"), "intervalId" in this ? clearInterval(this.intervalId) : (this[C] ? this.jQ.insertBefore(this.selection && this.selection.end[S][S] === this[S] ? this.selection.jQ : this[C].jQ.first()) : this.jQ.appendTo(this.parent.jQ), this.parent.focus()), this.intervalId = setInterval(this.blink, 500), this
                    }, t.hide = function () {
                        return "intervalId" in this && clearInterval(this.intervalId), delete this.intervalId, this.jQ.detach(), this.jQ = q(), this
                    }, t.withDirInsertAt = function (t, e, n, i) {
                        var o = this.parent;
                        this.parent = e, this[t] = n, this[-t] = i, o.blur()
                    }, t.insDirOf = function (t, e) {
                        return this.withDirInsertAt(t, e.parent, e[t], e), this.parent.jQ.addClass("hasCursor"), this.jQ.insDirOf(t, e.jQ), this
                    }, t.insLeftOf = function (t) {
                        return this.insDirOf(S, t)
                    }, t.insRightOf = function (t) {
                        return this.insDirOf(C, t)
                    }, t.insAtDirEnd = function (t, e) {
                        return this.withDirInsertAt(t, e, 0, e.endChild[t]), t === S && e.textarea ? this.jQ.insDirOf(-t, e.textarea) : this.jQ.insAtDirEnd(t, e.jQ), e.focus(), this
                    }, t.insAtLeftEnd = function (t) {
                        return this.insAtDirEnd(S, t)
                    }, t.insAtRightEnd = function (t) {
                        return this.insAtDirEnd(C, t)
                    }, t.hopDir = function (t) {
                        return this.jQ.insDirOf(t, this[t].jQ), this[-t] = this[t], this[t] = this[t][t], this
                    }, t.hopLeft = function () {
                        return this.hopDir(S)
                    }, t.hopRight = function () {
                        return this.hopDir(C)
                    }, t.moveDirWithin = function (t, e) {
                        if (this[t]) this[t].endChild[-t] ? this.insAtDirEnd(-t, this[t].endChild[-t]) : this.hopDir(t); else {
                            if (this.parent === e) return;
                            this.parent[t] ? this.insAtDirEnd(-t, this.parent[t]) : this.insDirOf(t, this.parent.parent)
                        }
                    }, t.moveLeftWithin = function (t) {
                        return this.moveDirWithin(S, t)
                    }, t.moveRightWithin = function (t) {
                        return this.moveDirWithin(C, t)
                    }, t.moveDir = function (t) {
                        return i(this), this.selection ? this.insDirOf(t, this.selection.end[t]).clearSelection() : this.moveDirWithin(t, this.root), this.show()
                    }, t.moveLeft = function () {
                        return this.moveDir(S)
                    }, t.moveRight = function () {
                        return this.moveDir(C)
                    }, t.moveUp = function () {
                        return e(this, "up")
                    }, t.moveDown = function () {
                        return e(this, "down")
                    }, t.seek = function (t, e, n) {
                        i(this);
                        var o, r, s = this.clearSelection().show();
                        return t.hasClass("empty") ? (s.insAtLeftEnd(I[t.attr(v)]), s) : (o = I[t.attr(b)], o instanceof O ? (t.outerWidth() > 2 * (e - t.offset().left) ? s.insLeftOf(o) : s.insRightOf(o), s) : (o || (r = I[t.attr(v)], r || (t = t.parent(), o = I[t.attr(b)], o || (r = I[t.attr(v)], r || (r = s.root)))), o ? s.insRightOf(o) : s.insAtRightEnd(r), s.seekHoriz(e, s.root)))
                    }, t.seekHoriz = function (t, e) {
                        var i, o = this, r = n(o).left - t;
                        do o.moveLeftWithin(e), i = r, r = n(o).left - t; while (r > 0 && (o[S] || o.parent !== e));
                        return -r > i && o.moveRightWithin(e), o
                    }, t.writeLatex = function (t) {
                        var e = this;
                        i(e), e.show().deleteSelection();
                        var n = A.all, o = A.eof, r = ft.skip(o).or(n.result(!1)).parse(t);
                        return r && (r.children().adopt(e.parent, e[S], e[C]), I.jQize(r.join("html")).insertBefore(e.jQ), e[S] = r.endChild[C], r.finalizeInsert(), e.parent.bubble("redraw")), this.hide()
                    }, t.write = function (t) {
                        var e = this.prepareWrite();
                        return this.insertCh(t, e)
                    }, t.insertCh = function (t, e) {
                        return this.parent.write(this, t, e), this
                    }, t.insertCmd = function (t, e) {
                        var n = P[t];
                        return n ? (n = n(t), e && n.replaces(e), n.createLeftOf(this)) : (n = it(), n.replaces(t), n.endChild[S].focus = function () {
                            return delete this.focus, this
                        }, n.createLeftOf(this), this.insRightOf(n), e && e.remove()), this
                    }, t.unwrapGramp = function () {
                        var t = this.parent.parent, e = t.parent, n = t[C], i = t[S];
                        if (t.disown().eachChild(function (o) {
                            o.isEmpty() || (o.children().adopt(e, i, n).each(function (e) {
                                e.jQ.insertBefore(t.jQ.first())
                            }), i = o.endChild[C])
                        }), !this[C]) if (this[S]) this[C] = this[S][C]; else for (; !this[C];) {
                            if (this.parent = this.parent[C], !this.parent) {
                                this[C] = t[C], this.parent = e;
                                break
                            }
                            this[C] = this.parent.endChild[S]
                        }
                        this[C] ? this.insLeftOf(this[C]) : this.insAtRightEnd(e), t.jQ.remove(), t[S] && t[S].respace(), t[C] && t[C].respace()
                    }, t.deleteDir = function (t) {
                        if (i(this), this.show(), this.deleteSelection()) ; else if (this[t]) this[t].isEmpty() ? this[t] = this[t].remove()[t] : this.selectDir(t); else if (this.parent !== this.root) {
                            if (this.parent.parent.isEmpty()) return this.insDirOf(-t, this.parent.parent).deleteDir(t);
                            this.unwrapGramp()
                        }
                        return this[S] && this[S].respace(), this[C] && this[C].respace(), this.parent.bubble("redraw"), this
                    }, t.backspace = function () {
                        return this.deleteDir(S)
                    }, t.deleteForward = function () {
                        return this.deleteDir(C)
                    }, t.selectFrom = function (t) {
                        var e = this, n = t;
                        t:for (; ;) {
                            for (var i = this; i !== e.parent.parent; i = i.parent.parent) if (i.parent === n.parent) {
                                r = i, s = n;
                                break t
                            }
                            for (var o = t; o !== n.parent.parent; o = o.parent.parent) if (e.parent === o.parent) {
                                r = e, s = o;
                                break t
                            }
                            e.parent.parent && (e = e.parent.parent), n.parent.parent && (n = n.parent.parent)
                        }
                        var r, s, a;
                        if (r[C] !== s) {
                            for (var l = r; l; l = l[C]) if (l === s[S]) {
                                a = !0;
                                break
                            }
                            a || (a = s, s = r, r = a)
                        }
                        this.hide().selection = gt(r[S][C] || r.parent.endChild[S], s[C][S] || s.parent.endChild[C]), this.insRightOf(s[C][S] || s.parent.endChild[C]), this.root.selectionChanged()
                    }, t.selectDir = function (t) {
                        if (i(this), this.selection) if (this.selection.end[t] === this[-t]) this[t] ? this.hopDir(t).selection.extendDir(t) : this.parent !== this.root && this.insDirOf(t, this.parent.parent).selection.levelUp(); else {
                            if (this.hopDir(t), this.selection.end[t] === this.selection.end[-t]) return void this.clearSelection().show();
                            this.selection.retractDir(t)
                        } else {
                            if (this[t]) this.hopDir(t); else {
                                if (this.parent === this.root) return;
                                this.insDirOf(t, this.parent.parent)
                            }
                            this.hide().selection = gt(this[-t])
                        }
                        this.root.selectionChanged()
                    }, t.selectLeft = function () {
                        return this.selectDir(S)
                    }, t.selectRight = function () {
                        return this.selectDir(C)
                    }, t.prepareMove = function () {
                        return i(this), this.show().clearSelection()
                    }, t.prepareEdit = function () {
                        return i(this), this.show().deleteSelection()
                    }, t.prepareWrite = function () {
                        return i(this), this.show().replaceSelection()
                    }, t.clearSelection = function () {
                        return this.selection && (this.selection.clear(), delete this.selection, this.root.selectionChanged()), this
                    }, t.deleteSelection = function () {
                        return this.selection ? (this[S] = this.selection.end[S][S], this[C] = this.selection.end[C][C], this.selection.remove(), this.root.selectionChanged(), delete this.selection) : !1
                    }, t.replaceSelection = function () {
                        var t = this.selection;
                        return t && (this[S] = t.end[S][S], this[C] = t.end[C][C], delete this.selection), t
                    }
                }), gt = x(N, function (t, e) {
                    t.init = function () {
                        var t = this;
                        e.init.apply(t, arguments), t.jQwrap(t.jQ)
                    }, t.jQwrap = function (t) {
                        this.jQ = t.wrapAll('<span class="selection"></span>').parent()
                    }, t.adopt = function () {
                        return this.jQ.replaceWith(this.jQ = this.jQ.children()), e.adopt.apply(this, arguments)
                    }, t.clear = function () {
                        return this.jQ.replaceWith(this.jQ.children()), this
                    }, t.levelUp = function () {
                        var t = this, e = t.end[S] = t.end[C] = t.end[C].parent.parent;
                        return t.clear().jQwrap(e.jQ), t
                    }, t.extendDir = function (t) {
                        return this.end[t] = this.end[t][t], this.end[t].jQ.insAtDirEnd(t, this.jQ), this
                    }, t.extendLeft = function () {
                        return this.extendDir(S)
                    }, t.extendRight = function () {
                        return this.extendDir(C)
                    }, t.retractDir = function (t) {
                        this.end[-t].jQ.insDirOf(-t, this.jQ), this.end[-t] = this.end[-t][t]
                    }, t.retractRight = function () {
                        return this.retractDir(C)
                    }, t.retractLeft = function () {
                        return this.retractDir(S)
                    }
                });
                g.fn.mathquill = function (t, e, n) {
                    switch (t) {
                        case"redraw":
                            return this.each(function () {
                                var t = q(this).attr(v), e = t && I[t];
                                e && !function n(t) {
                                    t.eachChild(n), t.redraw && t.redraw()
                                }(e)
                            });
                        case"revert":
                            return this.each(function () {
                                var t = q(this).attr(v), e = t && I[t];
                                e && e.revert && e.revert()
                            });
                        case"latex":
                            if (arguments.length > 1) return this.each(function () {
                                var t = q(this).attr(v), n = t && I[t];
                                n && n.renderLatex(e)
                            });
                            var i = q(this).attr(v), o = i && I[i];
                            return o && o.latex();
                        case"text":
                            var i = q(this).attr(v), o = i && I[i];
                            return o && o.text();
                        case"html":
                            return this.html().replace(/ ?hasCursor|hasCursor /, "").replace(/ class=(""|(?= |>))/g, "").replace(/<span class="?cursor( blink)?"?><\/span>/i, "").replace(/<span class="?textarea"?><textarea><\/textarea><\/span>/i, "");
                        case"write":
                            if (arguments.length > 1) return this.each(function () {
                                var t = q(this).attr(v), n = t && I[t], i = n && n.cursor;
                                i && i.writeLatex(e).parent.blur()
                            });
                        case"cmd":
                            if (arguments.length > 1) return this.each(function () {
                                var t = q(this).attr(v), n = t && I[t], i = n && n.cursor;
                                if (i) {
                                    var o = i.prepareWrite();
                                    /^\\[a-z]+$/i.test(e) ? i.insertCmd(e.slice(1), o) : i.insertCh(e, o), i.hide().parent.blur()
                                }
                            });
                        case"setCursorToStart":
                            return this.each(function () {
                                var t = this.getAttribute(v), e = t && I[t];
                                e && e.cursor.insAtLeftEnd(e)
                            });
                        case"setCursorToEnd":
                            return this.each(function () {
                                var t = this.getAttribute(v), e = t && I[t];
                                e && e.cursor.insAtRightEnd(e)
                            });
                        case"isCursorAtStart":
                            return q(this).children().eq(1).hasClass("cursor");
                        case"isCursorAtEnd":
                            return q(this).find("*").last().hasClass("cursor");
                        case"seek":
                            var r = e, s = n;
                            return this.each(function () {
                                var t = q(this).attr(v), e = t && I[t];
                                return e ? (e.cursor.hide(), e.cursor.seek(q(document.elementFromPoint(r, s)), r, s), !1) : void 0
                            });
                        default:
                            var a = "textbox" === t, l = a || "editable" === t, c = a ? U : L;
                            return this.each(function () {
                                u(q(this), c(), a, l)
                            })
                    }
                }, g(function () {
                    g(".mathquill-editable:not(.mathquill-rendered-math)").mathquill("editable"), g(".mathquill-textbox:not(.mathquill-rendered-math)").mathquill("textbox"), g(".mathquill-embedded-latex").mathquill()
                })
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/Text/Math/mathquill.js", "/node_modules/seaglass/src/Element/IO/Text/Math")
        }, {_process: 6, buffer: 2}],
        39: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../../SeaGlass"), h = (t("../index"), function () {
                    this.build()
                });
                h.prototype = u.util.extend(new u.IO, {
                    type: "SeaGlass-Text", isText: !0, isFocusable: !0, getCaretPos: function () {
                        return {isStart: !0, isEnd: !0, isTop: !0, isBottom: !0}
                    }, focus: function (t) {
                        return u.cursor.set(this), this["left" == t ? "setCaretToStart" : "setCaretToEnd"](), this
                    }, onCaretMove: u.noop, onMouseup: function (t) {
                        var e = this;
                        setTimeout(function () {
                            e.onCaretMove(e)
                        }, 0)
                    }, onArrow: function (t, e) {
                        var n = this.getCaretPos();
                        ("left" == t && n.isStart || "up" == t && n.isTop || "right" == t && n.isEnd || "down" == t && n.isBottom) && u.cursor.onArrow(t, e, this, n.isStart ? "left" : n.isStart ? "right" : !1), this.onCaretMove(this)
                    }, onBSDelete: function (t, e) {
                        function n() {
                            var n = "backspace" == t ? "left" : "right";
                            u.cursor.onArrow(n, e, i, n)
                        }

                        var i = this, o = this.getCaretPos(), r = o.isStart && "backspace" == t,
                            s = o.isEnd && "delete" == t;
                        if (r || s) {
                            var a = this[r ? "prev" : "next"]();
                            if (this.is(a)) (r ? a : this).focus(r ? "right" : "left").append(this.getContents()), this.remove(); else if (this.noDelete) ; else if (this.isEmpty()) {
                                var l = this.parent();
                                if (l.isStructure && l.first() == this) {
                                    if (!l.isDocument) {
                                        var c = l[r ? "before" : "after"](u.io.Html);
                                        c.focus(r ? "right" : "left"), l.remove()
                                    }
                                } else n(), this.remove()
                            } else if (a.isHtml) {
                                var d = a.deleteBTEmptyLine(s);
                                d || n()
                            } else n();
                            e.stopPropagation(), e.preventDefault()
                        }
                        this.doc().historyPoint()
                    }, dump: function () {
                        return {contents: this.$textarea.val()}
                    }, load: function (t) {
                        this.$textarea.val(t.contents || "")
                    }, dumpCaret: function () {
                        return u.cursor.location == this ? this.getCaretPos() : !1
                    }, loadCaret: function (t) {
                        return t && !this.doc().noCaretLoad && this[t.isStart ? "setCaretToStart" : "setCaretToEnd"](), this
                    }
                }), e.exports = u.register("io.Text", h)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/Text/index.js", "/node_modules/seaglass/src/Element/IO/Text")
        }, {"../../../SeaGlass": 51, "../index": 40, _process: 6, buffer: 2}],
        40: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../SeaGlass"), h = t("../index"), p = function () {
                    this.build()
                };
                p.prototype = u.util.extend(new h, {isIO: !0, type: "SeaGlass-IO"}), e.exports = u.register("IO", p)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/IO/index.js", "/node_modules/seaglass/src/Element/IO")
        }, {"../../SeaGlass": 51, "../index": 47, _process: 6, buffer: 2}],
        41: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../../SeaGlass"), h = t("../index"), p = function () {
                };
                p.prototype = u.util.extend(new h, {
                    type: "SeaGlass-Heading",
                    parentType: "SeaGlass-Document",
                    init: function (t) {
                        this.meta = {level: t.level || 1}, this.tag = "h" + this.meta.level, this.build()
                    }
                }), e.exports = u.register("structure.Heading", p)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Structure/Heading/index.js", "/node_modules/seaglass/src/Element/Structure/Heading")
        }, {"../../../SeaGlass": 51, "../index": 44, _process: 6, buffer: 2}],
        42: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../../SeaGlass"), h = t("../index"), p = function () {
                };
                p.prototype = u.util.extend(new h, {
                    type: "SeaGlass-Li",
                    parentType: "SeaGlass-List",
                    tag: "li",
                    init: function (t) {
                        this.build()
                    }
                }), e.exports = u.register("structure.Li", p)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Structure/List/Li.js", "/node_modules/seaglass/src/Element/Structure/List")
        }, {"../../../SeaGlass": 51, "../index": 44, _process: 6, buffer: 2}],
        43: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../../SeaGlass"), h = t("../index"), p = (t("./Li"), function () {
                });
                p.prototype = u.util.extend(new h, {
                    type: "SeaGlass-List",
                    childType: "SeaGlass-Li",
                    init: function (t) {
                        this.meta = {ordered: t.ordered}, this.tag = t.ordered ? "ol" : "ul", this.build()
                    }
                }), e.exports = u.register("structure.List", p)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Structure/List/index.js", "/node_modules/seaglass/src/Element/Structure/List")
        }, {"../../../SeaGlass": 51, "../index": 44, "./Li": 42, _process: 6, buffer: 2}],
        44: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../../SeaGlass"), h = t("../index"), p = t("underscore"), f = function (t) {
                    this.build()
                };
                f.prototype = u.util.extend(new h, {
                    meta: {},
                    clean: function () {
                        this.meta = {}
                    },
                    isStructure: !0,
                    type: "SeaGlass-Structure",
                    childSelector: ".SeaGlass-Element:not(.SeaGlass-Cursor)",
                    append: function (t, e) {
                        var n = u.create.apply(this, arguments);
                        if (this.childType) {
                            var i = u.create.apply(this, [this.childType, e]);
                            return this.$wrapper[0].appendChild(i.$wrapper[0]), i.onMove(), i.append(n)
                        }
                        return this.$wrapper[0].appendChild(n.$wrapper[0]), n.onMove()
                    },
                    prepend: function (t, e) {
                        var n = u.create.apply(this, arguments);
                        if (this.childType) {
                            var i = u.create.apply(this, [this.childType, e]);
                            return this.$wrapper[0].insertBefore(i.$wrapper[0], this.$wrapper[0].firstChild), i.onMove(), i.append(n)
                        }
                        return this.$wrapper[0].insertBefore(n.$wrapper[0], this.$wrapper[0].firstChild), n.onMove()
                    },
                    children: function () {
                        for (var t = this.$wrapper.children(this.childSelector), e = [], n = 0; n < t.length; n++) {
                            var i = this.getEl($(t[n]));
                            i.isNull || e.push(i)
                        }
                        return e
                    },
                    first: function () {
                        var t = this.$wrapper.children(this.childSelector + ":first");
                        return 0 === t.length ? this.append(u.io.Html) : this.getEl(t)
                    },
                    last: function () {
                        var t = this.$wrapper.children(this.childSelector + ":last");
                        return 0 === t.length ? this.append(u.io.Html) : this.getEl(t)
                    },
                    length: function () {
                        return this.$wrapper.children(this.childSelector).length
                    },
                    focus: function (t) {
                        return this.first().focus("right" == t ? "right" : "left"), this
                    },
                    dump: function () {
                        for (var t = this.children(), e = [], n = 0; n < t.length; n++) e.push(t[n].dump());
                        return {caret: this.dumpCaret(), type: this.type, content: e, meta: this.meta || {}}
                    },
                    load: function (t, e, n) {
                        if (!p.isObject(t) || !p.isArray(t.content)) return this;
                        n || (this.meta = t.meta || {version: "1.0"}), this.removeChildren();
                        for (var i, o, r = 0; r < t.content.length; r++) {
                            var s = t.content[r];
                            o = this, !this.doc().version && ("object" == typeof s.data && (s = p.extend(s, s.data)), s.heading && (o = i && i.is(u.structure.Heading) ? i : this.append(u.structure.Heading)), i && i.isHtml && "Text" == s.type && r > 0 && t.content[r - 1].heading == s.heading) ? i.append("<p>" + s.content + "</p>") : i = o.append(s.type).load(s, null, !0)
                        }
                        return t.caret && n && this.loadCaret(t.caret), "function" == typeof e && e(), this
                    },
                    getHtml: function (t) {
                        for (var e = "<div>", n = 0; n < t.content.length; n++) {
                            var i = t.content[n];
                            e += u.types[i.type].prototype.getHtml(i.data)
                        }
                        return e + "</div>"
                    },
                    removeChildren: function () {
                        for (var t = this.children(), e = t.length; e--;) t[e].remove()
                    },
                    remove: function () {
                        this.removeChildren(), this.$wrapper.detach(), this.relinquish()
                    },
                    dumpCaret: function () {
                        if (u.cursor.location == this) {
                            var t = u.cursor.$wrapper.index();
                            return -1 != t ? {index: t, side: u.cursor.side} : !1
                        }
                        return !1
                    },
                    loadCaret: function (t) {
                        if (t) {
                            u.cursor["left" == t.side ? "makeLeft" : "makeRight"]();
                            var e = this.$wrapper.find(".SeaGlass-Element:eq(" + (t.index + 1) + ")");
                            return 0 === e.length ? this.last().after(u.cursor) : e.data(u.dataKey).after(u.cursor), this
                        }
                    },
                    isParsable: !0,
                    dumpCode: function (t) {
                        for (var e = this.children(), n = [], i = 0; i < e.length; i++) e[i].isParsable && n.push.apply(n, e[i].dumpCode(t));
                        return n
                    },
                    getVariables: function (t) {
                        if (!this.variables || t) {
                            for (var e = this.children(), n = [], i = 0; i < e.length; i++) e[i].isParsable && n.push.apply(n, e[i].getVariables());
                            this.variables = n
                        }
                        return this.variables
                    },
                    grabLatex: function () {
                        for (var t = this.children(), e = "", n = 0; n < t.length; n++) e += t[n].grabLatex();
                        return e
                    }
                }), e.exports = u.register("Structure", f)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/Structure/index.js", "/node_modules/seaglass/src/Element/Structure")
        }, {"../../SeaGlass": 51, "../index": 47, _process: 6, buffer: 2, underscore: 57}],
        45: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../SeaGlass");
                t("./UI.less");
                var h = function (t) {
                };
                h.prototype = {
                    load: function (t) {
                        for (var e = t.ui || [], n = 0; n < e.length; n++) {
                            var i, o = e[n];
                            i = "string" == typeof o ? o : o.name, this[i].add(t, o)
                        }
                        return this
                    }, RemoveButton: {
                        add: function (t, e) {
                            this.$button = $("<div class='SeaGlass-UI SeaGlass-UI-RemoveButton icon-cancel'></div>").appendTo(t.$container).click(function () {
                                u.cursor.makeRight(), t.before(u.cursor), t.remove()
                            })
                        }, remove: function (t, e) {
                            this.$button.remove()
                        }
                    }, EditButton: {
                        add: function (t, e) {
                            this.onClick = e.onClick || function () {
                            }, this.$button = $("<div class='SeaGlass-UI SeaGlass-UI-EditButton icon-pencil'></div>").appendTo(t.$container)
                        }, remove: function (t) {
                            this.$button.remove()
                        }
                    }, Resizable: {
                        add: function () {
                        }, remove: function () {
                        }
                    }
                }, e.exports = h
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/UI.js", "/node_modules/seaglass/src/Element")
        }, {"../SeaGlass": 51, "./UI.less": 46, _process: 6, buffer: 2}],
        46: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-Readonly .SeaGlass-UI{display:none}.SeaGlass-UI-RemoveButton,.SeaGlass-UI-EditButton{position:absolute;top:3px;color:#000;cursor:pointer;opacity:.4;font-size:20px;z-index:1}.SeaGlass-UI-RemoveButton:hover,.SeaGlass-UI-EditButton:hover{opacity:1}.SeaGlass-UI-RemoveButton{right:1px}.SeaGlass-UI-EditButton{right:25px}.no-touch .SeaGlass-Function .SeaGlass-Element-Inner:before,.no-touch .SeaGlass-Function .SeaGlass-UI-EditButton,.no-touch .SeaGlass-Function .SeaGlass-UI-RemoveButton{-webkit-transition:opacity .2s;-moz-transition:opacity .2s;-o-transition:opacity .2s;-ms-transition:opacity .2s;transition:opacity .2s}.no-touch .SeaGlass-Function:not(:hover) .SeaGlass-Element-Inner:before,.no-touch .SeaGlass-Function:not(:hover) .SeaGlass-UI-EditButton,.no-touch .SeaGlass-Function:not(:hover) .SeaGlass-UI-RemoveButton{opacity:0}.SeaGlass-Readonly .SeaGlass-UI-EditButton,.SeaGlass-Readonly .SeaGlass-UI-RemoveButton,.SeaGlass-Readonly .SeaGlass-Element-Inner:before{display:none !important}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/UI.less", "/node_modules/seaglass/src/Element")
        }, {_process: 6, buffer: 2}],
        47: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("../SeaGlass"), h = t("./UI"), p = t("underscore");
                t("./Element.less");
                var f = function () {
                    this.build()
                };
                f.prototype = {
                    isElement: !0,
                    tag: "div",
                    type: "SeaGlass-Element",
                    UI: new h,
                    hasInner: !1,
                    init: u.noop,
                    clean: u.noop,
                    isEmpty: function () {
                        return !1
                    },
                    build: function (t) {
                        return this.$wrapper = (t || $("<" + this.tag + "/>")).addClass((this.type || "") + " " + (this.classes || "") + " SeaGlass-Element").data(u.dataKey, this), this.hasInner ? (this.$inner = $("<div class='SeaGlass-Element-Inner' />").appendTo(this.$wrapper), this.$container = this.$inner) : this.$container = this.$wrapper, this.html && (this.$container[0].innerHTML = this.html), this.ui && this.UI.load(this), this
                    },
                    focus: function () {
                        return u.cursor.set(this), this
                    },
                    remove: function () {
                        this.$wrapper.detach(), this.relinquish()
                    },
                    after: function (t, e) {
                        var n = u.create.apply(this, arguments);
                        return this.$wrapper[0].parentNode.insertBefore(n.$wrapper[0], this.$wrapper[0].nextSibling), n.onMove()
                    },
                    before: function (t, e) {
                        var n = u.create.apply(this, arguments);
                        return this.$wrapper[0].parentNode.insertBefore(n.$wrapper[0], this.$wrapper[0]), n.onMove()
                    },
                    wrap: function (t, e) {
                        if (!t || !t.prototype.isStructure) return u.NULL;
                        var n = this.after(t, e);
                        return n.append(this), this.onMove()
                    },
                    findTypeNear: function (t, e) {
                        var n = this.parent();
                        if (t.prototype.type == this.type) return this;
                        if (n.isFunction) return n.findTypeNear(t, e);
                        if (this.isText && this.isEmpty()) {
                            var i = this.after(e).focus();
                            return this.remove(), i
                        }
                        return this.after(e).focus()
                    },
                    next: function () {
                        var t = this.$wrapper.next();
                        return this.getEl(t)
                    },
                    prev: function () {
                        var t = this.$wrapper.prev();
                        return this.getEl(t)
                    },
                    nextUntil: function (t) {
                        if (!t) return !1;
                        for (var e = this.next(); ;) {
                            if (e.isNull) return !1;
                            if (t(e)) return e;
                            e = e.next()
                        }
                    },
                    prevUntil: function (t) {
                        if (!t) return !1;
                        for (var e = this.prev(); ;) {
                            if (!e || e.isNull) return !1;
                            if (t(e)) return e;
                            e = e.prev()
                        }
                    },
                    parent: function () {
                        var t = this.$wrapper.parents(".SeaGlass-Element").first();
                        return this.getEl(t)
                    },
                    getEl: function (t) {
                        if (t && 0 !== t.length) {
                            var e = t.data(u.dataKey);
                            if (e) return e
                        }
                        return u.NULL
                    },
                    parentNodes: function () {
                        for (var t = [this]; this; this == this.parentNode) t.unshift(this);
                        return t
                    },
                    commonAncestorNodes: function (t) {
                        var e = this, n = e.parentNodes(), i = t;
                        if (n[0] != i[0]) throw"No common ancestor!";
                        for (var o = 0; o < n.length; o++) if (n[o] != i[o]) return n[o - 1]
                    },
                    hide: function () {
                        return this.$wrapper.hide(), this
                    },
                    show: function () {
                        return this.$wrapper.show(), this
                    },
                    is: function (t) {
                        return t ? this.type == ("string" == typeof t ? t : "undefined" != typeof t.prototype ? t.prototype.type : t.type) : !1
                    },
                    isChildOf: function (t) {
                        for (var e = this.$wrapper[0].parentNode, n = t.$wrapper[0]; null !== e;) {
                            if (e == n) return !0;
                            e = e.parentNode
                        }
                        return !1
                    },
                    onMove: function () {
                        return this
                    },
                    onArrow: function (t) {
                    },
                    onBSDelete: function (t) {
                    },
                    onEnter: u.noop,
                    onKeydown: u.noop,
                    onKeyup: u.noop,
                    onFocus: u.noop,
                    onBlur: u.noop,
                    bind: function (t, e) {
                        var n = this;
                        return p.isObject(t) || (t = [t]), p.each(t, function (t, e) {
                            n[e] = t
                        }), this
                    },
                    parse: function () {
                        return this.doc().parser.parse(this), this
                    },
                    getVariables: function () {
                        return []
                    },
                    dumpCode: function () {
                        return []
                    },
                    getPartFromXY: function (t, e) {
                        var n = this.$wrapper, i = n.offset(), o = n.width(), r = n.height();
                        if (t -= i.left, e -= i.top, this.hasInner) {
                            var s = this.$inner, a = s.position(), l = s.width(), c = s.height();
                            if (t < a.left) return "padding-left";
                            if (t > a.left + l) return "padding-right";
                            if (e < a.top) return "padding-top";
                            if (e > a.top + c) return "padding-bottom"
                        } else {
                            var d = this.getBoxDimensions("margin"), u = this.getBoxDimensions("padding");
                            if (t < d.left) return "margin-left";
                            if (t < d.left + u.left) return "padding-left";
                            if (t > o - d.right) return "padding-right";
                            if (t > o - d.right - u.right) return "margin-right";
                            if (e < d.top) return "margin-top";
                            if (e < d.top + u.top) return "padding-top";
                            if (e > r - d.bottom) return "padding-bottom";
                            if (e > r - d.bottom - u.bottom) return "margin-bottom"
                        }
                        return "body"
                    },
                    getBoxDimensions: function (t, e) {
                        function n(t) {
                            return parseInt(i.css(t), 10)
                        }

                        var i = "inner" == e ? this.$container : this.$wrapper, o = "border" == t ? "-width" : "";
                        return {
                            left: n(t + "-left" + o),
                            right: n(t + "-right" + o),
                            top: n(t + "-top" + o),
                            bottom: n(t + "-bottom" + o)
                        }
                    },
                    height: function (t) {
                        if (t) return this.$wrapper.height(t), this;
                        var e = this.getBoxDimensions("margin");
                        return this.$wrapper.height() + e.top + e.bottom
                    },
                    width: function (t) {
                        if (t) return this.$wrapper.width(t), this;
                        var e = this.getBoxDimensions("margin");
                        return this.$wrapper.width() + e.left + e.right
                    },
                    dump: function () {
                        return {type: this.type}
                    },
                    load: function () {
                        return this
                    },
                    getHtml: function () {
                        return ""
                    },
                    addRemoveButton: function () {
                        var t = this;
                        return $("<div class='SeaGlass-UI-RemoveButton'>x</div>").appendTo(this.$container).click(function () {
                            t.before(u.cursor), t.remove()
                        }), this
                    },
                    doc: function () {
                        return this.$wrapper.closest(".SeaGlass-Document").data(u.dataKey) || u.NULL
                    }
                }, e.exports = u.register("Element", f)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Element/index.js", "/node_modules/seaglass/src/Element")
        }, {"../SeaGlass": 51, "./Element.less": 20, "./UI": 45, _process: 6, buffer: 2, underscore: 57}],
        48: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("./SeaGlass"), h = t("./Element"), p = (t("underscore"), function () {
                    this.build()
                }), f = function () {
                    return this
                }, m = function () {
                    return {left: 0, top: 0, bottom: 0, right: 0}
                };
                p.prototype = u.util.extend(new h, {
                    type: "Null",
                    isNull: !0,
                    remove: f,
                    after: f,
                    before: f,
                    wrap: f,
                    create: f,
                    makeTypeNear: f,
                    next: f,
                    prev: f,
                    parent: f,
                    hide: f,
                    show: f,
                    parse: f,
                    height: function () {
                        return 0
                    },
                    width: function () {
                        return 0
                    },
                    getPadding: m,
                    getMargins: m,
                    getBorders: m,
                    getWrapperInfo: m,
                    dump: f,
                    load: f,
                    append: f,
                    prepend: f,
                    children: f,
                    first: f,
                    last: f,
                    length: function () {
                        return 0
                    },
                    focus: f,
                    blur: f,
                    html: f,
                    set: f,
                    historyPoint: f,
                    undo: f,
                    redo: f,
                    onFocus: f,
                    onBlur: f,
                    onKeydown: f,
                    onHistory: f,
                    noSolve: u.noop,
                    onMove: function () {
                        return this.$wrapper.detach(), this
                    },
                    meta: {},
                    paste: f,
                    pasteFunction: f
                }), e.exports = u.register("Null", p)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Null.js", "/node_modules/seaglass/src")
        }, {"./Element": 47, "./SeaGlass": 51, _process: 6, buffer: 2, underscore: 57}],
        49: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("./SeaGlass"), h = t("underscore");
                u.Parser = function (t) {
                    t = t || {}, this.endpoint = t.endpoint || "/api/compute/", this.onError = t.onError || u.noop, this.onParse = t.onParse || u.noop, this.sameDomain = document.domain == this.endpoint.split("/")[2] || !/^https?:\/\//g.test(this.endpoint)
                }, u.Parser.prototype = {
                    parse: function (t, e, n) {
                        var i = this;
                        this.onParse(this), e = e || u.noop;
                        var o = !1, r = !1;
                        if (t) {
                            o = t.getVariables(!0);
                            var s = h.without(o, "ans", "Ans");
                            r = o.length != s.length, o = s
                        }
                        var a = t.doc().dumpCode({vars: n ? !1 : o, caller: t});
                        if (0 !== a.length) {
                            if (t && r) for (var l = function (t) {
                                return t.is(u.functions.Solver)
                            }, c = 0; c < a.length; c++) if (a[c].el == t) {
                                var d = t.prevUntil(l);
                                if (d) {
                                    if (!a[c - 1] || a[c - 1].el != d) {
                                        var p = d.dumpCode();
                                        a.splice(c, 0, p[p.length - 1])
                                    }
                                } else ;
                                break
                            }
                            for (var f = [], c = 0; c < a.length; c++) f.push(a[c].send);
                            return this.solve(f, function (n) {
                                if (n.error) {
                                    if ("parse_error" == n.error_msg) {
                                        for (var o = "", r = 0, s = 0; s < a.length; s++) a[s][0] == t.$wrapper[s] && (r = s);
                                        var l = n.errors[r];
                                        if (0 !== l.length) for (var s = 0; s < l.length; s++) 0 !== l[s].length && (o += l[s] + "  "); else for (var c = n.errors, s = 0; s < c.length; s++) l = c[s], l.length > 0 && (o += l[0] + " ");
                                        n.error_msg = o.substring(0, o.length - 2)
                                    } else "auth_fail" == n.error_msg && u.config.onAuthError();
                                    n.error_msg && i.onError(n.error_msg, t), "function" == typeof t.loadError && t.loadError(n)
                                } else for (var s = 0; s < a.length; s++) {
                                    var d = n.results[s], h = a[s].el;
                                    h && h.loadAnswers(d, a[s].code)
                                }
                                e()
                            }, t), this
                        }
                    }, solve: function (t, e, n) {
                        var i = this;
                        return $.ajax({
                            type: this.sameDomain ? "POST" : "GET",
                            url: this.endpoint,
                            data: {blocks: JSON.stringify(t), angles: n.doc().meta.angles || "rad"},
                            dataType: this.sameDomain ? "JSON" : "jsonp",
                            success: e,
                            error: function () {
                                i.onError("Check your internet connection.", n), "function" == typeof n.loadError && n.loadError(!1)
                            }
                        }), this
                    }
                }, e.exports = u.Parser
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Parser.js", "/node_modules/seaglass/src")
        }, {"./SeaGlass": 51, _process: 6, buffer: 2, underscore: 57}],
        50: [function (t, e, n) {
            (function (t, n, i, o, r, s, a, l, c) {
                var d = function (t, e) {
                    var n = this;
                    this.Constructor = t, this.type = this.Constructor.prototype.type, t.prototype.relinquish = function () {
                        this.clean(), n.available.push(this)
                    }, this.available = []
                };
                d.prototype = {
                    preallocate: function (t) {
                        for (; t--;) this.available.push(new this.Constructor)
                    }, create: function () {
                        var t = this.available.pop();
                        return t || (t = new this.Constructor), t.init.apply(t, arguments), t
                    }
                }, e.exports = d
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/Pool.js", "/node_modules/seaglass/src")
        }, {_process: 6, buffer: 2}],
        51: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("underscore"), h = t("./Pool"), p = t("./lib/BrowserDetect"), f = t("./keyCodes"),
                    m = function () {
                    }, g = {
                        version: "1.1.0",
                        isReady: !1,
                        io: {},
                        structure: {},
                        functions: {},
                        types: {},
                        noop: m,
                        isMobile: p.isMobile,
                        config: {staticRoot: "", onAuthError: m},
                        defaultDoc: null,
                        dataKey: "SeaGlass-el",
                        create: function (t, e) {
                            if (!t) return g.NULL;
                            if ("string" == typeof t) {
                                if ("undefined" == typeof g.types[t]) return g.NULL;
                                t = g.types[t]
                            } else if (t.isElement) return t;
                            e = e || {}, e.cursor = g.cursor;
                            var n = t.prototype.pool.create(e);
                            return n
                        },
                        get: function (t) {
                            return $(t).data(g.dataKey)
                        },
                        getCursorXY: function (t) {
                            var e = "undefined" != typeof t.pageX ? t : t.originalEvent.changedTouches[0];
                            return {x: e.pageX, y: e.pageY}
                        },
                        util: {extend: u.extend},
                        extend: function (t) {
                            return this.util.extend(this, t), this
                        },
                        pools: [],
                        register: function (t, e, n) {
                            n = n || {};
                            var i = new h(e);
                            e.prototype.pool = i, this.pools.push(i), t = t.split(".");
                            for (var o = this, r = 0; r < t.length; r++) r == t.length - 1 ? o[t[r]] = e : o = o[t[r]];
                            if ("string" == typeof e.prototype.type && (this.types[e.prototype.type] = e), n.aliases) {
                                var s = n.aliases;
                                for (r = s.length; r--;) this.types[s[r]] = e
                            }
                            return e
                        },
                        cleanPools: function () {
                            function t(n) {
                                n--, e[n].clean(), n > 0 && setTimeout(function () {
                                    t(n)
                                }, 0)
                            }

                            var e = this.pools, n = e.length;
                            t(n)
                        },
                        insert: function (t, e) {
                            if (t) {
                                e = e || {};
                                var n = this.cursor.location, i = this.cursor.doc();
                                i.isNull && g.defaultDoc && (i = g.defaultDoc);
                                for (var o = n.parent(); o.isFunction;) n = o, o = n.parent();
                                var r = t.prototype.parentType;
                                if (r && !o.is(r)) return this;
                                var s;
                                return n && !n.isNull ? t.prototype.isStructure ? (s = n.wrap(t, e), n.focus("right")) : (s = n["function" == typeof n.insert ? "insert" : "after"](t, e), "function" == typeof n.isEmpty && n.isEmpty() && n.remove()) : s = i.append(t, e), g.cursor.makeRight(), s.after(g.cursor), i.historyPoint(), this
                            }
                        },
                        format: function (t) {
                            var e = this.cursor.location;
                            return e && "function" == typeof e.format && e.format(t), this.cursor.doc().historyPoint(), this
                        },
                        pasteFunction: function (t) {
                            return this._pasteCode(t, "pasteFunction"), this
                        },
                        pasteLatex: function (t) {
                            return this._pasteCode(t, "paste"), this
                        },
                        _pasteCode: function (t, e) {
                            var n = this.cursor.location;
                            return n.isHtml && g.io.Math.prototype.syntax.isMath(n.getLineContents() + t, "nonTyped") ? n.replaceLineWithCode()[e](t) : this.cursor.findTypeNear(g.io.Math, g.functions.Solver)[e](t),
                                this.cursor.doc().historyPoint(), this
                        },
                        copy: function () {
                        },
                        cut: function () {
                        },
                        paste: function () {
                        },
                        resize: function () {
                            return this.cursor && this.cursor.updateFormat(), this
                        },
                        readyFunctions: [],
                        ready: function (t) {
                            this.isReady ? t() : this.readyFunctions.push(t)
                        },
                        fireReady: function () {
                            for (var t = this.readyFunctions.length; t--;) this.readyFunctions[t]();
                            this.isReady = !0
                        },
                        documents: []
                    };
                window.SeaGlass = g, e.exports = g, t("./Document");
                var b = t("./Null"), v = t("./Element/Cursor");
                g.NULL = new b, g.cursor = new v, f(g), g.fireReady()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/SeaGlass.js", "/node_modules/seaglass/src")
        }, {
            "./Document": 17,
            "./Element/Cursor": 19,
            "./Null": 48,
            "./Pool": 50,
            "./keyCodes": 52,
            "./lib/BrowserDetect": 53,
            _process: 6,
            buffer: 2,
            underscore: 57
        }],
        52: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("onkey");
                e.exports = function (t) {
                    u.down(function (e) {
                        if ((e.ctrlKey || e.metaKey) && !e.altKey) switch (e.keyCode) {
                            case 90:
                                e.preventDefault();
                                var n = t.cursor.doc();
                                e.shiftKey ? n.redo() : n.undo();
                                break;
                            case 89:
                                e.preventDefault(), t.cursor.doc().redo();
                                break;
                            case 65:
                                e.preventDefault();
                                break;
                            case 72:
                                e.preventDefault(), t.insert(t.structure.Heading);
                                break;
                            case 71:
                                e.preventDefault(), t.insert(t.functions.Graph);
                                break;
                            case 85:
                                t.format("underline");
                                break;
                            case 66:
                                t.format("bold");
                                break;
                            case 73:
                                t.format("italic")
                        }
                    })
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/keyCodes.js", "/node_modules/seaglass/src")
        }, {_process: 6, buffer: 2, onkey: 14}],
        53: [function (t, e, n) {
            (function (t, n, i, o, r, s, a, l, c) {
                var d = {
                    init: function () {
                        return this.browser = this.searchString(this.dataBrowser) || "An unknown browser", this.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || "an unknown version", this.OS = this.searchString(this.dataOS) || "an unknown OS", this
                    },
                    searchString: function (t) {
                        for (var e = 0; e < t.length; e++) {
                            var n = t[e].string, i = t[e].prop;
                            if (this.versionSearchString = t[e].versionSearch || t[e].identity, n) {
                                if (-1 != n.indexOf(t[e].subString)) return t[e].identity
                            } else if (i) return t[e].identity
                        }
                    },
                    searchVersion: function (t) {
                        var e = t.indexOf(this.versionSearchString);
                        if (-1 != e) return parseFloat(t.substring(e + this.versionSearchString.length + 1))
                    },
                    dataBrowser: [{
                        string: navigator.userAgent,
                        subString: "Chrome",
                        identity: "Chrome"
                    }, {
                        string: navigator.userAgent,
                        subString: "OmniWeb",
                        versionSearch: "OmniWeb/",
                        identity: "OmniWeb"
                    }, {
                        string: navigator.vendor,
                        subString: "Apple",
                        identity: "Safari",
                        versionSearch: "Version"
                    }, {prop: window.opera, identity: "Opera", versionSearch: "Version"}, {
                        string: navigator.vendor,
                        subString: "iCab",
                        identity: "iCab"
                    }, {
                        string: navigator.vendor,
                        subString: "KDE",
                        identity: "Konqueror"
                    }, {
                        string: navigator.userAgent,
                        subString: "Firefox",
                        identity: "Firefox"
                    }, {
                        string: navigator.vendor,
                        subString: "Camino",
                        identity: "Camino"
                    }, {
                        string: navigator.userAgent,
                        subString: "Netscape",
                        identity: "Netscape"
                    }, {
                        string: navigator.userAgent,
                        subString: "MSIE",
                        identity: "Explorer",
                        versionSearch: "MSIE"
                    }, {
                        string: navigator.userAgent,
                        subString: "Gecko",
                        identity: "Mozilla",
                        versionSearch: "rv"
                    }, {
                        string: navigator.userAgent,
                        subString: "Mozilla",
                        identity: "Netscape",
                        versionSearch: "Mozilla"
                    }],
                    dataOS: [{
                        string: navigator.platform,
                        subString: "Win",
                        identity: "Windows"
                    }, {string: navigator.platform, subString: "Mac", identity: "Mac"}, {
                        string: navigator.userAgent,
                        subString: "iPhone",
                        identity: "iPhone/iPod"
                    }, {string: navigator.platform, subString: "Linux", identity: "Linux"}]
                }, u = d.init();
                u.isMobile = function (t) {
                    return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0, 4))
                }(navigator.userAgent || navigator.vendor || window.opera) || /windows phone|webos|android|ipad/i.test(navigator.userAgent), u.iOS = navigator.userAgent.match(/iPad|iPhone|iPod/), u.iPhone = navigator.userAgent.match(/iPhone|iPod/), u.android = navigator.userAgent.toLowerCase().indexOf("android") > -1, u.iOSChrome = u.iPhone && navigator.userAgent.match(/CriOS/), u.scrollbars = !u.isMobile && -1 == navigator.userAgent.indexOf("Mac OS X"), $(function () {
                    var t = $("html");
                    u.iOS ? (t.addClass("iOS"), u.iPhone && t.addClass("iPhone"), u.iOSChrome && t.addClass("iOSChrome")) : u.android ? t.addClass("android") : "Mac" == d.OS && t.addClass("mac"), u.isMobile && t.addClass("mobile"), u.scrollbars && t.addClass("scrollbars")
                }), e.exports = u
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/lib/BrowserDetect.js", "/node_modules/seaglass/src/lib")
        }, {_process: 6, buffer: 2}],
        54: [function (require, module, exports) {
            (function (process, global, Buffer, __argument0, __argument1, __argument2, __argument3, __filename, __dirname) {
                var qq = function (t) {
                    "use strict";
                    return {
                        hide: function () {
                            return t.style.display = "none", this
                        }, attach: function (e, n) {
                            return t.addEventListener ? t.addEventListener(e, n, !1) : t.attachEvent && t.attachEvent("on" + e, n), function () {
                                qq(t).detach(e, n)
                            }
                        }, detach: function (e, n) {
                            return t.removeEventListener ? t.removeEventListener(e, n, !1) : t.attachEvent && t.detachEvent("on" + e, n), this
                        }, contains: function (e) {
                            return t === e ? !0 : t.contains ? t.contains(e) : !!(8 & e.compareDocumentPosition(t))
                        }, insertBefore: function (e) {
                            return e.parentNode.insertBefore(t, e), this
                        }, remove: function () {
                            return t.parentNode.removeChild(t), this
                        }, css: function (e) {
                            return null !== e.opacity && "string" != typeof t.style.opacity && "undefined" != typeof t.filters && (e.filter = "alpha(opacity=" + Math.round(100 * e.opacity) + ")"), qq.extend(t.style, e), this
                        }, hasClass: function (e) {
                            var n = new RegExp("(^| )" + e + "( |$)");
                            return n.test(t.className)
                        }, addClass: function (e) {
                            return qq(t).hasClass(e) || (t.className += " " + e), this
                        }, removeClass: function (e) {
                            var n = new RegExp("(^| )" + e + "( |$)");
                            return t.className = t.className.replace(n, " ").replace(/^\s+|\s+$/g, ""), this
                        }, getByClass: function (e) {
                            var n, i = [];
                            return t.querySelectorAll ? t.querySelectorAll("." + e) : (n = t.getElementsByTagName("*"), qq.each(n, function (t, n) {
                                qq(n).hasClass(e) && i.push(n)
                            }), i)
                        }, children: function () {
                            for (var e = [], n = t.firstChild; n;) 1 === n.nodeType && e.push(n), n = n.nextSibling;
                            return e
                        }, setText: function (e) {
                            return t.innerText = e, t.textContent = e, this
                        }, clearText: function () {
                            return qq(t).setText("")
                        }
                    }
                };
                qq.log = function (t, e) {
                    "use strict";
                    window.console && (e && "info" !== e ? window.console[e] ? window.console[e](t) : window.console.log("<" + e + "> " + t) : window.console.log(t))
                }, qq.isObject = function (t) {
                    "use strict";
                    return null !== t && t && "object" == typeof t && t.constructor === Object
                }, qq.isFunction = function (t) {
                    "use strict";
                    return "function" == typeof t
                }, qq.isString = function (t) {
                    "use strict";
                    return "[object String]" === Object.prototype.toString.call(t)
                }, qq.trimStr = function (t) {
                    return String.prototype.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
                }, qq.isFileOrInput = function (t) {
                    "use strict";
                    if (window.File && t instanceof File) return !0;
                    if (window.HTMLInputElement) {
                        if (t instanceof HTMLInputElement && t.type && "file" === t.type.toLowerCase()) return !0
                    } else if (t.tagName && "input" === t.tagName.toLowerCase() && t.type && "file" === t.type.toLowerCase()) return !0;
                    return !1
                }, qq.isBlob = function (t) {
                    "use strict";
                    return window.Blob && "[object Blob]" === Object.prototype.toString.call(t)
                }, qq.isXhrUploadSupported = function () {
                    "use strict";
                    var t = document.createElement("input");
                    return t.type = "file", void 0 !== t.multiple && "undefined" != typeof File && "undefined" != typeof FormData && "undefined" != typeof (new XMLHttpRequest).upload
                }, qq.isFolderDropSupported = function (t) {
                    "use strict";
                    return t.items && t.items[0].webkitGetAsEntry
                }, qq.isFileChunkingSupported = function () {
                    "use strict";
                    return !qq.android() && qq.isXhrUploadSupported() && (void 0 !== File.prototype.slice || void 0 !== File.prototype.webkitSlice || void 0 !== File.prototype.mozSlice)
                }, qq.extend = function (t, e, n) {
                    "use strict";
                    qq.each(e, function (e, i) {
                        n && qq.isObject(i) ? (void 0 === t[e] && (t[e] = {}), qq.extend(t[e], i, !0)) : t[e] = i
                    })
                }, qq.indexOf = function (t, e, n) {
                    "use strict";
                    if (t.indexOf) return t.indexOf(e, n);
                    n = n || 0;
                    var i = t.length;
                    for (0 > n && (n += i); i > n; n += 1) if (t.hasOwnProperty(n) && t[n] === e) return n;
                    return -1
                }, qq.getUniqueId = function () {
                    "use strict";
                    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) {
                        var e = 16 * Math.random() | 0, n = "x" == t ? e : 3 & e | 8;
                        return n.toString(16)
                    })
                }, qq.ie = function () {
                    "use strict";
                    return -1 !== navigator.userAgent.indexOf("MSIE")
                }, qq.ie10 = function () {
                    "use strict";
                    return -1 !== navigator.userAgent.indexOf("MSIE 10")
                }, qq.safari = function () {
                    "use strict";
                    return void 0 !== navigator.vendor && -1 !== navigator.vendor.indexOf("Apple")
                }, qq.chrome = function () {
                    "use strict";
                    return void 0 !== navigator.vendor && -1 !== navigator.vendor.indexOf("Google")
                }, qq.firefox = function () {
                    "use strict";
                    return -1 !== navigator.userAgent.indexOf("Mozilla") && void 0 !== navigator.vendor && "" === navigator.vendor
                }, qq.windows = function () {
                    "use strict";
                    return "Win32" === navigator.platform
                }, qq.android = function () {
                    "use strict";
                    return -1 !== navigator.userAgent.toLowerCase().indexOf("android")
                }, qq.preventDefault = function (t) {
                    "use strict";
                    t.preventDefault ? t.preventDefault() : t.returnValue = !1
                }, qq.toElement = function () {
                    "use strict";
                    var t = document.createElement("div");
                    return function (e) {
                        t.innerHTML = e;
                        var n = t.firstChild;
                        return t.removeChild(n), n
                    }
                }(), qq.each = function (t, e) {
                    "use strict";
                    var n, i;
                    if (t) for (n in t) if (Object.prototype.hasOwnProperty.call(t, n) && (i = e(n, t[n]), i === !1)) break
                }, qq.obj2url = function (t, e, n) {
                    "use strict";
                    var i, o, r = [], s = "&", a = function (t, n) {
                        var i = e ? /\[\]$/.test(e) ? e : e + "[" + n + "]" : n;
                        "undefined" !== i && "undefined" !== n && r.push("object" == typeof t ? qq.obj2url(t, i, !0) : "[object Function]" === Object.prototype.toString.call(t) ? encodeURIComponent(i) + "=" + encodeURIComponent(t()) : encodeURIComponent(i) + "=" + encodeURIComponent(t))
                    };
                    if (!n && e) s = /\?/.test(e) ? /\?$/.test(e) ? "" : "&" : "?", r.push(e), r.push(qq.obj2url(t)); else if ("[object Array]" === Object.prototype.toString.call(t) && "undefined" != typeof t) for (i = -1, o = t.length; o > i; i += 1) a(t[i], i); else if ("undefined" != typeof t && null !== t && "object" == typeof t) for (i in t) t.hasOwnProperty(i) && a(t[i], i); else r.push(encodeURIComponent(e) + "=" + encodeURIComponent(t));
                    return e ? r.join(s) : r.join(s).replace(/^&/, "").replace(/%20/g, "+")
                }, qq.obj2FormData = function (t, e, n) {
                    "use strict";
                    return e || (e = new FormData), qq.each(t, function (t, i) {
                        t = n ? n + "[" + t + "]" : t, qq.isObject(i) ? qq.obj2FormData(i, e, t) : qq.isFunction(i) ? e.append(t, i()) : e.append(t, i)
                    }), e
                }, qq.obj2Inputs = function (t, e) {
                    "use strict";
                    var n;
                    return e || (e = document.createElement("form")), qq.obj2FormData(t, {
                        append: function (t, i) {
                            n = document.createElement("input"), n.setAttribute("name", t), n.setAttribute("value", i), e.appendChild(n)
                        }
                    }), e
                }, qq.setCookie = function (t, e, n) {
                    var i = new Date, o = "";
                    n && (i.setTime(i.getTime() + 24 * n * 60 * 60 * 1e3), o = "; expires=" + i.toGMTString()), document.cookie = t + "=" + e + o + "; path=/"
                }, qq.getCookie = function (t) {
                    for (var e, n = t + "=", i = document.cookie.split(";"), o = 0; o < i.length; o++) {
                        for (e = i[o]; " " == e.charAt(0);) e = e.substring(1, e.length);
                        if (0 === e.indexOf(n)) return e.substring(n.length, e.length)
                    }
                }, qq.getCookieNames = function (t) {
                    var e = document.cookie.split(";"), n = [];
                    return qq.each(e, function (e, i) {
                        i = qq.trimStr(i);
                        var o = i.indexOf("=");
                        i.match(t) && n.push(i.substr(0, o))
                    }), n
                }, qq.deleteCookie = function (t) {
                    qq.setCookie(t, "", -1)
                }, qq.areCookiesEnabled = function () {
                    var t = 1e5 * Math.random(), e = "qqCookieTest:" + t;
                    return qq.setCookie(e, 1), qq.getCookie(e) ? (qq.deleteCookie(e), !0) : !1
                }, qq.parseJson = function (json) {
                    return window.JSON && qq.isFunction(JSON.parse) ? JSON.parse(json) : eval("(" + json + ")")
                }, qq.DisposeSupport = function () {
                    "use strict";
                    var t = [];
                    return {
                        dispose: function () {
                            var e;
                            do e = t.shift(), e && e(); while (e)
                        }, attach: function () {
                            var t = arguments;
                            this.addDisposer(qq(t[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)))
                        }, addDisposer: function (e) {
                            t.push(e)
                        }
                    }
                }, qq.supportedFeatures = function () {
                    function t() {
                        var t, e = !0;
                        try {
                            t = document.createElement("input"), t.type = "file", qq(t).hide(), t.disabled && (e = !1)
                        } catch (n) {
                            e = !1
                        }
                        return e
                    }

                    function e() {
                        return qq.chrome() && void 0 !== navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)
                    }

                    function n() {
                        return qq.chrome() && void 0 !== navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)
                    }

                    var i, o, r, s, a, l, c, d;
                    return i = t(), o = i && qq.isXhrUploadSupported(), r = o && e(), s = o && qq.isFileChunkingSupported(), a = o && s && qq.areCookiesEnabled(), l = o && n(), c = i && (void 0 !== window.postMessage || o), d = o, {
                        uploading: i,
                        ajaxUploading: o,
                        fileDrop: o,
                        folderDrop: r,
                        chunking: s,
                        resume: a,
                        uploadCustomHeaders: o,
                        uploadNonMultipart: o,
                        itemSizeValidation: o,
                        uploadViaPaste: l,
                        progressBar: o,
                        uploadCors: c,
                        deleteFileCors: d
                    }
                }(), qq.Promise = function () {
                    "use strict";
                    var t, e, n, i, o, r = 0;
                    return {
                        then: function (o, s) {
                            return 0 === r ? (n = o, i = s) : -1 === r && s ? s(e) : o && o(t), this
                        }, done: function (t) {
                            return 0 === r ? o = t : t(), this
                        }, success: function (e) {
                            return r = 1, t = e, n && n(e), o && o(), this
                        }, failure: function (t) {
                            return r = -1, e = t, i && i(t), o && o(), this
                        }
                    }
                }, qq.UploadButton = function (t) {
                    "use strict";

                    function e() {
                        var t = document.createElement("input");
                        return o.multiple && t.setAttribute("multiple", "multiple"), o.acceptFiles && t.setAttribute("accept", o.acceptFiles), t.setAttribute("type", "file"), t.setAttribute("name", o.name), qq(t).css({
                            position: "absolute",
                            right: 0,
                            top: 0,
                            fontFamily: "Arial",
                            fontSize: "118px",
                            margin: 0,
                            padding: 0,
                            cursor: "pointer",
                            opacity: 0
                        }), o.element.appendChild(t), i.attach(t, "change", function () {
                            o.onChange(t)
                        }), i.attach(t, "mouseover", function () {
                            qq(o.element).addClass(o.hoverClass)
                        }), i.attach(t, "mouseout", function () {
                            qq(o.element).removeClass(o.hoverClass)
                        }), i.attach(t, "focus", function () {
                            qq(o.element).addClass(o.focusClass)
                        }), i.attach(t, "blur", function () {
                            qq(o.element).removeClass(o.focusClass)
                        }), window.attachEvent && t.setAttribute("tabIndex", "-1"), t
                    }

                    var n, i = new qq.DisposeSupport, o = {
                        element: null, multiple: !1, acceptFiles: null, name: "file", onChange: function (t) {
                        }, hoverClass: "qq-upload-button-hover", focusClass: "qq-upload-button-focus"
                    };
                    return qq.extend(o, t), qq(o.element).css({
                        position: "relative",
                        overflow: "hidden",
                        direction: "ltr"
                    }), n = e(), {
                        getInput: function () {
                            return n
                        }, reset: function () {
                            n.parentNode && qq(n).remove(), qq(o.element).removeClass(o.focusClass), n = e()
                        }
                    }
                }, qq.PasteSupport = function (t) {
                    "use strict";

                    function e(t) {
                        return t.type && 0 === t.type.indexOf("image/")
                    }

                    function n() {
                        qq(o.targetElement).attach("paste", function (t) {
                            var n = t.clipboardData;
                            n && qq.each(n.items, function (t, n) {
                                if (e(n)) {
                                    var i = n.getAsFile();
                                    o.callbacks.pasteReceived(i)
                                }
                            })
                        })
                    }

                    function i() {
                        r && r()
                    }

                    var o, r;
                    return o = {
                        targetElement: null, callbacks: {
                            log: function (t, e) {
                            }, pasteReceived: function (t) {
                            }
                        }
                    }, qq.extend(o, t), n(), {
                        reset: function () {
                            i()
                        }
                    }
                }, qq.FineUploaderBasic = function (t) {
                    this._options = {
                        debug: !1,
                        button: null,
                        multiple: !0,
                        maxConnections: 3,
                        disableCancelForFormUploads: !1,
                        autoUpload: !0,
                        request: {
                            endpoint: "/server/upload",
                            params: {},
                            paramsInBody: !0,
                            customHeaders: {},
                            forceMultipart: !0,
                            inputName: "qqfile",
                            uuidName: "qquuid",
                            totalFileSizeName: "qqtotalfilesize"
                        },
                        validation: {
                            allowedExtensions: [],
                            sizeLimit: 0,
                            minSizeLimit: 0,
                            itemLimit: 0,
                            stopOnFirstInvalidFile: !0
                        },
                        callbacks: {
                            onSubmit: function (t, e) {
                            }, onSubmitted: function (t, e) {
                            }, onComplete: function (t, e, n, i) {
                            }, onCancel: function (t, e) {
                            }, onUpload: function (t, e) {
                            }, onUploadChunk: function (t, e, n) {
                            }, onResume: function (t, e, n) {
                            }, onProgress: function (t, e, n, i) {
                            }, onError: function (t, e, n, i) {
                            }, onAutoRetry: function (t, e, n) {
                            }, onManualRetry: function (t, e) {
                            }, onValidateBatch: function (t) {
                            }, onValidate: function (t) {
                            }, onSubmitDelete: function (t) {
                            }, onDelete: function (t) {
                            }, onDeleteComplete: function (t, e, n) {
                            }, onPasteReceived: function (t) {
                            }
                        },
                        messages: {
                            typeError: "{file} has an invalid extension. Valid extension(s): {extensions}.",
                            sizeError: "{file} is too large, maximum file size is {sizeLimit}.",
                            minSizeError: "{file} is too small, minimum file size is {minSizeLimit}.",
                            emptyError: "{file} is empty, please select files again without it.",
                            noFilesError: "No files to upload.",
                            tooManyItemsError: "Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",
                            retryFailTooManyItems: "Retry failed - you have reached your file limit.",
                            onLeave: "The files are being uploaded, if you leave now the upload will be cancelled."
                        },
                        retry: {
                            enableAuto: !1,
                            maxAutoAttempts: 3,
                            autoAttemptDelay: 5,
                            preventRetryResponseProperty: "preventRetry"
                        },
                        classes: {buttonHover: "qq-upload-button-hover", buttonFocus: "qq-upload-button-focus"},
                        chunking: {
                            enabled: !1,
                            partSize: 2e6,
                            paramNames: {
                                partIndex: "qqpartindex",
                                partByteOffset: "qqpartbyteoffset",
                                chunkSize: "qqchunksize",
                                totalFileSize: "qqtotalfilesize",
                                totalParts: "qqtotalparts",
                                filename: "qqfilename"
                            }
                        },
                        resume: {enabled: !1, id: null, cookiesExpireIn: 7, paramNames: {resuming: "qqresume"}},
                        formatFileName: function (t) {
                            return t.length > 33 && (t = t.slice(0, 19) + "..." + t.slice(-14)), t
                        },
                        text: {
                            defaultResponseError: "Upload failure reason unknown",
                            sizeSymbols: ["kB", "MB", "GB", "TB", "PB", "EB"]
                        },
                        deleteFile: {enabled: !1, endpoint: "/server/upload", customHeaders: {}, params: {}},
                        cors: {expected: !1, sendCredentials: !1},
                        blobs: {defaultName: "misc_data", paramNames: {name: "qqblobname"}},
                        paste: {targetElement: null, defaultName: "pasted_image"}
                    }, qq.extend(this._options, t, !0), this._wrapCallbacks(), this._disposeSupport = new qq.DisposeSupport, this._filesInProgress = [], this._storedIds = [], this._autoRetries = [], this._retryTimeouts = [], this._preventRetries = [], this._netUploadedOrQueued = 0, this._netUploaded = 0, this._paramsStore = this._createParamsStore("request"), this._deleteFileParamsStore = this._createParamsStore("deleteFile"), this._endpointStore = this._createEndpointStore("request"), this._deleteFileEndpointStore = this._createEndpointStore("deleteFile"), this._handler = this._createUploadHandler(), this._deleteHandler = this._createDeleteHandler(), this._options.button && (this._button = this._createUploadButton(this._options.button)), this._options.paste.targetElement && (this._pasteHandler = this._createPasteHandler()), this._preventLeaveInProgress()
                }, qq.FineUploaderBasic.prototype = {
                    log: function (t, e) {
                        !this._options.debug || e && "info" !== e ? e && "info" !== e && qq.log("[FineUploader] " + t, e) : qq.log("[FineUploader] " + t)
                    }, setParams: function (t, e) {
                        null == e ? this._options.request.params = t : this._paramsStore.setParams(t, e)
                    }, setDeleteFileParams: function (t, e) {
                        null == e ? this._options.deleteFile.params = t : this._deleteFileParamsStore.setParams(t, e)
                    }, setEndpoint: function (t, e) {
                        null == e ? this._options.request.endpoint = t : this._endpointStore.setEndpoint(t, e)
                    }, getInProgress: function () {
                        return this._filesInProgress.length
                    }, getNetUploads: function () {
                        return this._netUploaded
                    }, uploadStoredFiles: function () {
                        "use strict";
                        for (var t; this._storedIds.length;) t = this._storedIds.shift(), this._filesInProgress.push(t), this._handler.upload(t)
                    }, clearStoredFiles: function () {
                        this._storedIds = []
                    }, retry: function (t) {
                        return this._onBeforeManualRetry(t) ? (this._netUploadedOrQueued++, this._handler.retry(t), !0) : !1
                    }, cancel: function (t) {
                        this._handler.cancel(t)
                    }, cancelAll: function () {
                        var t = [], e = this;
                        qq.extend(t, this._storedIds), qq.each(t, function (t, n) {
                            e.cancel(n)
                        }), this._handler.cancelAll()
                    }, reset: function () {
                        this.log("Resetting uploader..."), this._handler.reset(), this._filesInProgress = [], this._storedIds = [], this._autoRetries = [], this._retryTimeouts = [], this._preventRetries = [], this._button.reset(), this._paramsStore.reset(), this._endpointStore.reset(), this._netUploadedOrQueued = 0, this._netUploaded = 0, this._pasteHandler && this._pasteHandler.reset()
                    }, addFiles: function (t, e, n) {
                        var i, o, r = this, s = [];
                        if (t) {
                            for (window.FileList && t instanceof FileList || (t = [].concat(t)), i = 0; i < t.length; i += 1) o = t[i], qq.isFileOrInput(o) ? s.push(o) : r.log(o + " is not a File or INPUT element!  Ignoring!", "warn");
                            this.log("Processing " + s.length + " files or inputs..."), this._uploadFileOrBlobDataList(s, e, n)
                        }
                    }, addBlobs: function (t, e, n) {
                        if (t) {
                            var i = [].concat(t), o = [], r = this;
                            qq.each(i, function (t, e) {
                                qq.isBlob(e) && !qq.isFileOrInput(e) ? o.push({
                                    blob: e,
                                    name: r._options.blobs.defaultName
                                }) : qq.isObject(e) && e.blob && e.name ? o.push(e) : r.log("addBlobs: entry at index " + t + " is not a Blob or a BlobData object", "error")
                            }), this._uploadFileOrBlobDataList(o, e, n)
                        } else this.log("undefined or non-array parameter passed into addBlobs", "error")
                    }, getUuid: function (t) {
                        return this._handler.getUuid(t)
                    }, getResumableFilesData: function () {
                        return this._handler.getResumableFilesData()
                    }, getSize: function (t) {
                        return this._handler.getSize(t)
                    }, getName: function (t) {
                        return this._handler.getName(t)
                    }, getFile: function (t) {
                        return this._handler.getFile(t)
                    }, deleteFile: function (t) {
                        this._onSubmitDelete(t)
                    }, setDeleteFileEndpoint: function (t, e) {
                        null == e ? this._options.deleteFile.endpoint = t : this._deleteFileEndpointStore.setEndpoint(t, e)
                    }, _createUploadButton: function (t) {
                        var e = this, n = new qq.UploadButton({
                            element: t,
                            multiple: this._options.multiple && qq.supportedFeatures.ajaxUploading,
                            acceptFiles: this._options.validation.acceptFiles,
                            onChange: function (t) {
                                e._onInputChange(t)
                            },
                            hoverClass: this._options.classes.buttonHover,
                            focusClass: this._options.classes.buttonFocus
                        });
                        return this._disposeSupport.addDisposer(function () {
                            n.dispose()
                        }), n
                    }, _createUploadHandler: function () {
                        var t = this;
                        return new qq.UploadHandler({
                            debug: this._options.debug,
                            forceMultipart: this._options.request.forceMultipart,
                            maxConnections: this._options.maxConnections,
                            customHeaders: this._options.request.customHeaders,
                            inputName: this._options.request.inputName,
                            uuidParamName: this._options.request.uuidName,
                            totalFileSizeParamName: this._options.request.totalFileSizeName,
                            cors: this._options.cors,
                            demoMode: this._options.demoMode,
                            paramsInBody: this._options.request.paramsInBody,
                            paramsStore: this._paramsStore,
                            endpointStore: this._endpointStore,
                            chunking: this._options.chunking,
                            resume: this._options.resume,
                            blobs: this._options.blobs,
                            log: function (e, n) {
                                t.log(e, n)
                            },
                            onProgress: function (e, n, i, o) {
                                t._onProgress(e, n, i, o), t._options.callbacks.onProgress(e, n, i, o)
                            },
                            onComplete: function (e, n, i, o) {
                                t._onComplete(e, n, i, o), t._options.callbacks.onComplete(e, n, i, o)
                            },
                            onCancel: function (e, n) {
                                t._onCancel(e, n), t._options.callbacks.onCancel(e, n)
                            },
                            onUpload: function (e, n) {
                                t._onUpload(e, n), t._options.callbacks.onUpload(e, n)
                            },
                            onUploadChunk: function (e, n, i) {
                                t._options.callbacks.onUploadChunk(e, n, i)
                            },
                            onResume: function (e, n, i) {
                                return t._options.callbacks.onResume(e, n, i)
                            },
                            onAutoRetry: function (e, n, i, o) {
                                return t._preventRetries[e] = i[t._options.retry.preventRetryResponseProperty], t._shouldAutoRetry(e, n, i) ? (t._maybeParseAndSendUploadError(e, n, i, o), t._options.callbacks.onAutoRetry(e, n, t._autoRetries[e] + 1), t._onBeforeAutoRetry(e, n), t._retryTimeouts[e] = setTimeout(function () {
                                    t._onAutoRetry(e, n, i)
                                }, 1e3 * t._options.retry.autoAttemptDelay), !0) : !1
                            }
                        })
                    }, _createDeleteHandler: function () {
                        var t = this;
                        return new qq.DeleteFileAjaxRequestor({
                            maxConnections: this._options.maxConnections,
                            customHeaders: this._options.deleteFile.customHeaders,
                            paramsStore: this._deleteFileParamsStore,
                            endpointStore: this._deleteFileEndpointStore,
                            demoMode: this._options.demoMode,
                            cors: this._options.cors,
                            log: function (e, n) {
                                t.log(e, n)
                            },
                            onDelete: function (e) {
                                t._onDelete(e), t._options.callbacks.onDelete(e)
                            },
                            onDeleteComplete: function (e, n, i) {
                                t._onDeleteComplete(e, n, i), t._options.callbacks.onDeleteComplete(e, n, i)
                            }
                        })
                    }, _createPasteHandler: function () {
                        var t = this;
                        return new qq.PasteSupport({
                            targetElement: this._options.paste.targetElement,
                            callbacks: {
                                log: function (e, n) {
                                    t.log(e, n)
                                }, pasteReceived: function (e) {
                                    var n = t._options.callbacks.onPasteReceived, i = n(e);
                                    i && i.then ? i.then(function (n) {
                                        t._handlePasteSuccess(e, n)
                                    }, function (e) {
                                        t.log("Ignoring pasted image per paste received callback.  Reason = '" + e + "'")
                                    }) : t._handlePasteSuccess(e)
                                }
                            }
                        })
                    }, _handlePasteSuccess: function (t, e) {
                        var n = t.type.split("/")[1], i = e;
                        null == i && (i = this._options.paste.defaultName), i += "." + n, this.addBlobs({
                            name: i,
                            blob: t
                        })
                    }, _preventLeaveInProgress: function () {
                        var t = this;
                        this._disposeSupport.attach(window, "beforeunload", function (e) {
                            if (t._filesInProgress.length) {
                                var e = e || window.event;
                                return e.returnValue = t._options.messages.onLeave, t._options.messages.onLeave
                            }
                        })
                    }, _onSubmit: function (t, e) {
                        this._netUploadedOrQueued++, this._options.autoUpload && this._filesInProgress.push(t)
                    }, _onProgress: function (t, e, n, i) {
                    }, _onComplete: function (t, e, n, i) {
                        n.success ? this._netUploaded++ : this._netUploadedOrQueued--, this._removeFromFilesInProgress(t), this._maybeParseAndSendUploadError(t, e, n, i)
                    }, _onCancel: function (t, e) {
                        this._netUploadedOrQueued--, this._removeFromFilesInProgress(t), clearTimeout(this._retryTimeouts[t]);
                        var n = qq.indexOf(this._storedIds, t);
                        !this._options.autoUpload && n >= 0 && this._storedIds.splice(n, 1)
                    }, _isDeletePossible: function () {
                        return this._options.deleteFile.enabled && (!this._options.cors.expected || qq.supportedFeatures.deleteFileCors)
                    }, _onSubmitDelete: function (t) {
                        return this._isDeletePossible() ? void (this._options.callbacks.onSubmitDelete(t) !== !1 && this._deleteHandler.sendDelete(t, this.getUuid(t))) : (this.log("Delete request ignored for ID " + t + ", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.", "warn"), !1)
                    }, _onDelete: function (t) {
                    }, _onDeleteComplete: function (t, e, n) {
                        var i = this._handler.getName(t);
                        n ? (this.log("Delete request for '" + i + "' has failed.", "error"), this._options.callbacks.onError(t, i, "Delete request failed with response code " + e.status, e)) : (this._netUploadedOrQueued--, this._netUploaded--, this.log("Delete request for '" + i + "' has succeeded."))
                    }, _removeFromFilesInProgress: function (t) {
                        var e = qq.indexOf(this._filesInProgress, t);
                        e >= 0 && this._filesInProgress.splice(e, 1)
                    }, _onUpload: function (t, e) {
                    }, _onInputChange: function (t) {
                        this.addFiles(qq.supportedFeatures.ajaxUploading ? t.files : t), this._button.reset()
                    }, _onBeforeAutoRetry: function (t, e) {
                        this.log("Waiting " + this._options.retry.autoAttemptDelay + " seconds before retrying " + e + "...")
                    }, _onAutoRetry: function (t, e, n) {
                        this.log("Retrying " + e + "..."), this._autoRetries[t]++, this._handler.retry(t)
                    }, _shouldAutoRetry: function (t, e, n) {
                        return !this._preventRetries[t] && this._options.retry.enableAuto ? (void 0 === this._autoRetries[t] && (this._autoRetries[t] = 0), this._autoRetries[t] < this._options.retry.maxAutoAttempts) : !1
                    }, _onBeforeManualRetry: function (t) {
                        var e = this._options.validation.itemLimit;
                        if (this._preventRetries[t]) return this.log("Retries are forbidden for id " + t, "warn"), !1;
                        if (this._handler.isValid(t)) {
                            var n = this._handler.getName(t);
                            return this._options.callbacks.onManualRetry(t, n) === !1 ? !1 : e > 0 && this._netUploadedOrQueued + 1 > e ? (this._itemError("retryFailTooManyItems", ""), !1) : (this.log("Retrying upload for '" + n + "' (id: " + t + ")..."), this._filesInProgress.push(t), !0)
                        }
                        return this.log("'" + t + "' is not a valid file ID", "error"), !1
                    }, _maybeParseAndSendUploadError: function (t, e, n, i) {
                        if (!n.success) if (i && 200 !== i.status && !n.error) this._options.callbacks.onError(t, e, "XHR returned response code " + i.status, i); else {
                            var o = n.error ? n.error : this._options.text.defaultResponseError;
                            this._options.callbacks.onError(t, e, o, i)
                        }
                    }, _uploadFileOrBlobDataList: function (t, e, n) {
                        var i, o = this._getValidationDescriptors(t), r = this._isBatchValid(o);
                        if (r) if (t.length > 0) {
                            for (i = 0; i < t.length; i++) if (this._validateFileOrBlobData(t[i])) this._upload(t[i], e, n); else if (this._options.validation.stopOnFirstInvalidFile) return
                        } else this._itemError("noFilesError", "")
                    }, _upload: function (t, e, n) {
                        var i = this._handler.add(t), o = this._handler.getName(i);
                        e && this.setParams(e, i), n && this.setEndpoint(n, i), this._options.callbacks.onSubmit(i, o) !== !1 && (this._onSubmit(i, o), this._options.callbacks.onSubmitted(i, o), this._options.autoUpload ? this._handler.upload(i) : this._storeForLater(i))
                    }, _storeForLater: function (t) {
                        this._storedIds.push(t)
                    }, _isBatchValid: function (t) {
                        var e, n = this._options.validation.itemLimit, i = this._netUploadedOrQueued + t.length,
                            o = this._options.callbacks.onValidateBatch(t) !== !1;
                        return o && (0 === n || n >= i ? o = !0 : (o = !1, e = this._options.messages.tooManyItemsError.replace(/\{netItems\}/g, i).replace(/\{itemLimit\}/g, n), this._batchError(e))), o
                    }, _validateFileOrBlobData: function (t) {
                        var e, n, i;
                        return e = this._getValidationDescriptor(t), n = e.name, i = e.size, this._options.callbacks.onValidate(e) === !1 ? !1 : qq.isFileOrInput(t) && !this._isAllowedExtension(n) ? (this._itemError("typeError", n), !1) : 0 === i ? (this._itemError("emptyError", n), !1) : i && this._options.validation.sizeLimit && i > this._options.validation.sizeLimit ? (this._itemError("sizeError", n), !1) : i && i < this._options.validation.minSizeLimit ? (this._itemError("minSizeError", n), !1) : !0
                    }, _itemError: function (t, e) {
                        function n(t, e) {
                            r = r.replace(t, e)
                        }

                        var i, o, r = this._options.messages[t], s = [], a = [].concat(e), l = a[0];
                        return qq.each(this._options.validation.allowedExtensions, function (t, e) {
                            qq.isString(e) && s.push(e)
                        }), i = s.join(", ").toLowerCase(), n("{file}", this._options.formatFileName(l)), n("{extensions}", i), n("{sizeLimit}", this._formatSize(this._options.validation.sizeLimit)), n("{minSizeLimit}", this._formatSize(this._options.validation.minSizeLimit)), o = r.match(/(\{\w+\})/g), null !== o && qq.each(o, function (t, e) {
                            n(e, a[t])
                        }), this._options.callbacks.onError(null, l, r), r
                    }, _batchError: function (t) {
                        this._options.callbacks.onError(null, null, t)
                    }, _isAllowedExtension: function (t) {
                        var e = this._options.validation.allowedExtensions, n = !1;
                        return e.length ? (qq.each(e, function (e, i) {
                            if (qq.isString(i)) {
                                var o = new RegExp("\\." + i + "$", "i");
                                if (null != t.match(o)) return n = !0, !1
                            }
                        }), n) : !0
                    }, _formatSize: function (t) {
                        var e = -1;
                        do t /= 1024, e++; while (t > 99);
                        return Math.max(t, .1).toFixed(1) + this._options.text.sizeSymbols[e]
                    }, _wrapCallbacks: function () {
                        var t, e;
                        t = this, e = function (e, n, i) {
                            try {
                                return n.apply(t, i)
                            } catch (o) {
                                t.log("Caught exception in '" + e + "' callback - " + o.message, "error")
                            }
                        };
                        for (var n in this._options.callbacks) !function () {
                            var i, o;
                            i = n, o = t._options.callbacks[i], t._options.callbacks[i] = function () {
                                return e(i, o, arguments)
                            }
                        }()
                    }, _parseFileOrBlobDataName: function (t) {
                        var e;
                        return e = qq.isFileOrInput(t) ? t.value ? t.value.replace(/.*(\/|\\)/, "") : null !== t.fileName && void 0 !== t.fileName ? t.fileName : t.name : t.name
                    }, _parseFileOrBlobDataSize: function (t) {
                        var e;
                        return qq.isFileOrInput(t) ? t.value || (e = null !== t.fileSize && void 0 !== t.fileSize ? t.fileSize : t.size) : e = t.blob.size, e
                    }, _getValidationDescriptor: function (t) {
                        var e, n, i;
                        return i = {}, e = this._parseFileOrBlobDataName(t), n = this._parseFileOrBlobDataSize(t), i.name = e, void 0 !== n && (i.size = n), i
                    }, _getValidationDescriptors: function (t) {
                        var e = this, n = [];
                        return qq.each(t, function (t, i) {
                            n.push(e._getValidationDescriptor(i))
                        }), n
                    }, _createParamsStore: function (t) {
                        var e = {}, n = this;
                        return {
                            setParams: function (t, n) {
                                var i = {};
                                qq.extend(i, t), e[n] = i
                            }, getParams: function (i) {
                                var o = {};
                                return null != i && e[i] ? qq.extend(o, e[i]) : qq.extend(o, n._options[t].params), o
                            }, remove: function (t) {
                                return delete e[t]
                            }, reset: function () {
                                e = {}
                            }
                        }
                    }, _createEndpointStore: function (t) {
                        var e = {}, n = this;
                        return {
                            setEndpoint: function (t, n) {
                                e[n] = t
                            }, getEndpoint: function (i) {
                                return null != i && e[i] ? e[i] : n._options[t].endpoint
                            }, remove: function (t) {
                                return delete e[t]
                            }, reset: function () {
                                e = {}
                            }
                        }
                    }
                }, qq.DragAndDrop = function (t) {
                    "use strict";

                    function e(t) {
                        a.callbacks.dropLog("Grabbed " + t.length + " dropped files."), l.dropDisabled(!1), a.callbacks.processingDroppedFilesComplete(t)
                    }

                    function n(t) {
                        var e, i, o = new qq.Promise;
                        return t.isFile ? t.file(function (t) {
                            c.push(t), o.success()
                        }, function (e) {
                            a.callbacks.dropLog("Problem parsing '" + t.fullPath + "'.  FileError code " + e.code + ".", "error"), o.failure()
                        }) : t.isDirectory && (e = t.createReader(), e.readEntries(function (t) {
                            var e = t.length;
                            for (i = 0; i < t.length; i += 1) n(t[i]).done(function () {
                                e -= 1, 0 === e && o.success()
                            });
                            t.length || o.success()
                        }, function (e) {
                            a.callbacks.dropLog("Problem parsing '" + t.fullPath + "'.  FileError code " + e.code + ".", "error"), o.failure()
                        })), o
                    }

                    function i(t) {
                        var e, i, o, r = [], s = new qq.Promise;
                        if (a.callbacks.processingDroppedFiles(), l.dropDisabled(!0), t.files.length > 1 && !a.allowMultipleItems) a.callbacks.processingDroppedFilesComplete([]), a.callbacks.dropError("tooManyFilesError", ""), l.dropDisabled(!1), s.failure(); else {
                            if (c = [], qq.isFolderDropSupported(t)) for (i = t.items, e = 0; e < i.length; e += 1) o = i[e].webkitGetAsEntry(), o && (o.isFile ? c.push(i[e].getAsFile()) : r.push(n(o).done(function () {
                                r.pop(), 0 === r.length && s.success()
                            }))); else c = t.files;
                            0 === r.length && s.success()
                        }
                        return s
                    }

                    function o(t) {
                        l = new qq.UploadDropZone({
                            element: t, onEnter: function (e) {
                                qq(t).addClass(a.classes.dropActive), e.stopPropagation()
                            }, onLeaveNotDescendants: function (e) {
                                qq(t).removeClass(a.classes.dropActive)
                            }, onDrop: function (n) {
                                a.hideDropZonesBeforeEnter && qq(t).hide(), qq(t).removeClass(a.classes.dropActive), i(n.dataTransfer).done(function () {
                                    e(c)
                                })
                            }
                        }), d.addDisposer(function () {
                            l.dispose()
                        }), a.hideDropZonesBeforeEnter && qq(t).hide()
                    }

                    function r(t) {
                        var e;
                        return qq.each(t.dataTransfer.types, function (t, n) {
                            return "Files" === n ? (e = !0, !1) : void 0
                        }), e
                    }

                    function s() {
                        var t = a.dropZoneElements;
                        qq.each(t, function (t, e) {
                            o(e)
                        }), !t.length || qq.ie() && !qq.ie10() || d.attach(document, "dragenter", function (e) {
                            !l.dropDisabled() && r(e) && qq.each(t, function (t, e) {
                                qq(e).css({display: "block"})
                            })
                        }), d.attach(document, "dragleave", function (e) {
                            a.hideDropZonesBeforeEnter && qq.FineUploader.prototype._leaving_document_out(e) && qq.each(t, function (t, e) {
                                qq(e).hide()
                            })
                        }), d.attach(document, "drop", function (e) {
                            a.hideDropZonesBeforeEnter && qq.each(t, function (t, e) {
                                qq(e).hide()
                            }), e.preventDefault()
                        })
                    }

                    var a, l, c = [], d = new qq.DisposeSupport;
                    return a = {
                        dropZoneElements: [],
                        hideDropZonesBeforeEnter: !1,
                        allowMultipleItems: !0,
                        classes: {dropActive: null},
                        callbacks: new qq.DragAndDrop.callbacks
                    }, qq.extend(a, t, !0), s(), {
                        setupExtraDropzone: function (t) {
                            a.dropZoneElements.push(t), o(t)
                        }, removeDropzone: function (t) {
                            var e, n = a.dropZoneElements;
                            for (e in n) if (n[e] === t) return n.splice(e, 1)
                        }, dispose: function () {
                            d.dispose(), l.dispose()
                        }
                    }
                }, qq.DragAndDrop.callbacks = function () {
                    return {
                        processingDroppedFiles: function () {
                        }, processingDroppedFilesComplete: function (t) {
                        }, dropError: function (t, e) {
                            qq.log("Drag & drop error code '" + t + " with these specifics: '" + e + "'", "error")
                        }, dropLog: function (t, e) {
                            qq.log(t, e)
                        }
                    }
                }, qq.UploadDropZone = function (t) {
                    "use strict";

                    function e() {
                        return qq.safari() || qq.firefox() && qq.windows()
                    }

                    function n(t) {
                        c || (e ? d.attach(document, "dragover", function (t) {
                            t.preventDefault()
                        }) : d.attach(document, "dragover", function (t) {
                            t.dataTransfer && (t.dataTransfer.dropEffect = "none", t.preventDefault())
                        }), c = !0)
                    }

                    function i(t) {
                        if (qq.ie() && !qq.ie10()) return !1;
                        var e, n = t.dataTransfer, i = qq.safari();
                        return e = qq.ie10() ? !0 : "none" !== n.effectAllowed, n && e && (n.files || !i && n.types.contains && n.types.contains("Files"))
                    }

                    function o(t) {
                        return void 0 !== t && (l = t), l
                    }

                    function r() {
                        d.attach(a, "dragover", function (t) {
                            if (i(t)) {
                                var e = qq.ie() ? null : t.dataTransfer.effectAllowed;
                                t.dataTransfer.dropEffect = "move" === e || "linkMove" === e ? "move" : "copy", t.stopPropagation(), t.preventDefault()
                            }
                        }), d.attach(a, "dragenter", function (t) {
                            if (!o()) {
                                if (!i(t)) return;
                                s.onEnter(t)
                            }
                        }), d.attach(a, "dragleave", function (t) {
                            if (i(t)) {
                                s.onLeave(t);
                                var e = document.elementFromPoint(t.clientX, t.clientY);
                                qq(this).contains(e) || s.onLeaveNotDescendants(t)
                            }
                        }), d.attach(a, "drop", function (t) {
                            if (!o()) {
                                if (!i(t)) return;
                                t.preventDefault(), s.onDrop(t)
                            }
                        })
                    }

                    var s, a, l, c, d = new qq.DisposeSupport;
                    return s = {
                        element: null, onEnter: function (t) {
                        }, onLeave: function (t) {
                        }, onLeaveNotDescendants: function (t) {
                        }, onDrop: function (t) {
                        }
                    }, qq.extend(s, t), a = s.element, n(), r(), {
                        dropDisabled: function (t) {
                            return o(t)
                        }, dispose: function () {
                            d.dispose()
                        }
                    }
                }, qq.FineUploader = function (t) {
                    qq.FineUploaderBasic.apply(this, arguments), qq.extend(this._options, {
                        element: null,
                        listElement: null,
                        dragAndDrop: {extraDropzones: [], hideDropzones: !0, disableDefaultDropzone: !1},
                        text: {
                            uploadButton: "Upload a file",
                            cancelButton: "Cancel",
                            retryButton: "Retry",
                            deleteButton: "Delete",
                            failUpload: "Upload failed",
                            dragZone: "Drop files here to upload",
                            dropProcessing: "Processing dropped files...",
                            formatProgress: "{percent}% of {total_size}",
                            waitingForResponse: "Processing..."
                        },
                        template: '<div class="qq-uploader">' + (this._options.dragAndDrop && this._options.dragAndDrop.disableDefaultDropzone ? "" : '<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>') + (this._options.button ? "" : '<div class="qq-upload-button"><div>{uploadButtonText}</div></div>') + '<span class="qq-drop-processing"><span>{dropProcessingText}</span><span class="qq-drop-processing-spinner"></span></span>' + (this._options.listElement ? "" : '<ul class="qq-upload-list"></ul>') + "</div>",
                        fileTemplate: '<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><a class="qq-upload-delete" href="#">{deleteButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',
                        classes: {
                            button: "qq-upload-button",
                            drop: "qq-upload-drop-area",
                            dropActive: "qq-upload-drop-area-active",
                            list: "qq-upload-list",
                            progressBar: "qq-progress-bar",
                            file: "qq-upload-file",
                            spinner: "qq-upload-spinner",
                            finished: "qq-upload-finished",
                            retrying: "qq-upload-retrying",
                            retryable: "qq-upload-retryable",
                            size: "qq-upload-size",
                            cancel: "qq-upload-cancel",
                            deleteButton: "qq-upload-delete",
                            retry: "qq-upload-retry",
                            statusText: "qq-upload-status-text",
                            success: "qq-upload-success",
                            fail: "qq-upload-fail",
                            successIcon: null,
                            failIcon: null,
                            dropProcessing: "qq-drop-processing",
                            dropProcessingSpinner: "qq-drop-processing-spinner"
                        },
                        failedUploadTextDisplay: {
                            mode: "default",
                            maxChars: 50,
                            responseProperty: "error",
                            enableTooltip: !0
                        },
                        messages: {
                            tooManyFilesError: "You may only drop one file",
                            unsupportedBrowser: "Unrecoverable error - this browser does not permit file uploading of any kind."
                        },
                        retry: {
                            showAutoRetryNote: !0,
                            autoRetryNote: "Retrying {retryNum}/{maxAuto}...",
                            showButton: !1
                        },
                        deleteFile: {
                            forceConfirm: !1,
                            confirmMessage: "Are you sure you want to delete {filename}?",
                            deletingStatusText: "Deleting...",
                            deletingFailedText: "Delete failed"
                        },
                        display: {fileSizeOnSubmit: !1},
                        paste: {promptForName: !1, namePromptMessage: "Please name this image"},
                        showMessage: function (t) {
                            setTimeout(function () {
                                window.alert(t)
                            }, 0)
                        },
                        showConfirm: function (t, e, n) {
                            setTimeout(function () {
                                var i = window.confirm(t);
                                i ? e() : n && n()
                            }, 0)
                        },
                        showPrompt: function (t, e) {
                            var n = new qq.Promise, i = window.prompt(t, e);
                            return null != i && qq.trimStr(i).length > 0 ? n.success(i) : n.failure("Undefined or invalid user-supplied value."), n
                        }
                    }, !0), qq.extend(this._options, t, !0), !qq.supportedFeatures.uploading || this._options.cors.expected && !qq.supportedFeatures.uploadCors ? this._options.element.innerHTML = "<div>" + this._options.messages.unsupportedBrowser + "</div>" : (this._wrapCallbacks(), this._options.template = this._options.template.replace(/\{dragZoneText\}/g, this._options.text.dragZone), this._options.template = this._options.template.replace(/\{uploadButtonText\}/g, this._options.text.uploadButton), this._options.template = this._options.template.replace(/\{dropProcessingText\}/g, this._options.text.dropProcessing), this._options.fileTemplate = this._options.fileTemplate.replace(/\{cancelButtonText\}/g, this._options.text.cancelButton), this._options.fileTemplate = this._options.fileTemplate.replace(/\{retryButtonText\}/g, this._options.text.retryButton), this._options.fileTemplate = this._options.fileTemplate.replace(/\{deleteButtonText\}/g, this._options.text.deleteButton), this._options.fileTemplate = this._options.fileTemplate.replace(/\{statusText\}/g, ""), this._element = this._options.element, this._element.innerHTML = this._options.template, this._listElement = this._options.listElement || this._find(this._element, "list"), this._classes = this._options.classes, this._button || (this._button = this._createUploadButton(this._find(this._element, "button"))), this._bindCancelAndRetryEvents(), this._dnd = this._setupDragAndDrop(), this._options.paste.targetElement && this._options.paste.promptForName && this._setupPastePrompt())
                }, qq.extend(qq.FineUploader.prototype, qq.FineUploaderBasic.prototype), qq.extend(qq.FineUploader.prototype, {
                    clearStoredFiles: function () {
                        qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this, arguments), this._listElement.innerHTML = ""
                    }, addExtraDropzone: function (t) {
                        this._dnd.setupExtraDropzone(t)
                    }, removeExtraDropzone: function (t) {
                        return this._dnd.removeDropzone(t)
                    }, getItemByFileId: function (t) {
                        for (var e = this._listElement.firstChild; e;) {
                            if (e.qqFileId == t) return e;
                            e = e.nextSibling
                        }
                    }, reset: function () {
                        qq.FineUploaderBasic.prototype.reset.apply(this, arguments), this._element.innerHTML = this._options.template, this._listElement = this._options.listElement || this._find(this._element, "list"), this._options.button || (this._button = this._createUploadButton(this._find(this._element, "button"))), this._bindCancelAndRetryEvents(), this._dnd.dispose(), this._dnd = this._setupDragAndDrop()
                    }, _removeFileItem: function (t) {
                        var e = this.getItemByFileId(t);
                        qq(e).remove()
                    }, _setupDragAndDrop: function () {
                        var t, e = this, n = this._find(this._element, "dropProcessing"),
                            i = this._options.dragAndDrop.extraDropzones;
                        return t = function (t) {
                            t.preventDefault()
                        }, this._options.dragAndDrop.disableDefaultDropzone || i.push(this._find(this._options.element, "drop")), new qq.DragAndDrop({
                            dropZoneElements: i,
                            hideDropZonesBeforeEnter: this._options.dragAndDrop.hideDropzones,
                            allowMultipleItems: this._options.multiple,
                            classes: {dropActive: this._options.classes.dropActive},
                            callbacks: {
                                processingDroppedFiles: function () {
                                    var i = e._button.getInput();
                                    qq(n).css({display: "block"}), qq(i).attach("click", t)
                                }, processingDroppedFilesComplete: function (i) {
                                    var o = e._button.getInput();
                                    qq(n).hide(), qq(o).detach("click", t), i && e.addFiles(i)
                                }, dropError: function (t, n) {
                                    e._itemError(t, n)
                                }, dropLog: function (t, n) {
                                    e.log(t, n)
                                }
                            }
                        })
                    }, _leaving_document_out: function (t) {
                        return (qq.chrome() || qq.safari() && qq.windows()) && 0 == t.clientX && 0 == t.clientY || qq.firefox() && !t.relatedTarget
                    }, _storeForLater: function (t) {
                        qq.FineUploaderBasic.prototype._storeForLater.apply(this, arguments);
                        var e = this.getItemByFileId(t);
                        qq(this._find(e, "spinner")).hide()
                    }, _find: function (t, e) {
                        var n = qq(t).getByClass(this._options.classes[e])[0];
                        if (!n) throw new Error("element not found " + e);
                        return n
                    }, _onSubmit: function (t, e) {
                        qq.FineUploaderBasic.prototype._onSubmit.apply(this, arguments), this._addToList(t, e)
                    }, _onProgress: function (t, e, n, i) {
                        qq.FineUploaderBasic.prototype._onProgress.apply(this, arguments);
                        var o, r, s, a;
                        o = this.getItemByFileId(t), r = this._find(o, "progressBar"), s = Math.round(n / i * 100), n === i ? (a = this._find(o, "cancel"), qq(a).hide(), qq(r).hide(), qq(this._find(o, "statusText")).setText(this._options.text.waitingForResponse), this._displayFileSize(t)) : (this._displayFileSize(t, n, i), qq(r).css({display: "block"})), qq(r).css({width: s + "%"})
                    }, _onComplete: function (t, e, n, i) {
                        qq.FineUploaderBasic.prototype._onComplete.apply(this, arguments);
                        var o = this.getItemByFileId(t);
                        qq(this._find(o, "statusText")).clearText(), qq(o).removeClass(this._classes.retrying), qq(this._find(o, "progressBar")).hide(), (!this._options.disableCancelForFormUploads || qq.supportedFeatures.ajaxUploading) && qq(this._find(o, "cancel")).hide(), qq(this._find(o, "spinner")).hide(), n.success ? (this._isDeletePossible() && this._showDeleteLink(t), qq(o).addClass(this._classes.success), this._classes.successIcon && (this._find(o, "finished").style.display = "inline-block", qq(o).addClass(this._classes.successIcon))) : (qq(o).addClass(this._classes.fail), this._classes.failIcon && (this._find(o, "finished").style.display = "inline-block", qq(o).addClass(this._classes.failIcon)), this._options.retry.showButton && !this._preventRetries[t] && qq(o).addClass(this._classes.retryable), this._controlFailureTextDisplay(o, n))
                    }, _onUpload: function (t, e) {
                        qq.FineUploaderBasic.prototype._onUpload.apply(this, arguments), this._showSpinner(t)
                    }, _onCancel: function (t, e) {
                        qq.FineUploaderBasic.prototype._onCancel.apply(this, arguments), this._removeFileItem(t)
                    }, _onBeforeAutoRetry: function (t) {
                        var e, n, i, o, r, s;
                        qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this, arguments), e = this.getItemByFileId(t), n = this._find(e, "progressBar"), this._showCancelLink(e), n.style.width = 0, qq(n).hide(), this._options.retry.showAutoRetryNote && (i = this._find(e, "statusText"), o = this._autoRetries[t] + 1, r = this._options.retry.maxAutoAttempts, s = this._options.retry.autoRetryNote.replace(/\{retryNum\}/g, o), s = s.replace(/\{maxAuto\}/g, r), qq(i).setText(s), 1 === o && qq(e).addClass(this._classes.retrying))
                    }, _onBeforeManualRetry: function (t) {
                        var e = this.getItemByFileId(t);
                        return qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this, arguments) ? (this._find(e, "progressBar").style.width = 0, qq(e).removeClass(this._classes.fail), qq(this._find(e, "statusText")).clearText(), this._showSpinner(t), this._showCancelLink(e), !0) : (qq(e).addClass(this._classes.retryable), !1)
                    }, _onSubmitDelete: function (t) {
                        return this._isDeletePossible() ? void (this._options.callbacks.onSubmitDelete(t) !== !1 && (this._options.deleteFile.forceConfirm ? this._showDeleteConfirm(t) : this._sendDeleteRequest(t))) : (this.log("Delete request ignored for file ID " + t + ", delete feature is disabled.", "warn"), !1)
                    }, _onDeleteComplete: function (t, e, n) {
                        qq.FineUploaderBasic.prototype._onDeleteComplete.apply(this, arguments);
                        var i = this.getItemByFileId(t), o = this._find(i, "spinner"), r = this._find(i, "statusText");
                        qq(o).hide(), n ? (qq(r).setText(this._options.deleteFile.deletingFailedText), this._showDeleteLink(t)) : this._removeFileItem(t)
                    }, _sendDeleteRequest: function (t) {
                        var e = this.getItemByFileId(t), n = this._find(e, "deleteButton"),
                            i = this._find(e, "statusText");
                        qq(n).hide(), this._showSpinner(t), qq(i).setText(this._options.deleteFile.deletingStatusText), this._deleteHandler.sendDelete(t, this.getUuid(t))
                    }, _showDeleteConfirm: function (t) {
                        var e = this._handler.getName(t),
                            n = this._options.deleteFile.confirmMessage.replace(/\{filename\}/g, e),
                            i = (this.getUuid(t), this);
                        this._options.showConfirm(n, function () {
                            i._sendDeleteRequest(t)
                        })
                    }, _addToList: function (t, e) {
                        var n = qq.toElement(this._options.fileTemplate);
                        if (this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading) {
                            var i = this._find(n, "cancel");
                            qq(i).remove()
                        }
                        n.qqFileId = t;
                        var o = this._find(n, "file");
                        qq(o).setText(this._options.formatFileName(e)), qq(this._find(n, "size")).hide(), this._options.multiple || (this._handler.cancelAll(), this._clearList()), this._listElement.appendChild(n), this._options.display.fileSizeOnSubmit && qq.supportedFeatures.ajaxUploading && this._displayFileSize(t)
                    }, _clearList: function () {
                        this._listElement.innerHTML = "", this.clearStoredFiles()
                    }, _displayFileSize: function (t, e, n) {
                        var i = this.getItemByFileId(t), o = this.getSize(t), r = this._formatSize(o),
                            s = this._find(i, "size");
                        void 0 !== e && void 0 !== n && (r = this._formatProgress(e, n)), qq(s).css({display: "inline"}), qq(s).setText(r)
                    }, _bindCancelAndRetryEvents: function () {
                        var t = this, e = this._listElement;
                        this._disposeSupport.attach(e, "click", function (e) {
                            e = e || window.event;
                            var n = e.target || e.srcElement;
                            if (qq(n).hasClass(t._classes.cancel) || qq(n).hasClass(t._classes.retry) || qq(n).hasClass(t._classes.deleteButton)) {
                                qq.preventDefault(e);
                                for (var i = n.parentNode; void 0 === i.qqFileId;) i = i.parentNode;
                                qq(n).hasClass(t._classes.deleteButton) ? t.deleteFile(i.qqFileId) : qq(n).hasClass(t._classes.cancel) ? t.cancel(i.qqFileId) : (qq(i).removeClass(t._classes.retryable), t.retry(i.qqFileId))
                            }
                        })
                    }, _formatProgress: function (t, e) {
                        function n(t, e) {
                            i = i.replace(t, e)
                        }

                        var i = this._options.text.formatProgress;
                        return n("{percent}", Math.round(t / e * 100)), n("{total_size}", this._formatSize(e)), i
                    }, _controlFailureTextDisplay: function (t, e) {
                        var n, i, o, r, s;
                        n = this._options.failedUploadTextDisplay.mode, i = this._options.failedUploadTextDisplay.maxChars, o = this._options.failedUploadTextDisplay.responseProperty, "custom" === n ? (r = e[o], r ? r.length > i && (s = r.substring(0, i) + "...") : (r = this._options.text.failUpload, this.log("'" + o + "' is not a valid property on the server response.", "warn")), qq(this._find(t, "statusText")).setText(s || r), this._options.failedUploadTextDisplay.enableTooltip && this._showTooltip(t, r)) : "default" === n ? qq(this._find(t, "statusText")).setText(this._options.text.failUpload) : "none" !== n && this.log("failedUploadTextDisplay.mode value of '" + n + "' is not valid", "warn")
                    }, _showTooltip: function (t, e) {
                        t.title = e
                    }, _showSpinner: function (t) {
                        var e = this.getItemByFileId(t), n = this._find(e, "spinner");
                        n.style.display = "inline-block"
                    }, _showCancelLink: function (t) {
                        if (!this._options.disableCancelForFormUploads || qq.supportedFeatures.ajaxUploading) {
                            var e = this._find(t, "cancel");
                            qq(e).css({display: "inline"})
                        }
                    }, _showDeleteLink: function (t) {
                        var e = this.getItemByFileId(t), n = this._find(e, "deleteButton");
                        qq(n).css({display: "inline"})
                    }, _itemError: function (t, e) {
                        var n = qq.FineUploaderBasic.prototype._itemError.apply(this, arguments);
                        this._options.showMessage(n)
                    }, _batchError: function (t) {
                        qq.FineUploaderBasic.prototype._batchError.apply(this, arguments), this._options.showMessage(t)
                    }, _setupPastePrompt: function () {
                        var t = this;
                        this._options.callbacks.onPasteReceived = function () {
                            var e = t._options.paste.namePromptMessage, n = t._options.paste.defaultName;
                            return t._options.showPrompt(e, n)
                        }
                    }
                }), qq.AjaxRequestor = function (t) {
                    "use strict";

                    function e(t) {
                        var e, n = qq.indexOf(h, t), o = f.maxConnections;
                        delete p[t], h.splice(n, 1), h.length >= o && o > n && (e = h[o - 1], i(e))
                    }

                    function n(t) {
                        var n = p[t].xhr, i = c(), o = !1;
                        e(t), l(n.status) || (o = !0, d(i + " request for " + t + " has failed - response code " + n.status, "error")), f.onComplete(t, n, o)
                    }

                    function i(t) {
                        var e, n = new XMLHttpRequest, i = c(), a = {};
                        f.onSend(t), f.paramsStore.getParams && (a = f.paramsStore.getParams(t)), e = o(t, a), p[t].xhr = n, n.onreadystatechange = r(t), n.open(i, e, !0), f.cors.expected && f.cors.sendCredentials && (n.withCredentials = !0), s(t), d("Sending " + i + " request for " + t), !u && a ? n.send(qq.obj2url(a, "")) : n.send()
                    }

                    function o(t, e) {
                        var n = f.endpointStore.getEndpoint(t), i = p[t].addToPath;
                        return void 0 !== i && (n += "/" + i), u && e ? qq.obj2url(e, n) : n
                    }

                    function r(t) {
                        var e = p[t].xhr;
                        return function () {
                            4 === e.readyState && n(t, e)
                        }
                    }

                    function s(t) {
                        var e = p[t].xhr, n = f.customHeaders;
                        e.setRequestHeader("X-Requested-With", "XMLHttpRequest"), e.setRequestHeader("Cache-Control", "no-cache"), qq.each(n, function (t, n) {
                            e.setRequestHeader(t, n)
                        })
                    }

                    function a(t) {
                        var n = p[t].xhr, i = c();
                        return n ? (n.onreadystatechange = null, n.abort(), e(t), d("Cancelled " + i + " for " + t), f.onCancel(t), !0) : !1
                    }

                    function l(t) {
                        return qq.indexOf(f.successfulResponseCodes, t) >= 0
                    }

                    function c() {
                        return f.demoMode ? "GET" : f.method
                    }

                    var d, u, h = [], p = [], f = {
                        method: "POST",
                        maxConnections: 3,
                        customHeaders: {},
                        endpointStore: {},
                        paramsStore: {},
                        successfulResponseCodes: [200],
                        demoMode: !1,
                        cors: {expected: !1, sendCredentials: !1},
                        log: function (t, e) {
                        },
                        onSend: function (t) {
                        },
                        onComplete: function (t, e, n) {
                        },
                        onCancel: function (t) {
                        }
                    };
                    return qq.extend(f, t), d = f.log, u = "GET" === c() || "DELETE" === c(), {
                        send: function (t, e) {
                            p[t] = {addToPath: e};
                            var n = h.push(t);
                            n <= f.maxConnections && i(t)
                        }, cancel: function (t) {
                            return a(t)
                        }
                    }
                }, qq.DeleteFileAjaxRequestor = function (t) {
                    "use strict";
                    var e, n = {
                        endpointStore: {},
                        maxConnections: 3,
                        customHeaders: {},
                        paramsStore: {},
                        demoMode: !1,
                        cors: {expected: !1, sendCredentials: !1},
                        log: function (t, e) {
                        },
                        onDelete: function (t) {
                        },
                        onDeleteComplete: function (t, e, n) {
                        }
                    };
                    return qq.extend(n, t), e = new qq.AjaxRequestor({
                        method: "DELETE",
                        endpointStore: n.endpointStore,
                        paramsStore: n.paramsStore,
                        maxConnections: n.maxConnections,
                        customHeaders: n.customHeaders,
                        successfulResponseCodes: [200, 202, 204],
                        demoMode: n.demoMode,
                        log: n.log,
                        onSend: n.onDelete,
                        onComplete: n.onDeleteComplete
                    }), {
                        sendDelete: function (t, i) {
                            e.send(t, i), n.log("Submitted delete file request for " + t)
                        }
                    }
                }, qq.WindowReceiveMessage = function (t) {
                    var e = {
                        log: function (t, e) {
                        }
                    }, n = {};
                    return qq.extend(e, t), {
                        receiveMessage: function (t, e) {
                            var i = function (t) {
                                e(t.data)
                            };
                            window.postMessage ? n[t] = qq(window).attach("message", i) : log("iframe message passing not supported in this browser!", "error")
                        }, stopReceivingMessages: function (t) {
                            if (window.postMessage) {
                                var e = n[t];
                                e && e()
                            }
                        }
                    }
                }, qq.UploadHandler = function (t) {
                    "use strict";
                    var e, n, i, o, r = [];
                    return e = {
                        debug: !1,
                        forceMultipart: !0,
                        paramsInBody: !1,
                        paramsStore: {},
                        endpointStore: {},
                        cors: {expected: !1, sendCredentials: !1},
                        maxConnections: 3,
                        uuidParamName: "qquuid",
                        totalFileSizeParamName: "qqtotalfilesize",
                        chunking: {
                            enabled: !1,
                            partSize: 2e6,
                            paramNames: {
                                partIndex: "qqpartindex",
                                partByteOffset: "qqpartbyteoffset",
                                chunkSize: "qqchunksize",
                                totalParts: "qqtotalparts",
                                filename: "qqfilename"
                            }
                        },
                        resume: {enabled: !1, id: null, cookiesExpireIn: 7, paramNames: {resuming: "qqresume"}},
                        blobs: {paramNames: {name: "qqblobname"}},
                        log: function (t, e) {
                        },
                        onProgress: function (t, e, n, i) {
                        },
                        onComplete: function (t, e, n, i) {
                        },
                        onCancel: function (t, e) {
                        },
                        onUpload: function (t, e) {
                        },
                        onUploadChunk: function (t, e, n) {
                        },
                        onAutoRetry: function (t, e, n, i) {
                        },
                        onResume: function (t, e, n) {
                        }
                    }, qq.extend(e, t), n = e.log, i = function (t) {
                        var n, i = qq.indexOf(r, t), s = e.maxConnections;
                        i >= 0 && (r.splice(i, 1), r.length >= s && s > i && (n = r[s - 1], o.upload(n)))
                    }, o = qq.supportedFeatures.ajaxUploading ? new qq.UploadHandlerXhr(e, i, n) : new qq.UploadHandlerForm(e, i, n), {
                        add: function (t) {
                            return o.add(t)
                        }, upload: function (t) {
                            var n = r.push(t);
                            return n <= e.maxConnections ? o.upload(t) : void 0
                        }, retry: function (t) {
                            var e = qq.indexOf(r, t);
                            return e >= 0 ? o.upload(t, !0) : this.upload(t)
                        }, cancel: function (t) {
                            n("Cancelling " + t), e.paramsStore.remove(t), o.cancel(t), i(t)
                        }, cancelAll: function () {
                            var t = this, e = [];
                            qq.extend(e, r), qq.each(e, function (e, n) {
                                t.cancel(n)
                            }), r = []
                        }, getName: function (t) {
                            return o.getName(t)
                        }, getSize: function (t) {
                            return o.getSize ? o.getSize(t) : void 0
                        }, getFile: function (t) {
                            return o.getFile ? o.getFile(t) : void 0
                        }, getQueue: function () {
                            return r
                        }, reset: function () {
                            n("Resetting upload handler"), r = [], o.reset()
                        }, getUuid: function (t) {
                            return o.getUuid(t)
                        }, isValid: function (t) {
                            return o.isValid(t)
                        }, getResumableFilesData: function () {
                            return o.getResumableFilesData ? o.getResumableFilesData() : []
                        }
                    }
                }, qq.UploadHandlerForm = function (t, e, n) {
                    "use strict";

                    function i(t) {
                        void 0 !== p[t] && (p[t](), delete p[t])
                    }

                    function o(t, e) {
                        var n = t.id;
                        v[h[n]] = e, p[n] = qq(t).attach("load", function () {
                            u[n] && (g("Received iframe load event for CORS upload request (file id " + n + ")"), f[n] = setTimeout(function () {
                                var t = "No valid message received from loaded iframe for file id " + n;
                                g(t, "error"), e({error: t})
                            }, 1e3))
                        }), b.receiveMessage(n, function (t) {
                            g("Received the following window message: '" + t + "'");
                            var e, o = qq.parseJson(t), r = o.uuid;
                            r && v[r] ? (clearTimeout(f[n]), delete f[n], i(n), e = v[r], delete v[r], b.stopReceivingMessages(n), e(o)) : r || g("'" + t + "' does not contain a UUID - ignoring.")
                        })
                    }

                    function r(t, e) {
                        d.cors.expected ? o(t, e) : p[t.id] = qq(t).attach("load", function () {
                            if (g("Received response for " + t.id), t.parentNode) {
                                try {
                                    if (t.contentDocument && t.contentDocument.body && "false" == t.contentDocument.body.innerHTML) return
                                } catch (n) {
                                    g("Error when attempting to access iframe during handling of upload response (" + n + ")", "error")
                                }
                                e()
                            }
                        })
                    }

                    function s(t) {
                        var e;
                        try {
                            var n = t.contentDocument || t.contentWindow.document, i = n.body.innerHTML;
                            g("converting iframe's innerHTML to JSON"), g("innerHTML = " + i), i && i.match(/^<pre/i) && (i = n.body.firstChild.firstChild.nodeValue), e = qq.parseJson(i)
                        } catch (o) {
                            g("Error when attempting to parse form upload response (" + o + ")", "error"), e = {success: !1}
                        }
                        return e
                    }

                    function a(t) {
                        var e = qq.toElement('<iframe src="javascript:false;" name="' + t + '" />');
                        return e.setAttribute("id", t), e.style.display = "none", document.body.appendChild(e), e
                    }

                    function l(t, e) {
                        var n = d.paramsStore.getParams(t), i = d.demoMode ? "GET" : "POST",
                            o = qq.toElement('<form method="' + i + '" enctype="multipart/form-data"></form>'),
                            r = d.endpointStore.getEndpoint(t), s = r;
                        return n[d.uuidParamName] = h[t], d.paramsInBody ? qq.obj2Inputs(n, o) : s = qq.obj2url(n, r), o.setAttribute("action", s), o.setAttribute("target", e.name), o.style.display = "none", document.body.appendChild(o), o
                    }

                    var c, d = t, u = [], h = [], p = {}, f = {}, m = e, g = n,
                        b = new qq.WindowReceiveMessage({log: g}), v = {};
                    return c = {
                        add: function (t) {
                            t.setAttribute("name", d.inputName);
                            var e = u.push(t) - 1;
                            return h[e] = qq.getUniqueId(), t.parentNode && qq(t).remove(), e
                        }, getName: function (t) {
                            return c.isValid(t) ? u[t].value.replace(/.*(\/|\\)/, "") : void g(t + " is not a valid item ID.", "error")
                        }, isValid: function (t) {
                            return void 0 !== u[t]
                        }, reset: function () {
                            u = [], h = [], p = {}
                        }, getUuid: function (t) {
                            return h[t]
                        }, cancel: function (t) {
                            d.onCancel(t, this.getName(t)), delete u[t], delete h[t], delete p[t], d.cors.expected && (clearTimeout(f[t]), delete f[t], b.stopReceivingMessages(t));
                            var e = document.getElementById(t);
                            e && (e.setAttribute("src", "java" + String.fromCharCode(115) + "cript:false;"), qq(e).remove())
                        }, upload: function (t) {
                            var e, n = u[t], o = c.getName(t), h = a(t);
                            if (!n) throw new Error("file with passed id was not added, or already uploaded or cancelled");
                            return d.onUpload(t, this.getName(t)), e = l(t, h), e.appendChild(n), r(h, function (e) {
                                g("iframe loaded");
                                var n = e ? e : s(h);
                                i(t), d.cors.expected || qq(h).remove(), (n.success || !d.onAutoRetry(t, o, n)) && (d.onComplete(t, o, n), m(t))
                            }), g("Sending upload request for " + t), e.submit(), qq(e).remove(), t
                        }
                    }
                }, qq.UploadHandlerXhr = function (t, e, n) {
                    "use strict";

                    function i(t, e, n) {
                        var i = I.getSize(t), o = I.getName(t);
                        e[D.chunking.paramNames.partIndex] = n.part, e[D.chunking.paramNames.partByteOffset] = n.start, e[D.chunking.paramNames.chunkSize] = n.size, e[D.chunking.paramNames.totalParts] = n.count, e[D.totalFileSizeParamName] = i, P && (e[D.chunking.paramNames.filename] = o)
                    }

                    function o(t) {
                        t[D.resume.paramNames.resuming] = !0
                    }

                    function r(t, e, n) {
                        return t.slice ? t.slice(e, n) : t.mozSlice ? t.mozSlice(e, n) : t.webkitSlice ? t.webkitSlice(e, n) : void 0
                    }

                    function s(t, e) {
                        var n = D.chunking.partSize, i = I.getSize(t), o = N[t].file || N[t].blobData.blob, s = n * e,
                            l = s + n >= i ? i : s + n, c = a(t);
                        return {part: e, start: s, end: l, count: c, blob: r(o, s, l), size: l - s}
                    }

                    function a(t) {
                        var e = I.getSize(t), n = D.chunking.partSize;
                        return Math.ceil(e / n)
                    }

                    function l(t) {
                        var e = new XMLHttpRequest;
                        return N[t].xhr = e, e
                    }

                    function c(t, e, n, i) {
                        var o = new FormData, r = D.demoMode ? "GET" : "POST", s = D.endpointStore.getEndpoint(i),
                            a = s, l = I.getName(i), c = I.getSize(i), d = N[i].blobData;
                        return t[D.uuidParamName] = N[i].uuid, P && (t[D.totalFileSizeParamName] = c, d && (t[D.blobs.paramNames.name] = d.name)), D.paramsInBody || (P || (t[D.inputName] = l), a = qq.obj2url(t, s)), e.open(r, a, !0), D.cors.expected && D.cors.sendCredentials && (e.withCredentials = !0), P ? (D.paramsInBody && qq.obj2FormData(t, o), o.append(D.inputName, n), o) : n
                    }

                    function d(t, e) {
                        var n = D.customHeaders, i = N[t].file || N[t].blobData.blob;
                        e.setRequestHeader("X-Requested-With", "XMLHttpRequest"), e.setRequestHeader("Cache-Control", "no-cache"), P || (e.setRequestHeader("Content-Type", "application/octet-stream"), e.setRequestHeader("X-Mime-Type", i.type)), qq.each(n, function (t, n) {
                            e.setRequestHeader(t, n)
                        })
                    }

                    function u(t, e, n) {
                        var i = I.getName(t), o = I.getSize(t);
                        N[t].attemptingResume = !1, D.onProgress(t, i, o, o), D.onComplete(t, i, e, n), delete N[t].xhr, O(t)
                    }

                    function h(t) {
                        var e, n, r = N[t].remainingChunkIdxs[0], a = s(t, r), u = l(t), h = I.getSize(t),
                            f = I.getName(t);
                        void 0 === N[t].loaded && (N[t].loaded = 0), U && N[t].file && S(t, a), u.onreadystatechange = A(t, u), u.upload.onprogress = function (e) {
                            if (e.lengthComputable) {
                                var n = e.loaded + N[t].loaded, i = p(t, r, e.total);
                                D.onProgress(t, f, n, i)
                            }
                        }, D.onUploadChunk(t, f, E(a)), n = D.paramsStore.getParams(t), i(t, n, a), N[t].attemptingResume && o(n), e = c(n, u, a.blob, t), d(t, u), B("Sending chunked upload request for item " + t + ": bytes " + (a.start + 1) + "-" + a.end + " of " + h), u.send(e)
                    }

                    function p(t, e, n) {
                        var i = s(t, e), o = i.size, r = n - o, a = I.getSize(t), l = i.count,
                            c = N[t].initialRequestOverhead, d = r - c;
                        return N[t].lastRequestOverhead = r, 0 === e ? (N[t].lastChunkIdxProgress = 0, N[t].initialRequestOverhead = r, N[t].estTotalRequestsSize = a + l * r) : N[t].lastChunkIdxProgress !== e && (N[t].lastChunkIdxProgress = e, N[t].estTotalRequestsSize += d), N[t].estTotalRequestsSize
                    }

                    function f(t) {
                        return P ? N[t].lastRequestOverhead : 0
                    }

                    function m(t, e, n) {
                        var i = N[t].remainingChunkIdxs.shift(), o = s(t, i);
                        N[t].attemptingResume = !1, N[t].loaded += o.size + f(t), N[t].remainingChunkIdxs.length > 0 ? h(t) : (U && C(t), u(t, e, n))
                    }

                    function g(t, e) {
                        return 200 !== t.status || !e.success || e.reset
                    }

                    function b(t) {
                        var e;
                        try {
                            e = qq.parseJson(t.responseText)
                        } catch (n) {
                            B("Error when attempting to parse xhr response text (" + n + ")", "error"), e = {}
                        }
                        return e
                    }

                    function v(t) {
                        B("Server has ordered chunking effort to be restarted on next attempt for item ID " + t, "error"), U && (C(t), N[t].attemptingResume = !1), N[t].remainingChunkIdxs = [], delete N[t].loaded, delete N[t].estTotalRequestsSize, delete N[t].initialRequestOverhead
                    }

                    function y(t) {
                        N[t].attemptingResume = !1, B("Server has declared that it cannot handle resume for item ID " + t + " - starting from the first chunk", "error"), v(t), I.upload(t, !0)
                    }

                    function w(t, e, n) {
                        var i = I.getName(t);
                        D.onAutoRetry(t, i, e, n) || u(t, e, n)
                    }

                    function x(t, e) {
                        var n;
                        N[t] && (B("xhr - server response received for " + t), B("responseText = " + e.responseText), n = b(e), g(e, n) ? (n.reset && v(t), N[t].attemptingResume && n.reset ? y(t) : w(t, n, e)) : F ? m(t, n, e) : u(t, n, e))
                    }

                    function E(t) {
                        return {partIndex: t.part, startByte: t.start + 1, endByte: t.end, totalParts: t.count}
                    }

                    function A(t, e) {
                        return function () {
                            4 === e.readyState && x(t, e)
                        }
                    }

                    function S(t, e) {
                        var n = I.getUuid(t), i = N[t].loaded, o = N[t].initialRequestOverhead,
                            r = N[t].estTotalRequestsSize, s = k(t), a = n + L + e.part + L + i + L + o + L + r,
                            l = D.resume.cookiesExpireIn;
                        qq.setCookie(s, a, l)
                    }

                    function C(t) {
                        if (N[t].file) {
                            var e = k(t);
                            qq.deleteCookie(e)
                        }
                    }

                    function q(t) {
                        var e, n, i, o, r, s, a = qq.getCookie(k(t)), l = I.getName(t);
                        if (a) {
                            if (e = a.split(L), 5 === e.length) return n = e[0], i = parseInt(e[1], 10), o = parseInt(e[2], 10), r = parseInt(e[3], 10), s = parseInt(e[4], 10), {
                                uuid: n,
                                part: i,
                                lastByteSent: o,
                                initialRequestOverhead: r,
                                estTotalRequestsSize: s
                            };
                            B("Ignoring previously stored resume/chunk cookie for " + l + " - old cookie format", "warn")
                        }
                    }

                    function k(t) {
                        var e, n = I.getName(t), i = I.getSize(t), o = D.chunking.partSize;
                        return e = "qqfilechunk" + L + encodeURIComponent(n) + L + i + L + o, void 0 !== M && (e += L + M), e
                    }

                    function R() {
                        return null === D.resume.id || void 0 === D.resume.id || qq.isFunction(D.resume.id) || qq.isObject(D.resume.id) ? void 0 : D.resume.id
                    }

                    function T(t, e) {
                        var n, i, o, r = I.getName(t), l = 0;
                        if (!N[t].remainingChunkIdxs || 0 === N[t].remainingChunkIdxs.length) for (N[t].remainingChunkIdxs = [], U && !e && N[t].file && (n = q(t), n && (i = s(t, n.part), D.onResume(t, r, E(i)) !== !1 && (l = n.part, N[t].uuid = n.uuid, N[t].loaded = n.lastByteSent, N[t].estTotalRequestsSize = n.estTotalRequestsSize, N[t].initialRequestOverhead = n.initialRequestOverhead, N[t].attemptingResume = !0, B("Resuming " + r + " at partition index " + l)))), o = a(t) - 1; o >= l; o -= 1) N[t].remainingChunkIdxs.unshift(o);
                        h(t)
                    }

                    function _(t) {
                        var e, n, i, o = N[t].file || N[t].blobData.blob, r = I.getName(t);
                        N[t].loaded = 0, e = l(t), e.upload.onprogress = function (e) {
                            e.lengthComputable && (N[t].loaded = e.loaded, D.onProgress(t, r, e.loaded, e.total))
                        }, e.onreadystatechange = A(t, e), n = D.paramsStore.getParams(t), i = c(n, e, o, t), d(t, e), B("Sending upload request for " + t), e.send(i)
                    }

                    var I, D = t, O = e, B = n, N = [], L = "|",
                        F = D.chunking.enabled && qq.supportedFeatures.chunking,
                        U = D.resume.enabled && F && qq.supportedFeatures.resume, M = R(),
                        P = D.forceMultipart || D.paramsInBody;
                    return I = {
                        add: function (t) {
                            var e;
                            if (t instanceof File) e = N.push({file: t}) - 1; else {
                                if (!qq.isBlob(t.blob)) throw new Error("Passed obj in not a File or BlobData (in qq.UploadHandlerXhr)");
                                e = N.push({blobData: t}) - 1
                            }
                            return N[e].uuid = qq.getUniqueId(), e
                        }, getName: function (t) {
                            if (I.isValid(t)) {
                                var e = N[t].file, n = N[t].blobData;
                                return e ? null !== e.fileName && void 0 !== e.fileName ? e.fileName : e.name : n.name
                            }
                            B(t + " is not a valid item ID.", "error")
                        }, getSize: function (t) {
                            var e = N[t].file || N[t].blobData.blob;
                            return qq.isFileOrInput(e) && null != e.fileSize ? e.fileSize : e.size
                        }, getFile: function (t) {
                            return N[t] ? N[t].file || N[t].blobData.blob : void 0
                        }, getLoaded: function (t) {
                            return N[t].loaded || 0
                        }, isValid: function (t) {
                            return void 0 !== N[t]
                        }, reset: function () {
                            N = [];

                        }, getUuid: function (t) {
                            return N[t].uuid
                        }, upload: function (t, e) {
                            var n = this.getName(t);
                            D.onUpload(t, n), F ? T(t, e) : _(t)
                        }, cancel: function (t) {
                            var e = N[t].xhr;
                            D.onCancel(t, this.getName(t)), e && (e.onreadystatechange = null, e.abort()), U && C(t), delete N[t]
                        }, getResumableFilesData: function () {
                            var t = [], e = [];
                            return F && U ? (t = qq.getCookieNames(void 0 === M ? new RegExp("^qqfilechunk\\" + L + ".+\\" + L + "\\d+\\" + L + D.chunking.partSize + "=") : new RegExp("^qqfilechunk\\" + L + ".+\\" + L + "\\d+\\" + L + D.chunking.partSize + "\\" + L + M + "=")), qq.each(t, function (t, n) {
                                var i = n.split(L), o = qq.getCookie(n).split(L);
                                e.push({name: decodeURIComponent(i[1]), size: i[2], uuid: o[0], partIdx: o[1]})
                            }), e) : []
                        }
                    }
                }, function (t) {
                    "use strict";
                    var e, n, i, o, r, s, a, l, c, d;
                    s = ["uploaderType"], i = function (t) {
                        if (t) {
                            var i = l(t);
                            a(i), e("basic" === r("uploaderType") ? new qq.FineUploaderBasic(i) : new qq.FineUploader(i))
                        }
                        return n
                    }, o = function (t, e) {
                        var i = n.data("fineuploader");
                        return e ? (void 0 === i && (i = {}), i[t] = e, n.data("fineuploader", i), void 0) : void 0 === i ? null : i[t]
                    }, e = function (t) {
                        return o("uploader", t)
                    }, r = function (t, e) {
                        return o(t, e)
                    }, a = function (e) {
                        var i = e.callbacks = {}, o = new qq.FineUploaderBasic;
                        t.each(o._options.callbacks, function (t, e) {
                            var o, r;
                            o = /^on(\w+)/.exec(t)[1], o = o.substring(0, 1).toLowerCase() + o.substring(1), r = n, i[t] = function () {
                                var t = Array.prototype.slice.call(arguments);
                                return r.triggerHandler(o, t)
                            }
                        })
                    }, l = function (e, i) {
                        var o, a;
                        return o = void 0 === i ? "basic" !== e.uploaderType ? {element: n[0]} : {} : i, t.each(e, function (e, n) {
                            t.inArray(e, s) >= 0 ? r(e, n) : n instanceof t ? o[e] = n[0] : t.isPlainObject(n) ? (o[e] = {}, l(n, o[e])) : t.isArray(n) ? (a = [], t.each(n, function (e, n) {
                                n instanceof t ? t.merge(a, n) : a.push(n)
                            }), o[e] = a) : o[e] = n
                        }), void 0 === i ? o : void 0
                    }, c = function (n) {
                        return "string" === t.type(n) && !n.match(/^_/) && void 0 !== e()[n]
                    }, d = function (t) {
                        var n = [], i = Array.prototype.slice.call(arguments, 1);
                        return l(i, n), e()[t].apply(e(), n)
                    }, t.fn.fineUploader = function (o) {
                        var r = this, s = arguments, a = [];
                        return this.each(function (l, u) {
                            if (n = t(u), e() && c(o)) {
                                if (a.push(d.apply(r, s)), 1 === r.length) return !1
                            } else "object" != typeof o && o ? t.error("Method " + o + " does not exist on jQuery.fineUploader") : i.apply(r, s)
                        }), 1 === a.length ? a[0] : a.length > 1 ? a : this
                    }
                }(jQuery), function (t) {
                    "use strict";

                    function e(t) {
                        t || (t = {}), t.dropZoneElements = [l];
                        var e = r(t);
                        return o(e), i(new qq.DragAndDrop(e)), l
                    }

                    function n(t, e) {
                        var n = l.data(c);
                        return e ? (void 0 === n && (n = {}), n[t] = e, l.data(c, n), void 0) : void 0 === n ? null : n[t]
                    }

                    function i(t) {
                        return n("dndInstance", t)
                    }

                    function o(e) {
                        {
                            var n = e.callbacks = {};
                            new qq.FineUploaderBasic
                        }
                        t.each(new qq.DragAndDrop.callbacks, function (t, e) {
                            var i, o = t;
                            i = l, n[t] = function () {
                                var t = Array.prototype.slice.call(arguments), e = i.triggerHandler(o, t);
                                return e
                            }
                        })
                    }

                    function r(e, n) {
                        var i, o;
                        return i = void 0 === n ? {} : n, t.each(e, function (e, n) {
                            n instanceof t ? i[e] = n[0] : t.isPlainObject(n) ? (i[e] = {}, r(n, i[e])) : t.isArray(n) ? (o = [], t.each(n, function (e, n) {
                                n instanceof t ? t.merge(o, n) : o.push(n)
                            }), i[e] = o) : i[e] = n
                        }), void 0 === n ? i : void 0
                    }

                    function s(e) {
                        return "string" === t.type(e) && "dispose" === e && void 0 !== i()[e]
                    }

                    function a(t) {
                        var e = [], n = Array.prototype.slice.call(arguments, 1);
                        return r(n, e), i()[t].apply(i(), e)
                    }

                    var l, c = "fineUploaderDnd";
                    t.fn.fineUploaderDnd = function (n) {
                        var o = this, r = arguments, c = [];
                        return this.each(function (d, u) {
                            if (l = t(u), i() && s(n)) {
                                if (c.push(a.apply(o, r)), 1 === o.length) return !1
                            } else "object" != typeof n && n ? t.error("Method " + n + " does not exist in Fine Uploader's DnD module.") : e.apply(o, r)
                        }), 1 === c.length ? c[0] : c.length > 1 ? c : this
                    }
                }(jQuery), module.exports = qq
            }).call(this, require("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, require("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/lib/fineUploader.js", "/node_modules/seaglass/src/lib")
        }, {_process: 6, buffer: 2}],
        55: [function (t, e, n) {
            (function (t, n, i, o, r, s, a, l, c) {
                var d = !0;
                try {
                    var u = document.createElement("input");
                    u.type = "file", u.style.display = "none", document.getElementsByTagName("body")[0].appendChild(u), u.disabled && (d = !1)
                } catch (h) {
                    d = !1
                } finally {
                    u.parentNode.removeChild(u)
                }
                e.exports = d
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/lib/hasFileUpload.js", "/node_modules/seaglass/src/lib")
        }, {_process: 6, buffer: 2}],
        56: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                $.fn.cssAttr = function (t, e) {
                    for (var n = this[0].className.split(/\s+/), i = "attr-" + t + "-" + e, o = new RegExp("^attr-" + t + "-", "g"), r = n.length; r--;) if (n[r].match(o)) {
                        if (n[r] == i) return this;
                        this.removeClass(n[r])
                    }
                    return this.addClass(i), this
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/seaglass/src/lib/jquery.cssAttr.js", "/node_modules/seaglass/src/lib")
        }, {_process: 6, buffer: 2}],
        57: [function (t, e, n) {
            (function (t, i, o, r, s, a, l, c, d) {
                (function () {
                    function t(t) {
                        function e(e, n, i, o, r, s) {
                            for (; r >= 0 && s > r; r += t) {
                                var a = o ? o[r] : r;
                                i = n(i, e[a], a, e)
                            }
                            return i
                        }

                        return function (n, i, o, r) {
                            i = x(i, r, 4);
                            var s = !R(n) && w.keys(n), a = (s || n).length, l = t > 0 ? 0 : a - 1;
                            return arguments.length < 3 && (o = n[s ? s[l] : l], l += t), e(n, i, o, s, l, a)
                        }
                    }

                    function i(t) {
                        return function (e, n, i) {
                            n = E(n, i);
                            for (var o = k(e), r = t > 0 ? 0 : o - 1; r >= 0 && o > r; r += t) if (n(e[r], r, e)) return r;
                            return -1
                        }
                    }

                    function o(t, e, n) {
                        return function (i, o, r) {
                            var s = 0, a = k(i);
                            if ("number" == typeof r) t > 0 ? s = r >= 0 ? r : Math.max(r + a, s) : a = r >= 0 ? Math.min(r + 1, a) : r + a + 1; else if (n && r && a) return r = n(i, o), i[r] === o ? r : -1;
                            if (o !== o) return r = e(h.call(i, s, a), w.isNaN), r >= 0 ? r + s : -1;
                            for (r = t > 0 ? s : a - 1; r >= 0 && a > r; r += t) if (i[r] === o) return r;
                            return -1
                        }
                    }

                    function r(t, e) {
                        var n = O.length, i = t.constructor, o = w.isFunction(i) && i.prototype || c, r = "constructor";
                        for (w.has(t, r) && !w.contains(e, r) && e.push(r); n--;) r = O[n], r in t && t[r] !== o[r] && !w.contains(e, r) && e.push(r)
                    }

                    var s = this, a = s._, l = Array.prototype, c = Object.prototype, d = Function.prototype,
                        u = l.push, h = l.slice, p = c.toString, f = c.hasOwnProperty, m = Array.isArray,
                        g = Object.keys, b = d.bind, v = Object.create, y = function () {
                        }, w = function (t) {
                            return t instanceof w ? t : this instanceof w ? void (this._wrapped = t) : new w(t)
                        };
                    "undefined" != typeof n ? ("undefined" != typeof e && e.exports && (n = e.exports = w), n._ = w) : s._ = w, w.VERSION = "1.8.3";
                    var x = function (t, e, n) {
                        if (void 0 === e) return t;
                        switch (null == n ? 3 : n) {
                            case 1:
                                return function (n) {
                                    return t.call(e, n)
                                };
                            case 2:
                                return function (n, i) {
                                    return t.call(e, n, i)
                                };
                            case 3:
                                return function (n, i, o) {
                                    return t.call(e, n, i, o)
                                };
                            case 4:
                                return function (n, i, o, r) {
                                    return t.call(e, n, i, o, r)
                                }
                        }
                        return function () {
                            return t.apply(e, arguments)
                        }
                    }, E = function (t, e, n) {
                        return null == t ? w.identity : w.isFunction(t) ? x(t, e, n) : w.isObject(t) ? w.matcher(t) : w.property(t)
                    };
                    w.iteratee = function (t, e) {
                        return E(t, e, 1 / 0)
                    };
                    var A = function (t, e) {
                        return function (n) {
                            var i = arguments.length;
                            if (2 > i || null == n) return n;
                            for (var o = 1; i > o; o++) for (var r = arguments[o], s = t(r), a = s.length, l = 0; a > l; l++) {
                                var c = s[l];
                                e && void 0 !== n[c] || (n[c] = r[c])
                            }
                            return n
                        }
                    }, S = function (t) {
                        if (!w.isObject(t)) return {};
                        if (v) return v(t);
                        y.prototype = t;
                        var e = new y;
                        return y.prototype = null, e
                    }, C = function (t) {
                        return function (e) {
                            return null == e ? void 0 : e[t]
                        }
                    }, q = Math.pow(2, 53) - 1, k = C("length"), R = function (t) {
                        var e = k(t);
                        return "number" == typeof e && e >= 0 && q >= e
                    };
                    w.each = w.forEach = function (t, e, n) {
                        e = x(e, n);
                        var i, o;
                        if (R(t)) for (i = 0, o = t.length; o > i; i++) e(t[i], i, t); else {
                            var r = w.keys(t);
                            for (i = 0, o = r.length; o > i; i++) e(t[r[i]], r[i], t)
                        }
                        return t
                    }, w.map = w.collect = function (t, e, n) {
                        e = E(e, n);
                        for (var i = !R(t) && w.keys(t), o = (i || t).length, r = Array(o), s = 0; o > s; s++) {
                            var a = i ? i[s] : s;
                            r[s] = e(t[a], a, t)
                        }
                        return r
                    }, w.reduce = w.foldl = w.inject = t(1), w.reduceRight = w.foldr = t(-1), w.find = w.detect = function (t, e, n) {
                        var i;
                        return i = R(t) ? w.findIndex(t, e, n) : w.findKey(t, e, n), void 0 !== i && -1 !== i ? t[i] : void 0
                    }, w.filter = w.select = function (t, e, n) {
                        var i = [];
                        return e = E(e, n), w.each(t, function (t, n, o) {
                            e(t, n, o) && i.push(t)
                        }), i
                    }, w.reject = function (t, e, n) {
                        return w.filter(t, w.negate(E(e)), n)
                    }, w.every = w.all = function (t, e, n) {
                        e = E(e, n);
                        for (var i = !R(t) && w.keys(t), o = (i || t).length, r = 0; o > r; r++) {
                            var s = i ? i[r] : r;
                            if (!e(t[s], s, t)) return !1
                        }
                        return !0
                    }, w.some = w.any = function (t, e, n) {
                        e = E(e, n);
                        for (var i = !R(t) && w.keys(t), o = (i || t).length, r = 0; o > r; r++) {
                            var s = i ? i[r] : r;
                            if (e(t[s], s, t)) return !0
                        }
                        return !1
                    }, w.contains = w.includes = w.include = function (t, e, n, i) {
                        return R(t) || (t = w.values(t)), ("number" != typeof n || i) && (n = 0), w.indexOf(t, e, n) >= 0
                    }, w.invoke = function (t, e) {
                        var n = h.call(arguments, 2), i = w.isFunction(e);
                        return w.map(t, function (t) {
                            var o = i ? e : t[e];
                            return null == o ? o : o.apply(t, n)
                        })
                    }, w.pluck = function (t, e) {
                        return w.map(t, w.property(e))
                    }, w.where = function (t, e) {
                        return w.filter(t, w.matcher(e))
                    }, w.findWhere = function (t, e) {
                        return w.find(t, w.matcher(e))
                    }, w.max = function (t, e, n) {
                        var i, o, r = -(1 / 0), s = -(1 / 0);
                        if (null == e && null != t) {
                            t = R(t) ? t : w.values(t);
                            for (var a = 0, l = t.length; l > a; a++) i = t[a], i > r && (r = i)
                        } else e = E(e, n), w.each(t, function (t, n, i) {
                            o = e(t, n, i), (o > s || o === -(1 / 0) && r === -(1 / 0)) && (r = t, s = o)
                        });
                        return r
                    }, w.min = function (t, e, n) {
                        var i, o, r = 1 / 0, s = 1 / 0;
                        if (null == e && null != t) {
                            t = R(t) ? t : w.values(t);
                            for (var a = 0, l = t.length; l > a; a++) i = t[a], r > i && (r = i)
                        } else e = E(e, n), w.each(t, function (t, n, i) {
                            o = e(t, n, i), (s > o || o === 1 / 0 && r === 1 / 0) && (r = t, s = o)
                        });
                        return r
                    }, w.shuffle = function (t) {
                        for (var e, n = R(t) ? t : w.values(t), i = n.length, o = Array(i), r = 0; i > r; r++) e = w.random(0, r), e !== r && (o[r] = o[e]), o[e] = n[r];
                        return o
                    }, w.sample = function (t, e, n) {
                        return null == e || n ? (R(t) || (t = w.values(t)), t[w.random(t.length - 1)]) : w.shuffle(t).slice(0, Math.max(0, e))
                    }, w.sortBy = function (t, e, n) {
                        return e = E(e, n), w.pluck(w.map(t, function (t, n, i) {
                            return {value: t, index: n, criteria: e(t, n, i)}
                        }).sort(function (t, e) {
                            var n = t.criteria, i = e.criteria;
                            if (n !== i) {
                                if (n > i || void 0 === n) return 1;
                                if (i > n || void 0 === i) return -1
                            }
                            return t.index - e.index
                        }), "value")
                    };
                    var T = function (t) {
                        return function (e, n, i) {
                            var o = {};
                            return n = E(n, i), w.each(e, function (i, r) {
                                var s = n(i, r, e);
                                t(o, i, s)
                            }), o
                        }
                    };
                    w.groupBy = T(function (t, e, n) {
                        w.has(t, n) ? t[n].push(e) : t[n] = [e]
                    }), w.indexBy = T(function (t, e, n) {
                        t[n] = e
                    }), w.countBy = T(function (t, e, n) {
                        w.has(t, n) ? t[n]++ : t[n] = 1
                    }), w.toArray = function (t) {
                        return t ? w.isArray(t) ? h.call(t) : R(t) ? w.map(t, w.identity) : w.values(t) : []
                    }, w.size = function (t) {
                        return null == t ? 0 : R(t) ? t.length : w.keys(t).length
                    }, w.partition = function (t, e, n) {
                        e = E(e, n);
                        var i = [], o = [];
                        return w.each(t, function (t, n, r) {
                            (e(t, n, r) ? i : o).push(t)
                        }), [i, o]
                    }, w.first = w.head = w.take = function (t, e, n) {
                        return null == t ? void 0 : null == e || n ? t[0] : w.initial(t, t.length - e)
                    }, w.initial = function (t, e, n) {
                        return h.call(t, 0, Math.max(0, t.length - (null == e || n ? 1 : e)))
                    }, w.last = function (t, e, n) {
                        return null == t ? void 0 : null == e || n ? t[t.length - 1] : w.rest(t, Math.max(0, t.length - e))
                    }, w.rest = w.tail = w.drop = function (t, e, n) {
                        return h.call(t, null == e || n ? 1 : e)
                    }, w.compact = function (t) {
                        return w.filter(t, w.identity)
                    };
                    var _ = function (t, e, n, i) {
                        for (var o = [], r = 0, s = i || 0, a = k(t); a > s; s++) {
                            var l = t[s];
                            if (R(l) && (w.isArray(l) || w.isArguments(l))) {
                                e || (l = _(l, e, n));
                                var c = 0, d = l.length;
                                for (o.length += d; d > c;) o[r++] = l[c++]
                            } else n || (o[r++] = l)
                        }
                        return o
                    };
                    w.flatten = function (t, e) {
                        return _(t, e, !1)
                    }, w.without = function (t) {
                        return w.difference(t, h.call(arguments, 1))
                    }, w.uniq = w.unique = function (t, e, n, i) {
                        w.isBoolean(e) || (i = n, n = e, e = !1), null != n && (n = E(n, i));
                        for (var o = [], r = [], s = 0, a = k(t); a > s; s++) {
                            var l = t[s], c = n ? n(l, s, t) : l;
                            e ? (s && r === c || o.push(l), r = c) : n ? w.contains(r, c) || (r.push(c), o.push(l)) : w.contains(o, l) || o.push(l)
                        }
                        return o
                    }, w.union = function () {
                        return w.uniq(_(arguments, !0, !0))
                    }, w.intersection = function (t) {
                        for (var e = [], n = arguments.length, i = 0, o = k(t); o > i; i++) {
                            var r = t[i];
                            if (!w.contains(e, r)) {
                                for (var s = 1; n > s && w.contains(arguments[s], r); s++) ;
                                s === n && e.push(r)
                            }
                        }
                        return e
                    }, w.difference = function (t) {
                        var e = _(arguments, !0, !0, 1);
                        return w.filter(t, function (t) {
                            return !w.contains(e, t)
                        })
                    }, w.zip = function () {
                        return w.unzip(arguments)
                    }, w.unzip = function (t) {
                        for (var e = t && w.max(t, k).length || 0, n = Array(e), i = 0; e > i; i++) n[i] = w.pluck(t, i);
                        return n
                    }, w.object = function (t, e) {
                        for (var n = {}, i = 0, o = k(t); o > i; i++) e ? n[t[i]] = e[i] : n[t[i][0]] = t[i][1];
                        return n
                    }, w.findIndex = i(1), w.findLastIndex = i(-1), w.sortedIndex = function (t, e, n, i) {
                        n = E(n, i, 1);
                        for (var o = n(e), r = 0, s = k(t); s > r;) {
                            var a = Math.floor((r + s) / 2);
                            n(t[a]) < o ? r = a + 1 : s = a
                        }
                        return r
                    }, w.indexOf = o(1, w.findIndex, w.sortedIndex), w.lastIndexOf = o(-1, w.findLastIndex), w.range = function (t, e, n) {
                        null == e && (e = t || 0, t = 0), n = n || 1;
                        for (var i = Math.max(Math.ceil((e - t) / n), 0), o = Array(i), r = 0; i > r; r++, t += n) o[r] = t;
                        return o
                    };
                    var I = function (t, e, n, i, o) {
                        if (!(i instanceof e)) return t.apply(n, o);
                        var r = S(t.prototype), s = t.apply(r, o);
                        return w.isObject(s) ? s : r
                    };
                    w.bind = function (t, e) {
                        if (b && t.bind === b) return b.apply(t, h.call(arguments, 1));
                        if (!w.isFunction(t)) throw new TypeError("Bind must be called on a function");
                        var n = h.call(arguments, 2), i = function () {
                            return I(t, i, e, this, n.concat(h.call(arguments)))
                        };
                        return i
                    }, w.partial = function (t) {
                        var e = h.call(arguments, 1), n = function () {
                            for (var i = 0, o = e.length, r = Array(o), s = 0; o > s; s++) r[s] = e[s] === w ? arguments[i++] : e[s];
                            for (; i < arguments.length;) r.push(arguments[i++]);
                            return I(t, n, this, this, r)
                        };
                        return n
                    }, w.bindAll = function (t) {
                        var e, n, i = arguments.length;
                        if (1 >= i) throw new Error("bindAll must be passed function names");
                        for (e = 1; i > e; e++) n = arguments[e], t[n] = w.bind(t[n], t);
                        return t
                    }, w.memoize = function (t, e) {
                        var n = function (i) {
                            var o = n.cache, r = "" + (e ? e.apply(this, arguments) : i);
                            return w.has(o, r) || (o[r] = t.apply(this, arguments)), o[r]
                        };
                        return n.cache = {}, n
                    }, w.delay = function (t, e) {
                        var n = h.call(arguments, 2);
                        return setTimeout(function () {
                            return t.apply(null, n)
                        }, e)
                    }, w.defer = w.partial(w.delay, w, 1), w.throttle = function (t, e, n) {
                        var i, o, r, s = null, a = 0;
                        n || (n = {});
                        var l = function () {
                            a = n.leading === !1 ? 0 : w.now(), s = null, r = t.apply(i, o), s || (i = o = null)
                        };
                        return function () {
                            var c = w.now();
                            a || n.leading !== !1 || (a = c);
                            var d = e - (c - a);
                            return i = this, o = arguments, 0 >= d || d > e ? (s && (clearTimeout(s), s = null), a = c, r = t.apply(i, o), s || (i = o = null)) : s || n.trailing === !1 || (s = setTimeout(l, d)), r
                        }
                    }, w.debounce = function (t, e, n) {
                        var i, o, r, s, a, l = function () {
                            var c = w.now() - s;
                            e > c && c >= 0 ? i = setTimeout(l, e - c) : (i = null, n || (a = t.apply(r, o), i || (r = o = null)))
                        };
                        return function () {
                            r = this, o = arguments, s = w.now();
                            var c = n && !i;
                            return i || (i = setTimeout(l, e)), c && (a = t.apply(r, o), r = o = null), a
                        }
                    }, w.wrap = function (t, e) {
                        return w.partial(e, t)
                    }, w.negate = function (t) {
                        return function () {
                            return !t.apply(this, arguments)
                        }
                    }, w.compose = function () {
                        var t = arguments, e = t.length - 1;
                        return function () {
                            for (var n = e, i = t[e].apply(this, arguments); n--;) i = t[n].call(this, i);
                            return i
                        }
                    }, w.after = function (t, e) {
                        return function () {
                            return --t < 1 ? e.apply(this, arguments) : void 0
                        }
                    }, w.before = function (t, e) {
                        var n;
                        return function () {
                            return --t > 0 && (n = e.apply(this, arguments)), 1 >= t && (e = null), n
                        }
                    }, w.once = w.partial(w.before, 2);
                    var D = !{toString: null}.propertyIsEnumerable("toString"),
                        O = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];
                    w.keys = function (t) {
                        if (!w.isObject(t)) return [];
                        if (g) return g(t);
                        var e = [];
                        for (var n in t) w.has(t, n) && e.push(n);
                        return D && r(t, e), e
                    }, w.allKeys = function (t) {
                        if (!w.isObject(t)) return [];
                        var e = [];
                        for (var n in t) e.push(n);
                        return D && r(t, e), e
                    }, w.values = function (t) {
                        for (var e = w.keys(t), n = e.length, i = Array(n), o = 0; n > o; o++) i[o] = t[e[o]];
                        return i
                    }, w.mapObject = function (t, e, n) {
                        e = E(e, n);
                        for (var i, o = w.keys(t), r = o.length, s = {}, a = 0; r > a; a++) i = o[a], s[i] = e(t[i], i, t);
                        return s
                    }, w.pairs = function (t) {
                        for (var e = w.keys(t), n = e.length, i = Array(n), o = 0; n > o; o++) i[o] = [e[o], t[e[o]]];
                        return i
                    }, w.invert = function (t) {
                        for (var e = {}, n = w.keys(t), i = 0, o = n.length; o > i; i++) e[t[n[i]]] = n[i];
                        return e
                    }, w.functions = w.methods = function (t) {
                        var e = [];
                        for (var n in t) w.isFunction(t[n]) && e.push(n);
                        return e.sort()
                    }, w.extend = A(w.allKeys), w.extendOwn = w.assign = A(w.keys), w.findKey = function (t, e, n) {
                        e = E(e, n);
                        for (var i, o = w.keys(t), r = 0, s = o.length; s > r; r++) if (i = o[r], e(t[i], i, t)) return i
                    }, w.pick = function (t, e, n) {
                        var i, o, r = {}, s = t;
                        if (null == s) return r;
                        w.isFunction(e) ? (o = w.allKeys(s), i = x(e, n)) : (o = _(arguments, !1, !1, 1), i = function (t, e, n) {
                            return e in n
                        }, s = Object(s));
                        for (var a = 0, l = o.length; l > a; a++) {
                            var c = o[a], d = s[c];
                            i(d, c, s) && (r[c] = d)
                        }
                        return r
                    }, w.omit = function (t, e, n) {
                        if (w.isFunction(e)) e = w.negate(e); else {
                            var i = w.map(_(arguments, !1, !1, 1), String);
                            e = function (t, e) {
                                return !w.contains(i, e)
                            }
                        }
                        return w.pick(t, e, n)
                    }, w.defaults = A(w.allKeys, !0), w.create = function (t, e) {
                        var n = S(t);
                        return e && w.extendOwn(n, e), n
                    }, w.clone = function (t) {
                        return w.isObject(t) ? w.isArray(t) ? t.slice() : w.extend({}, t) : t
                    }, w.tap = function (t, e) {
                        return e(t), t
                    }, w.isMatch = function (t, e) {
                        var n = w.keys(e), i = n.length;
                        if (null == t) return !i;
                        for (var o = Object(t), r = 0; i > r; r++) {
                            var s = n[r];
                            if (e[s] !== o[s] || !(s in o)) return !1
                        }
                        return !0
                    };
                    var B = function (t, e, n, i) {
                        if (t === e) return 0 !== t || 1 / t === 1 / e;
                        if (null == t || null == e) return t === e;
                        t instanceof w && (t = t._wrapped), e instanceof w && (e = e._wrapped);
                        var o = p.call(t);
                        if (o !== p.call(e)) return !1;
                        switch (o) {
                            case"[object RegExp]":
                            case"[object String]":
                                return "" + t == "" + e;
                            case"[object Number]":
                                return +t !== +t ? +e !== +e : 0 === +t ? 1 / +t === 1 / e : +t === +e;
                            case"[object Date]":
                            case"[object Boolean]":
                                return +t === +e
                        }
                        var r = "[object Array]" === o;
                        if (!r) {
                            if ("object" != typeof t || "object" != typeof e) return !1;
                            var s = t.constructor, a = e.constructor;
                            if (s !== a && !(w.isFunction(s) && s instanceof s && w.isFunction(a) && a instanceof a) && "constructor" in t && "constructor" in e) return !1
                        }
                        n = n || [], i = i || [];
                        for (var l = n.length; l--;) if (n[l] === t) return i[l] === e;
                        if (n.push(t), i.push(e), r) {
                            if (l = t.length, l !== e.length) return !1;
                            for (; l--;) if (!B(t[l], e[l], n, i)) return !1
                        } else {
                            var c, d = w.keys(t);
                            if (l = d.length, w.keys(e).length !== l) return !1;
                            for (; l--;) if (c = d[l], !w.has(e, c) || !B(t[c], e[c], n, i)) return !1
                        }
                        return n.pop(), i.pop(), !0
                    };
                    w.isEqual = function (t, e) {
                        return B(t, e)
                    }, w.isEmpty = function (t) {
                        return null == t ? !0 : R(t) && (w.isArray(t) || w.isString(t) || w.isArguments(t)) ? 0 === t.length : 0 === w.keys(t).length
                    }, w.isElement = function (t) {
                        return !(!t || 1 !== t.nodeType)
                    }, w.isArray = m || function (t) {
                        return "[object Array]" === p.call(t)
                    }, w.isObject = function (t) {
                        var e = typeof t;
                        return "function" === e || "object" === e && !!t
                    }, w.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function (t) {
                        w["is" + t] = function (e) {
                            return p.call(e) === "[object " + t + "]"
                        }
                    }), w.isArguments(arguments) || (w.isArguments = function (t) {
                        return w.has(t, "callee")
                    }), "function" != typeof /./ && "object" != typeof Int8Array && (w.isFunction = function (t) {
                        return "function" == typeof t || !1
                    }), w.isFinite = function (t) {
                        return isFinite(t) && !isNaN(parseFloat(t))
                    }, w.isNaN = function (t) {
                        return w.isNumber(t) && t !== +t
                    }, w.isBoolean = function (t) {
                        return t === !0 || t === !1 || "[object Boolean]" === p.call(t)
                    }, w.isNull = function (t) {
                        return null === t
                    }, w.isUndefined = function (t) {
                        return void 0 === t
                    }, w.has = function (t, e) {
                        return null != t && f.call(t, e)
                    }, w.noConflict = function () {
                        return s._ = a, this
                    }, w.identity = function (t) {
                        return t
                    }, w.constant = function (t) {
                        return function () {
                            return t
                        }
                    }, w.noop = function () {
                    }, w.property = C, w.propertyOf = function (t) {
                        return null == t ? function () {
                        } : function (e) {
                            return t[e]
                        }
                    }, w.matcher = w.matches = function (t) {
                        return t = w.extendOwn({}, t), function (e) {
                            return w.isMatch(e, t)
                        }
                    }, w.times = function (t, e, n) {
                        var i = Array(Math.max(0, t));
                        e = x(e, n, 1);
                        for (var o = 0; t > o; o++) i[o] = e(o);
                        return i
                    }, w.random = function (t, e) {
                        return null == e && (e = t, t = 0), t + Math.floor(Math.random() * (e - t + 1))
                    }, w.now = Date.now || function () {
                        return (new Date).getTime()
                    };
                    var N = {"&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;"},
                        L = w.invert(N), F = function (t) {
                            var e = function (e) {
                                return t[e]
                            }, n = "(?:" + w.keys(t).join("|") + ")", i = RegExp(n), o = RegExp(n, "g");
                            return function (t) {
                                return t = null == t ? "" : "" + t, i.test(t) ? t.replace(o, e) : t
                            }
                        };
                    w.escape = F(N), w.unescape = F(L), w.result = function (t, e, n) {
                        var i = null == t ? void 0 : t[e];
                        return void 0 === i && (i = n), w.isFunction(i) ? i.call(t) : i
                    };
                    var U = 0;
                    w.uniqueId = function (t) {
                        var e = ++U + "";
                        return t ? t + e : e
                    }, w.templateSettings = {
                        evaluate: /<%([\s\S]+?)%>/g,
                        interpolate: /<%=([\s\S]+?)%>/g,
                        escape: /<%-([\s\S]+?)%>/g
                    };
                    var M = /(.)^/,
                        P = {"'": "'", "\\": "\\", "\r": "r", "\n": "n", "\u2028": "u2028", "\u2029": "u2029"},
                        G = /\\|'|\r|\n|\u2028|\u2029/g, j = function (t) {
                            return "\\" + P[t]
                        };
                    w.template = function (t, e, n) {
                        !e && n && (e = n), e = w.defaults({}, e, w.templateSettings);
                        var i = RegExp([(e.escape || M).source, (e.interpolate || M).source, (e.evaluate || M).source].join("|") + "|$", "g"),
                            o = 0, r = "__p+='";
                        t.replace(i, function (e, n, i, s, a) {
                            return r += t.slice(o, a).replace(G, j), o = a + e.length, n ? r += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'" : i ? r += "'+\n((__t=(" + i + "))==null?'':__t)+\n'" : s && (r += "';\n" + s + "\n__p+='"), e
                        }), r += "';\n", e.variable || (r = "with(obj||{}){\n" + r + "}\n"), r = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + r + "return __p;\n";
                        try {
                            var s = new Function(e.variable || "obj", "_", r)
                        } catch (a) {
                            throw a.source = r, a
                        }
                        var l = function (t) {
                            return s.call(this, t, w)
                        }, c = e.variable || "obj";
                        return l.source = "function(" + c + "){\n" + r + "}", l
                    }, w.chain = function (t) {
                        var e = w(t);
                        return e._chain = !0, e
                    };
                    var z = function (t, e) {
                        return t._chain ? w(e).chain() : e
                    };
                    w.mixin = function (t) {
                        w.each(w.functions(t), function (e) {
                            var n = w[e] = t[e];
                            w.prototype[e] = function () {
                                var t = [this._wrapped];
                                return u.apply(t, arguments), z(this, n.apply(w, t))
                            }
                        })
                    }, w.mixin(w), w.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function (t) {
                        var e = l[t];
                        w.prototype[t] = function () {
                            var n = this._wrapped;
                            return e.apply(n, arguments), "shift" !== t && "splice" !== t || 0 !== n.length || delete n[0], z(this, n)
                        }
                    }), w.each(["concat", "join", "slice"], function (t) {
                        var e = l[t];
                        w.prototype[t] = function () {
                            return z(this, e.apply(this._wrapped, arguments))
                        }
                    }), w.prototype.value = function () {
                        return this._wrapped
                    }, w.prototype.valueOf = w.prototype.toJSON = w.prototype.value, w.prototype.toString = function () {
                        return "" + this._wrapped
                    }, "function" == typeof define && define.amd && define("underscore", [], function () {
                        return w
                    })
                }).call(this)
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/node_modules/underscore/underscore.js", "/node_modules/underscore")
        }, {_process: 6, buffer: 2}],
        58: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("loglevel"), h = function (t) {
                    this.el = t, this.$el = $(t), this.doc = this.$el.data("EquEdit-doc")
                };
                h.prototype = {
                    dump: function () {
                        return btoa(JSON.stringify(this.doc.dump()))
                    }, load: function (t) {
                        try {
                            t = JSON.parse(atob(t))
                        } catch (e) {
                            u.warn("EquEdit: Invalid Equation"), t = null
                        }
                        t && this.doc.load(t)
                    }, latex: function (t) {
                        if (t) this.doc.load({content: [{type: "SeaGlass-IO-Math", code: t}]}); else try {
                            return this.doc.dump().content[0].code
                        } catch (e) {
                            return ""
                        }
                    }, empty: function () {
                        this.doc.load({content: [{type: "SeaGlass-IO-Math"}]})
                    }, focus: function () {
                        this.doc.focus()
                    }
                }, e.exports = h
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/Editor.js", "/src")
        }, {_process: 6, buffer: 2, loglevel: 8}],
        59: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("seaglass"), h = t("loglevel"), p = t("onclick"), f = t("./toolbar"), m = t("./Editor");
                t("./index.less"), u.showMobileKeyboard = !0;
                var g = function (t) {
                    return new m(t)
                };
                g.init = function (t) {
                    var e = g.getMaths(t);
                    e.html("").attr("role", "math").each(function () {
                        var t = $(this), e = this.getAttribute("data-math");
                        if (e) try {
                            e = JSON.parse(atob(e))
                        } catch (n) {
                            h.warn("EquEdit: Invalid Equation"), e = null
                        }
                        var i = u.create(u.Document, {
                            $wrapper: t,
                            content: e || {content: [{type: "SeaGlass-IO-Math"}]},
                            onFocus: function (t, e) {
                                this.$wrapper.is("[data-editable]") && (e.$wrapper.addClass("EquEdit-Focused"), f.show(e))
                            },
                            onBlur: function (t, e) {
                                e.$wrapper.removeClass("EquEdit-Focused"), f.hide(), e.$wrapper.attr("data-math", btoa(JSON.stringify(e.dump())))
                            },
                            readonly: !t.is("[data-editable]")
                        });
                        t.data("EquEdit-doc", i)
                    }), p("[data-math][data-editable]", function () {
                        var t = $(this);
                        !t.hasClass("EquEdit-Focused") && t.hasClass("SeaGlass-empty") && t.data("EquEdit-doc").focus()
                    }), e.add(e.find(".SeaGlass-IO-Math")).attr("contenteditable", !1)
                }, g.edit = function (t) {
                    var e = g.getMaths(t);
                    e.each(function () {
                        u.get(this).makeEditable()
                    }), e.attr("data-editable", "")
                }, g.create = function () {
                    var t = $("<div data-math>");
                    return g.init(t), t
                }, g.insertAtCursor = function () {
                }, g.getMaths = function (t) {
                    return $(t).find("[data-math]").addBack("data-math")
                }, $(function () {
                    g.init("body")
                }), e.exports = g
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/index.js", "/src")
        }, {
            "./Editor": 58,
            "./index.less": 60,
            "./toolbar": 68,
            _process: 6,
            buffer: 2,
            loglevel: 8,
            onclick: 10,
            seaglass: 11
        }],
        60: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".SeaGlass-IO-Math{padding:0 !important}[data-math] *{top:auto;bottom:auto;left:auto;right:auto;line-height:1}.SeaGlass-Document[data-math]{display:inline-block;width:auto;padding:4px 6px;border:1px solid transparent}.SeaGlass-Document[data-math].EquEdit-Focused{background:#ededed}.SeaGlass-Document[data-math].SeaGlass-empty{background:#ededed}.SeaGlass-Document[data-math].SeaGlass-empty:before{content:''}.SeaGlass-Document[data-math] .mathquill-rendered-math .sqrt-stem{margin-top:0}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/index.less", "/src")
        }, {_process: 6, buffer: 2}],
        61: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("jade/runtime");
                e.exports = function (t) {
                    var e = [];
                    return e.push('<div class="EquEdit-toolbar-row"><button data-command="\\cong" data-constant="data-constant">&cong;</button><button data-command="\\simeq" data-constant="data-constant">&simeq;</button><button data-command="\\sim" data-constant="data-constant">&sim;</button><button data-command="\\angle" data-constant="data-constant">&ang;</button><button data-command="\\bot" data-constant="data-constant">&perp;</button><button data-command="\\parallel" data-constant="data-constant">&parallel;</button><button data-command="\\prop" data-constant="data-constant">&prop;</button><button data-command="\\deg" data-constant="data-constant">&deg;</button></div><div class="EquEdit-toolbar-row"><button data-command="\\ncong" data-constant="data-constant">&ncong;</button><button data-command="\\nsimeq" data-constant="data-constant">&nsimeq;</button><button data-command="\\nsim" data-constant="data-constant">&nsim;</button><button data-command="\\msdangle" data-constant="data-constant">&angmsd;</button><button data-command="\\top" data-constant="data-constant">&#8868;</button><button data-command="\\nparallel" data-constant="data-constant">&nparallel;</button><button data-command="\\exists" data-constant="data-constant">&Exists;</button><button data-command="\\%">%</button></div>'), e.join("")
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/geometry/index.jade", "/src/toolbar/geometry")
        }, {_process: 6, buffer: 2, "jade/runtime": 7}],
        62: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("./index.less"), e.exports = t("./index.jade")()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/geometry/index.js", "/src/toolbar/geometry")
        }, {"./index.jade": 61, "./index.less": 63, _process: 6, buffer: 2}],
        63: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = "";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/geometry/index.less", "/src/toolbar/geometry")
        }, {_process: 6, buffer: 2}],
        64: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("jade/runtime");
                e.exports = function (t) {
                    var e = [];
                    return e.push('<div class="EquEdit-toolbar-row"><button data-command="\\alpha" data-constant="data-constant">&alpha;</button><button data-command="\\beta" data-constant="data-constant">&beta;</button><button data-command="\\gamma" data-constant="data-constant">&gamma;</button><button data-command="\\delta" data-constant="data-constant">&delta;</button><button data-command="\\epsilon" data-constant="data-constant">&epsilon;</button><button data-command="\\zeta" data-constant="data-constant">&zeta;</button><button data-command="\\eta" data-constant="data-constant">&eta;</button><button data-command="\\theta" data-constant="data-constant">&theta;</button><button data-command="\\iota" data-constant="data-constant">&iota;</button><button data-command="\\kappa" data-constant="data-constant">&kappa;</button><button data-command="\\lambda" data-constant="data-constant">&lambda;</button><button data-command="\\mu" data-constant="data-constant">&mu;</button><button data-command="\\nu" data-constant="data-constant">&nu;</button><button data-command="\\xi" data-constant="data-constant">&xi;</button><button data-command="\\text{o}">              &omicron;</button><button data-command="\\pi" data-constant="data-constant">&pi;</button><button data-command="\\rho" data-constant="data-constant">&rho;</button><button data-command="\\sigma" data-constant="data-constant">&sigma;</button><button data-command="\\tau" data-constant="data-constant">&tau;</button><button data-command="\\upsilon" data-constant="data-constant">&upsilon;</button><button data-command="\\phi" data-constant="data-constant">&phi;</button><button data-command="\\chi" data-constant="data-constant">&chi;</button><button data-command="\\psi" data-constant="data-constant">&psi;</button><button data-command="\\omega" data-constant="data-constant">&omega;</button></div><div class="EquEdit-toolbar-row"><button data-command="\\text{A}">              &Alpha;</button><button data-command="\\text{B}">              &Beta;</button><button data-command="\\Gamma" data-constant="data-constant">&Gamma;</button><button data-command="\\Delta" data-constant="data-constant">&Delta;</button><button data-command="\\text{E}">              &Epsilon;</button><button data-command="\\text{Z}">              &Zeta;</button><button data-command="\\text{H}">              &Eta;</button><button data-command="\\Theta" data-constant="data-constant">&Theta;</button><button data-command="\\text{I}">              &Iota;</button><button data-command="\\text{K}">              &Kappa;</button><button data-command="\\Lambda" data-constant="data-constant">&Lambda;</button><button data-command="\\text{M}">              &Mu;</button><button data-command="\\text{N}">              &Nu;</button><button data-command="\\Xi" data-constant="data-constant">&Xi;</button><button data-command="\\text{O}">              &Omicron;</button><button data-command="\\Pi" data-constant="data-constant">&Pi;</button><button data-command="\\text{P}">              &Rho;</button><button data-command="\\Sigma" data-constant="data-constant">&Sigma;</button><button data-command="\\text{T}">              &Tau;</button><button data-command="\\text{Y}">              &Upsilon;</button><button data-command="\\Phi" data-constant="data-constant">&Phi;</button><button data-command="\\text{X}">              &Chi;</button><button data-command="\\Psi" data-constant="data-constant">&Psi;</button><button data-command="\\Omega" data-constant="data-constant">&Omega;</button></div>'), e.join("")
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/greek/index.jade", "/src/toolbar/greek")
        }, {_process: 6, buffer: 2, "jade/runtime": 7}],
        65: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("./index.less"), e.exports = t("./index.jade")()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/greek/index.js", "/src/toolbar/greek")
        }, {"./index.jade": 64, "./index.less": 66, _process: 6, buffer: 2}],
        66: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");

                    e.type = "text/css";
                    var n = "";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/greek/index.less", "/src/toolbar/greek")
        }, {_process: 6, buffer: 2}],
        67: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("jade/runtime");
                e.exports = function (t) {
                    var e = [];
                    return e.push('<div class="EquEdit-toolbar-arrow"></div><div contenteditable="false" class="EquEdit-toolbar-primary"><button data-panel="operator" data-command="\\div" data-constant="data-constant">÷</button><button data-panel="position" data-command="\\/" data-constant="data-constant" class="mathquill-rendered-math EquEdit-button-small"><div class="fraction"><div class="numerator EquEdit-empty"></div><div class="denominator EquEdit-empty"></div></div></button><button data-panel="parentheses" data-command="\\(" data-constant="data-constant" data-simple="data-simple">(<span class=\'EquEdit-empty\'></span>)</button><button data-panel="comparators" data-command="=" data-simple="data-simple">=</button><button data-panel="greek" data-command="\\pi" data-constant="data-constant" data-complex="data-complex">π</button><button data-panel="integral" data-command="\\int" data-complex="data-complex">∫<div class="EquEdit-empty"></div></button><button data-panel="set" data-command="\\in" data-constant="data-constant" data-complex="data-complex">&isin;</button><button data-panel="geometry" data-command="\\msdangle" data-constant="data-constant" data-complex="data-complex">&angmsd;</button></div><div contenteditable="false" class="EquEdit-toolbar-secondary"></div>'), e.join("")
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/index.jade", "/src/toolbar")
        }, {_process: 6, buffer: 2, "jade/runtime": 7}],
        68: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                var u = t("onclick");
                t("./index.less");
                var h, p, f = $('<div class="EquEdit-Toolbar" contenteditable="false">').html(t("./index.jade")()),
                    m = f.find(".EquEdit-toolbar-arrow"), g = f.find(".EquEdit-toolbar-primary"),
                    b = f.find(".EquEdit-toolbar-secondary"), v = f.find(".EquEdit-toolbar-primary button"), y = {
                        geometry: t("./geometry"),
                        greek: t("./greek"),
                        integral: t("./integral"),
                        operator: t("./operator"),
                        position: t("./position"),
                        set: t("./set"),
                        comparators: t("./simple-comparators"),
                        parentheses: t("./simple-parentheses")
                    };
                $(function () {
                    var t = 170, e = 6, n = $(window);
                    h = function () {
                        function i(t) {
                            var n = t.outerWidth(), i = (n - s) / 2;
                            o.right = l + d - s - o.left, o.left < i ? t.css("left", -o.left + e) : o.left > i && o.right > i ? t.css("left", -i) : t.css("left", -i - i + o.right - e)
                        }

                        if (p) {
                            var o = p.$wrapper.offset(), r = p.$wrapper.outerHeight(), s = p.$wrapper.outerWidth(),
                                a = n.height(), l = n.width(), c = n.scrollTop(), d = n.scrollLeft();
                            o.top - c + r + t > a ? f.addClass("EquEdit-Toolbar-above").css("top", "auto").css("bottom", a - o.top) : f.removeClass("EquEdit-Toolbar-above").css("top", o.top + r).css("bottom", "auto"), f.css("left", o.left), m.css("left", s / 2), i(g), i(b)
                        }
                    }, setInterval(h, 100);
                    var i = function () {
                        var t = $(this).closest("button"), e = t.attr("data-panel");
                        b.html(y[e]).attr("data-panel", e), v.removeClass("EquEdit-toolbar-active"), t.addClass("EquEdit-toolbar-active"), h()
                    };
                    u.isTouch && u("button[data-panel]", i), f.on("mouseover", "button[data-panel]", i), f.on("mousedown touchstart", function (t) {
                        t.preventDefault()
                    }), u(".EquEdit-Toolbar button", function (t) {
                        var e = $(this).closest("button"), n = e.attr("data-command");
                        "data-constant" == e.attr("data-constant") ? SeaGlass.pasteFunction(n) : SeaGlass.pasteLatex(n)
                    }), f.appendTo("body").hide()
                }), e.exports = {
                    show: function (t) {
                        p = t, f[p.$wrapper.is("[data-simple]") ? "addClass" : "removeClass"]("EquEdit-toolbar-simplemode"), f.show(), h()
                    }, hide: function () {
                        f.hide(), b.html(""), f.find(".EquEdit-toolbar-active").removeClass("EquEdit-toolbar-active")
                    }
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/index.js", "/src/toolbar")
        }, {
            "./geometry": 62,
            "./greek": 65,
            "./index.jade": 67,
            "./index.less": 69,
            "./integral": 71,
            "./operator": 74,
            "./position": 77,
            "./set": 80,
            "./simple-comparators": 83,
            "./simple-parentheses": 86,
            _process: 6,
            buffer: 2,
            onclick: 10
        }],
        69: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".EquEdit-Toolbar{position:absolute;z-index:1000;font-size:1rem;font-weight:normal}.EquEdit-Toolbar.EquEdit-Toolbar-above{margin-bottom:10px}.EquEdit-Toolbar:not(.EquEdit-Toolbar-above){margin-top:10px}.EquEdit-Toolbar .EquEdit-toolbar-arrow{position:absolute;margin-left:-10px;border-left:10px solid transparent;border-right:10px solid transparent;z-index:1}.EquEdit-Toolbar.EquEdit-Toolbar-above .EquEdit-toolbar-arrow{bottom:-10px;border-top:10px solid #2a2a2a}.EquEdit-Toolbar:not(.EquEdit-Toolbar-above) .EquEdit-toolbar-arrow{top:-10px;border-bottom:10px solid #2a2a2a}.EquEdit-Toolbar .EquEdit-toolbar-primary,.EquEdit-Toolbar .EquEdit-toolbar-secondary{-moz-box-shadow:0 0 5px rgba(0, 0, 0, 0.5);-webkit-box-shadow:0 0 5px rgba(0, 0, 0, 0.5);box-shadow:0 0 5px rgba(0, 0, 0, 0.5)}.EquEdit-Toolbar .EquEdit-toolbar-primary{position:absolute;overflow:hidden;white-space:nowrap;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.EquEdit-Toolbar .EquEdit-toolbar-primary button.EquEdit-toolbar-active{background:#505050}.EquEdit-Toolbar.EquEdit-Toolbar-above .EquEdit-toolbar-primary{bottom:0}.EquEdit-Toolbar .EquEdit-toolbar-secondary{position:absolute;background:#2a2a2a;overflow:hidden;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.EquEdit-Toolbar .EquEdit-toolbar-secondary button:hover{background:#505050}.EquEdit-Toolbar.EquEdit-Toolbar-above .EquEdit-toolbar-secondary{bottom:34px}.EquEdit-Toolbar:not(.EquEdit-Toolbar-above) .EquEdit-toolbar-secondary{top:34px}.EquEdit-Toolbar .EquEdit-toolbar-row{white-space:nowrap;text-align:center}.EquEdit-Toolbar button{font-family:Symbola;font-size:1em;cursor:pointer;width:30px;height:30px;vertical-align:top;background:#2a2a2a;border:none;color:white;padding:0}.EquEdit-Toolbar button.EquEdit-button-small{font-size:.85em}.EquEdit-Toolbar sub+sup{margin-left:-0.6em}.EquEdit-Toolbar .EquEdit-empty{display:inline-block}.EquEdit-Toolbar .EquEdit-empty:before{content:'□';display:inline-block;margin:0 -0.08em;color:#ccc;-webkit-transform:scale(0.7, 1);-moz-transform:scale(0.7, 1);-o-transform:scale(0.7, 1);-ms-transform:scale(0.7, 1);transform:scale(0.7, 1)}.EquEdit-Toolbar .mathquill-rendered-math .fraction{width:14px;display:inline-block;vertical-align:middle}.EquEdit-Toolbar.EquEdit-toolbar-simplemode [data-complex],.EquEdit-Toolbar:not(.EquEdit-toolbar-simplemode) [data-simple]{display:none}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/index.less", "/src/toolbar")
        }, {_process: 6, buffer: 2}],
        70: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("jade/runtime");
                e.exports = function (t) {
                    var e = [];
                    return e.push('<div class="EquEdit-toolbar-row"><button data-command="\\int" class="EquEdit-button-small">&int;<div class="EquEdit-empty"></div></button><button data-command="\\iint" class="EquEdit-button-small">&Int;<div class="EquEdit-empty"></div></button><button data-command="\\iiint" class="EquEdit-button-small">&tint;<div class="EquEdit-empty"></div></button><button data-command="\\oint" class="EquEdit-button-small">&conint;<div class="EquEdit-empty"></div></button><button data-command="\\oiint" class="EquEdit-button-small">&Conint;<div class="EquEdit-empty"></div></button><button data-command="\\oiiint" class="EquEdit-button-small">&Cconint;<div class="EquEdit-empty"></div></button><button data-command="\\sum" class="EquEdit-button-small">&sum;<div class="EquEdit-empty"></div></button><button data-command="\\prod" class="EquEdit-button-small">&prod;<div class="EquEdit-empty"></div></button><button data-command="\\coprod" class="EquEdit-button-small">&coprod;<div class="EquEdit-empty"></div></button></div><div class="EquEdit-toolbar-row"><button data-command="\\int_{}^{}" class="EquEdit-button-small">&int;<sub class="EquEdit-empty"></sub><sup class="EquEdit-empty"></sup><div class="EquEdit-empty"></div></button><button data-command="\\iint_{}" class="EquEdit-button-small">&Int;<sub class="EquEdit-empty"></sub><div class="EquEdit-empty"></div></button><button data-command="\\iiint_{}" class="EquEdit-button-small">&tint;<sub class="EquEdit-empty"></sub><div class="EquEdit-empty"></div></button><button data-command="\\oint_{}^{}" class="EquEdit-button-small">&conint;<sub class="EquEdit-empty"></sub><sup class="EquEdit-empty"></sup><div class="EquEdit-empty"></div></button><button data-command="\\oiint_{}" class="EquEdit-button-small">&Conint;<sub class="EquEdit-empty"></sub><div class="EquEdit-empty"></div></button><button data-command="\\oiiint_{}" class="EquEdit-button-small">&Cconint;<sub class="EquEdit-empty"></sub><div class="EquEdit-empty"></div></button><button data-command="\\sum_{}^{}" class="EquEdit-button-small">&sum;<sub class="EquEdit-empty"></sub><sup class="EquEdit-empty"></sup><div class="EquEdit-empty"></div></button><button data-command="\\prod_{}^{}" class="EquEdit-button-small">&prod;<sub class="EquEdit-empty"></sub><sup class="EquEdit-empty"></sup><div class="EquEdit-empty"></div></button><button data-command="\\coprod_{}^{}" class="EquEdit-button-small">&coprod;<sub class="EquEdit-empty"></sub><sup class="EquEdit-empty"></sup><div class="EquEdit-empty"></div></button></div>'), e.join("")
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/integral/index.jade", "/src/toolbar/integral")
        }, {_process: 6, buffer: 2, "jade/runtime": 7}],
        71: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("./index.less"), e.exports = t("./index.jade")()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/integral/index.js", "/src/toolbar/integral")
        }, {"./index.jade": 70, "./index.less": 72, _process: 6, buffer: 2}],
        72: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".EquEdit-toolbar-secondary[data-panel='integral'] button{width:38px}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/integral/index.less", "/src/toolbar/integral")
        }, {_process: 6, buffer: 2}],
        73: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("jade/runtime");
                e.exports = function (t) {
                    var e = [];
                    return e.push('<div data-simple="data-simple" class="EquEdit-toolbar-row"><button data-command="+">+</button><button data-command="-">-</button><button data-command="\\times" data-constant="data-constant">&times;</button><button data-command="\\div" data-constant="data-constant">÷</button><button data-command="\\cdot" data-constant="data-constant">&sdot;</button><button data-command="\\slash" data-constant="data-constant">&sol;</button></div><div data-complex="data-complex" class="EquEdit-toolbar-row"><button data-command="\\times" data-constant="data-constant">&times;</button><button data-command="\\div" data-constant="data-constant">÷</button><button data-command="\\ast" data-constant="data-constant">&lowast;</button><button data-command="\\lt" data-constant="data-constant">&lt;</button><button data-command="\\le" data-constant="data-constant">&le;</button><button data-command="=" data-complex="data-complex">=</button><button data-command="\\ge" data-constant="data-constant">&ge;</button><button data-command="\\gt" data-constant="data-constant">&gt;</button></div><div data-complex="data-complex" class="EquEdit-toolbar-row"><button data-command="\\cdot" data-constant="data-constant">&sdot;</button><button data-command="\\slash" data-constant="data-constant">&sol;</button><button data-command="\\circ" data-constant="data-constant">&compfn;</button><button data-command="\\nless" data-constant="data-constant">&nlt;</button><button data-command="\\nleq" data-constant="data-constant">&nle;</button><button data-command="\\ne" data-constant="data-constant">&ne;</button><button data-command="\\ngeq" data-constant="data-constant">&nge;</button><button data-command="\\ngtr" data-constant="data-constant">&ngt;</button></div><div data-complex="data-complex" class="EquEdit-toolbar-row"><button data-command="\\pm" data-constant="data-constant">&pm;</button><button data-command="\\inf" data-constant="data-constant">&infin;</button><button data-command="\\partial" data-constant="data-constant">&part;</button><button data-command="\\therefore" data-constant="data-constant">&therefore;</button><button data-command="\\Leftarrow" data-constant="data-constant">&lArr;</button><button data-command="\\Leftrightarrow" data-constant="data-constant">&#8660;</button><button data-command="\\Rightarrow" data-constant="data-constant">&rArr;</button><button data-command="\\approx" data-constant="data-constant">&approx;</button></div><div data-complex="data-complex" class="EquEdit-toolbar-row"><button data-command="\\mp" data-constant="data-constant">&mp;</button><button data-command="\\aleph" data-constant="data-constant">&alefsym;</button><button data-command="\\nabla" data-constant="data-constant">&nabla;</button><button data-command="\\because" data-constant="data-constant">&because;</button><button data-command="\\leftarrow" data-constant="data-constant">&larr;</button><button data-command="\\leftrightarrow" data-constant="data-constant">&#8596;</button><button data-command="\\rightarrow" data-constant="data-constant">&rarr;</button><button data-command="\\vdots" data-constant="data-constant">&#8942;</button></div>'), e.join("")
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/operator/index.jade", "/src/toolbar/operator")
        }, {_process: 6, buffer: 2, "jade/runtime": 7}],
        74: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("./index.less"), e.exports = t("./index.jade")()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/operator/index.js", "/src/toolbar/operator")
        }, {"./index.jade": 73, "./index.less": 75, _process: 6, buffer: 2}],
        75: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = "";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/operator/index.less", "/src/toolbar/operator")
        }, {_process: 6, buffer: 2}],
        76: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("jade/runtime");
                e.exports = function (t) {
                    var e = [];
                    return e.push('<div class="EquEdit-toolbar-row"><button data-command="\\/" data-constant="data-constant" class="mathquill-rendered-math EquEdit-button-small"><div class="fraction"><div class="numerator EquEdit-empty"></div><div class="denominator EquEdit-empty"></div></div></button><button data-command="\\frac" data-constant="data-constant" class="mathquill-rendered-math EquEdit-button-small"><span class="EquEdit-empty"></span><div class="fraction"><div class="numerator EquEdit-empty"></div><div class="denominator EquEdit-empty"></div></div></button><button data-command="\\^" data-constant="data-constant"><div class="EquEdit-empty"></div><sup class="EquEdit-empty"></sup></button><button data-command="\\sqrt" data-constant="data-constant" class="mathquill-rendered-math EquEdit-button-small"><div class="non-leaf"><div style="transform: scale(1, 0.9);" class="sqrt-prefix scaled">√</div><div class="non-leaf sqrt-stem EquEdit-empty"></div></div></button><button data-command="\\nthroot" data-constant="data-constant" data-complex="data-complex" class="mathquill-rendered-math EquEdit-button-small"><sup class="nthroot EquEdit-empty"></sup><div class="scaled"><div style="transform: scale(1, 0.9);" class="sqrt-prefix scaled">√</div><div class="sqrt-stem non-leaf EquEdit-empty"></div></div></button><button data-command="\\ln\\(" data-constant="data-constant" data-complex="data-complex" class="EquEdit-button-small">ln&nbsp;<div class="EquEdit-empty"></div></button><button data-command="\\log\\(" data-constant="data-constant" data-complex="data-complex" class="EquEdit-button-small">log&nbsp;<div class="EquEdit-empty"></div></button><button data-command="\\log\\_{}\\left(\\right)" data-complex="data-complex" class="EquEdit-button-small">log<sub class="EquEdit-empty"></sub><div class="EquEdit-empty"></div></button></div><div data-complex="data-complex" class="EquEdit-toolbar-row"><button data-command="\\(" data-constant="data-constant" class="EquEdit-button-small">(<span class=\'EquEdit-empty\'></span>)</button><button data-command="\\{" data-constant="data-constant" class="EquEdit-button-small">{<span class=\'EquEdit-empty\'></span>}</button><button data-command="\\[" data-constant="data-constant" class="EquEdit-button-small">[<span class=\'EquEdit-empty\'></span>]</button><button data-command="\\lang" data-constant="data-constant" class="EquEdit-button-small">⟨<span class=\'EquEdit-empty\'></span>⟩</button><button data-command="\\|" data-constant="data-constant" class="EquEdit-button-small">|<span class=\'EquEdit-empty\'></span>|</button><button data-command="\\lfloor" data-constant="data-constant" class="EquEdit-button-small">&#8970;<span class=\'EquEdit-empty\'></span>&#8971;</button><button data-command="\\lceil" data-constant="data-constant" class="EquEdit-button-small"> &#8968;<span class=\'EquEdit-empty\'></span>&#8969;</button><button data-command="\\bar" data-constant="data-constant" class="EquEdit-button-small mathquill-rendered-math"><div class="overline EquEdit-empty"></div></button></div>'), e.join("")
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/position/index.jade", "/src/toolbar/position")
        }, {_process: 6, buffer: 2, "jade/runtime": 7}],
        77: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("./index.less"), e.exports = t("./index.jade")()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/position/index.js", "/src/toolbar/position")
        }, {"./index.jade": 76, "./index.less": 78, _process: 6, buffer: 2}],
        78: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = ".EquEdit-toolbar-secondary[data-panel='position'] button{width:38px}.EquEdit-toolbar-secondary[data-panel='position'] .overline{border-top-color:white}";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/position/index.less", "/src/toolbar/position")
        }, {_process: 6, buffer: 2}],
        79: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("jade/runtime");
                e.exports = function (t) {
                    var e = [];
                    return e.push('<div class="EquEdit-toolbar-row"><button data-command="\\cup" data-constant="data-constant">&cup;</button><button data-command="\\cap" data-constant="data-constant">&cap;</button><button data-command="\\uplus" data-constant="data-constant">&uplus;</button><button data-command="\\sqcup" data-constant="data-constant">&sqcup;</button><button data-command="\\sqcap" data-constant="data-constant">&sqcap;</button><button data-command="\\equiv" data-constant="data-constant">&equiv;</button><button data-command="\\nequiv" data-constant="data-constant">&nequiv;</button><button data-command="\\varnothing" data-constant="data-constant">&empty;</button></div><div class="EquEdit-toolbar-row"><button data-command="\\subset" data-constant="data-constant">&sub;</button><button data-command="\\subseteq" data-constant="data-constant">&sube;</button><button data-command="\\nsubset" data-constant="data-constant">&nsub;</button><button data-command="\\sqsubset" data-constant="data-constant">&sqsubset;</button><button data-command="\\sqsubseteq" data-constant="data-constant">&sqsubseteq;</button><button data-command="\\in" data-constant="data-constant">&isin;</button><button data-command="\\notin" data-constant="data-constant">&notin;</button><button data-command="\\ni" data-constant="data-constant">&ni;</button><button data-command="\\notni" data-constant="data-constant">&notni;</button></div><div class="EquEdit-toolbar-row"><button data-command="\\supset" data-constant="data-constant">&sup;</button><button data-command="\\supseteq" data-constant="data-constant">&supe;</button><button data-command="\\nsupset" data-constant="data-constant">&nsup;</button><button data-command="\\sqsupset" data-constant="data-constant">&sqsupset;</button><button data-command="\\sqsupseteq" data-constant="data-constant">&sqsupseteq;</button><button data-command="\\oplus" data-constant="data-constant">&oplus;</button><button data-command="\\ominus" data-constant="data-constant">&ominus;</button><button data-command="\\otimes" data-constant="data-constant">&otimes;</button><button data-command="\\odot" data-constant="data-constant">&odot;</button></div><div class="EquEdit-toolbar-row"><button data-command="\\reals" data-constant="data-constant">&reals;</button><button data-command="\\integers" data-constant="data-constant">&integers;</button><button data-command="\\naturals" data-constant="data-constant">&naturals;</button><button data-command="\\complexes" data-constant="data-constant">&complexes;</button><button data-command="\\rationals" data-constant="data-constant">&rationals;</button><button data-command="\\primes" data-constant="data-constant">&primes;</button><button data-command="\\quaternions" data-constant="data-constant">&quaternions;</button><button data-command="\\Re" data-constant="data-constant">&real;</button><button data-command="\\Im" data-constant="data-constant">&image;</button></div>'), e.join("")
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/set/index.jade", "/src/toolbar/set")
        }, {_process: 6, buffer: 2, "jade/runtime": 7}],
        80: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("./index.less"), e.exports = t("./index.jade")()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/set/index.js", "/src/toolbar/set")
        }, {"./index.jade": 79, "./index.less": 81, _process: 6, buffer: 2}],
        81: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = "";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/set/index.less", "/src/toolbar/set")
        }, {_process: 6, buffer: 2}],
        82: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("jade/runtime");
                e.exports = function (t) {
                    var e = [];
                    return e.push('<div class="EquEdit-toolbar-row"><button data-command="\\lt" data-constant="data-constant">&lt;</button><button data-command="\\le" data-constant="data-constant">&le;</button><button data-command="=">=</button><button data-command="\\ge" data-constant="data-constant">&ge;</button><button data-command="\\gt" data-constant="data-constant">&gt;</button></div><div class="EquEdit-toolbar-row"><button data-command="\\nless" data-constant="data-constant">&nlt;</button><button data-command="\\nleq" data-constant="data-constant">&nle;</button><button data-command="\\ne" data-constant="data-constant">&ne;</button><button data-command="\\ngeq" data-constant="data-constant">&nge;</button><button data-command="\\ngtr" data-constant="data-constant">&ngt;</button></div>'), e.join("")
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/simple-comparators/index.jade", "/src/toolbar/simple-comparators")
        }, {_process: 6, buffer: 2, "jade/runtime": 7}],
        83: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("./index.less"), e.exports = t("./index.jade")()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/simple-comparators/index.js", "/src/toolbar/simple-comparators")
        }, {"./index.jade": 82, "./index.less": 84, _process: 6, buffer: 2}],
        84: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = "";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/simple-comparators/index.less", "/src/toolbar/simple-comparators")
        }, {_process: 6, buffer: 2}],
        85: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("jade/runtime");
                e.exports = function (t) {
                    var e = [];
                    return e.push('<div class="EquEdit-toolbar-row"><button data-command="\\(" data-constant="data-constant" class="EquEdit-button-small">(<span class=\'EquEdit-empty\'></span>)</button><button data-command="\\{" data-constant="data-constant" class="EquEdit-button-small">{<span class=\'EquEdit-empty\'></span>}</button><button data-command="\\[" data-constant="data-constant" class="EquEdit-button-small">[<span class=\'EquEdit-empty\'></span>]</button><button data-command="\\|" data-constant="data-constant" class="EquEdit-button-small">|<span class=\'EquEdit-empty\'></span>|</button></div>'), e.join("")
                }
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/simple-parentheses/index.jade", "/src/toolbar/simple-parentheses")
        }, {_process: 6, buffer: 2, "jade/runtime": 7}],
        86: [function (t, e, n) {
            (function (n, i, o, r, s, a, l, c, d) {
                t("./index.less"), e.exports = t("./index.jade")()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/simple-parentheses/index.js", "/src/toolbar/simple-parentheses")
        }, {"./index.jade": 85, "./index.less": 87, _process: 6, buffer: 2}],
        87: [function (t, e, n) {
            (function (t, e, n, i, o, r, s, a, l) {
                !function () {
                    var t = document.getElementsByTagName("head")[0], e = document.createElement("style");
                    e.type = "text/css";
                    var n = "";
                    e.styleSheet ? e.styleSheet.cssText = n : e.appendChild(document.createTextNode(n)), t.appendChild(e)
                }()
            }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, t("buffer").Buffer, arguments[3], arguments[4], arguments[5], arguments[6], "/src/toolbar/simple-parentheses/index.less", "/src/toolbar/simple-parentheses")
        }, {_process: 6, buffer: 2}]
    }, {}, [59])(59)
});